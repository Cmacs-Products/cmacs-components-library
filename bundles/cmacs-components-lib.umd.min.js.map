{"version":3,"sources":["node_modules/tslib/tslib.es6.js","ng://cmacs-components-lib/lib/components/cmacs-button/cmacs-button.component.ts","ng://cmacs-components-lib/lib/components/cmacs-button/cmacs-button-group.component.ts","ng://cmacs-components-lib/lib/components/cmacs-input/cmacs-input.directive.ts","ng://cmacs-components-lib/lib/components/cmacs-input-number/cmacs-input-number.component.ts","ng://cmacs-components-lib/lib/components/cmacs-input/cmacs-input-group.component.ts","ng://cmacs-components-lib/lib/components/cmacs-date-picker/lib/candy-date/candy-date.ts","ng://cmacs-components-lib/lib/components/cmacs-date-picker/picker.component.ts","ng://cmacs-components-lib/lib/components/cmacs-date-picker/abstract-picker.component.ts","ng://cmacs-components-lib/lib/components/cmacs-date-picker/header-picker.component.ts","ng://cmacs-components-lib/lib/components/cmacs-date-picker/date-range-picker.component.ts","ng://cmacs-components-lib/lib/components/cmacs-date-picker/date-picker.component.ts","ng://cmacs-components-lib/lib/components/cmacs-date-picker/month-picker.component.ts","ng://cmacs-components-lib/lib/components/cmacs-date-picker/year-picker.component.ts","ng://cmacs-components-lib/lib/components/cmacs-date-picker/week-picker.component.ts","ng://cmacs-components-lib/lib/components/cmacs-date-picker/range-picker.component.ts","ng://cmacs-components-lib/lib/components/cmacs-time-picker/cmacs-time-picker.component.ts","ng://cmacs-components-lib/lib/components/cmacs-steps/cmacs-step.component.ts","ng://cmacs-components-lib/lib/components/cmacs-steps/cmacs-wizard.component.ts","ng://cmacs-components-lib/lib/components/cmacs-checkbox/cmacs-checkbox-wrapper.component.ts","ng://cmacs-components-lib/lib/components/cmacs-checkbox/cmacs-checkbox.component.ts","ng://cmacs-components-lib/lib/components/cmacs-checkbox/cmacs-checkbox-group.component.ts","ng://cmacs-components-lib/lib/components/cmacs-radio/cmacs-radio.component.ts","ng://cmacs-components-lib/lib/components/cmacs-radio/cmacs-radio-button.component.ts","ng://cmacs-components-lib/lib/components/cmacs-radio/cmacs-radio-group.component.ts","ng://cmacs-components-lib/lib/components/cmacs-tag/cmacs-tag.component.ts","ng://cmacs-components-lib/lib/components/cmacs-timeline/cmacs-timeline-item.component.ts","ng://cmacs-components-lib/lib/components/cmacs-timeline/cmacs-timeline.components.ts","ng://cmacs-components-lib/lib/components/core/string_template_outlet.ts","ng://cmacs-components-lib/lib/components/cmacs-menu/cmacs-menu-divider.directive.ts","ng://cmacs-components-lib/lib/components/cmacs-menu/cmacs-menu-group.component.ts","ng://cmacs-components-lib/lib/components/cmacs-menu/cmacs-menu.service.ts","ng://cmacs-components-lib/lib/components/cmacs-menu/cmacs-submenu.service.ts","ng://cmacs-components-lib/lib/components/cmacs-menu/cmacs-menu-item.directive.ts","ng://cmacs-components-lib/lib/components/cmacs-menu/cmacs-menu.resolver.ts","ng://cmacs-components-lib/lib/components/cmacs-menu/cmacs-submenu.component.ts","ng://cmacs-components-lib/lib/components/cmacs-menu/cmacs-menu.directive.ts","ng://cmacs-components-lib/lib/components/core/enums/TemplateType.enum.ts","ng://cmacs-components-lib/lib/components/core/enums/CeldType.enum.ts","ng://cmacs-components-lib/lib/components/core/services/excel.service.ts","ng://cmacs-components-lib/lib/components/core/enums/export-type.enum.ts","ng://cmacs-components-lib/lib/components/core/services/util.service.ts","ng://cmacs-components-lib/lib/components/cmacs-grid/cmacs-table.component.ts","ng://cmacs-components-lib/lib/components/cmacs-tree/cmacs-tree.service.ts","ng://cmacs-components-lib/lib/components/cmacs-tree/cmacs-tree.component.ts","ng://cmacs-components-lib/lib/components/cmacs-tree/cmacs-tree-node.component.ts","ng://cmacs-components-lib/lib/components/cmacs-select/cmacs-option.component.ts","ng://cmacs-components-lib/lib/components/cmacs-select/cmacs-option.pipe.ts","ng://cmacs-components-lib/lib/components/cmacs-select/cmacs-select.service.ts","ng://cmacs-components-lib/lib/components/cmacs-select/cmacs-select-top-control.component.ts","ng://cmacs-components-lib/lib/components/cmacs-select/cmacs-option-group.component.ts","ng://cmacs-components-lib/lib/components/cmacs-select/cmacs-select.component.ts","ng://cmacs-components-lib/lib/components/cmacs-search/cmacs-search.component.ts","ng://cmacs-components-lib/lib/components/cmacs-modal/cmacs-modal-config.ts","ng://cmacs-components-lib/lib/components/cmacs-modal/cmacs-modal-control.service.ts","ng://cmacs-components-lib/lib/components/cmacs-modal/cmacs-modal-ref.class.ts","ng://cmacs-components-lib/lib/components/cmacs-modal/cmacs-modal.component.ts","ng://cmacs-components-lib/lib/components/cmacs-modal/cmacs-to-css-unit.pipe.ts","ng://cmacs-components-lib/lib/components/cmacs-breadcrumb/cmacs-breadcrumb.component.ts","ng://cmacs-components-lib/lib/components/cmacs-breadcrumb/cmacs-breadcrumb-item.component.ts","ng://cmacs-components-lib/lib/components/cmacs-card/cmacs-card-tab.component.ts","ng://cmacs-components-lib/lib/components/cmacs-card/cmacs-card.component.ts","ng://cmacs-components-lib/lib/components/cmacs-card/cmacs-card-loading.component.ts","ng://cmacs-components-lib/lib/components/cmacs-card/cmacs-card-meta.component.ts","ng://cmacs-components-lib/lib/components/cmacs-card/cmacs-card-grid.directive.ts","ng://cmacs-components-lib/lib/components/cmacs-calendar/cmacs-calendar-cell.directive.ts","ng://cmacs-components-lib/lib/components/cmacs-calendar/cmacs-calendar-header.component.ts","ng://cmacs-components-lib/lib/components/cmacs-calendar/cmacs-calendar.component.ts","ng://cmacs-components-lib/lib/components/cmacs-date-picker/lib/calendar/calendar-footer.component.ts","ng://cmacs-components-lib/lib/components/cmacs-date-picker/lib/calendar/calendar-header.component.ts","ng://cmacs-components-lib/lib/components/cmacs-date-picker/lib/calendar/calendar-input.component.ts","ng://cmacs-components-lib/lib/components/cmacs-date-picker/lib/calendar/ok-button.component.ts","ng://cmacs-components-lib/lib/components/cmacs-date-picker/lib/calendar/time-picker-button.component.ts","ng://cmacs-components-lib/lib/components/cmacs-date-picker/lib/calendar/today-button.component.ts","ng://cmacs-components-lib/lib/components/cmacs-date-picker/lib/date/date-table.component.ts","ng://cmacs-components-lib/lib/components/cmacs-date-picker/lib/decade/decade-panel.component.ts","ng://cmacs-components-lib/lib/components/cmacs-date-picker/lib/month/month-panel.component.ts","ng://cmacs-components-lib/lib/components/cmacs-date-picker/lib/month/month-table.component.ts","ng://cmacs-components-lib/lib/components/cmacs-date-picker/lib/util.ts","ng://cmacs-components-lib/lib/components/cmacs-date-picker/lib/popups/date-range-popup.component.ts","ng://cmacs-components-lib/lib/components/cmacs-date-picker/lib/popups/inner-popup.component.ts","ng://cmacs-components-lib/lib/components/cmacs-date-picker/lib/year/year-panel.component.ts","ng://cmacs-components-lib/lib/components/cmacs-date-picker/lib/lib-packer.module.ts","ng://cmacs-components-lib/lib/components/cmacs-normalized-horizontal-bar-grouped/cmacs-normalized-horizontal-bar-grouped.component.ts","ng://cmacs-components-lib/lib/components/cmacs-normalized-horizontal-bar-chart/cmacs-normalized-horizontal-bar-chart.component.ts","ng://cmacs-components-lib/lib/components/core/enums/widget-action-type.enum.ts","ng://cmacs-components-lib/lib/components/core/enums/widget-type.enum.ts","ng://cmacs-components-lib/lib/components/cmacs-general-chart/cmacs-general-chart.component.ts","ng://cmacs-components-lib/lib/components/cmacs-combo-chart/cmacs-combo-chart.component.ts","ng://cmacs-components-lib/lib/components/cmacs-combo-series-vertical/cmacs-combo-series-vertical.component.ts","ng://cmacs-components-lib/lib/components/cmacs-kpi/cmacs-kpi.component.ts","ng://cmacs-components-lib/lib/components/cmacs-kpioverview/cmacs-kpioverview.component.ts","ng://cmacs-components-lib/lib/components/cmacs-kpi-group/cmacs-kpi-group.component.ts","ng://cmacs-components-lib/lib/components/cmacs-status-distribution/cmacs-status-distribution.component.ts","ng://cmacs-components-lib/lib/components/cmacs-dropdown/cmacs-dropdown-a.directive.ts","ng://cmacs-components-lib/lib/components/cmacs-dropdown/cmacs-dropdown.directive.ts","ng://cmacs-components-lib/lib/components/cmacs-dropdown/cmacs-menu-dropdown.service.ts","ng://cmacs-components-lib/lib/components/cmacs-dropdown/cmacs-dropdown.component.ts","ng://cmacs-components-lib/lib/components/cmacs-dropdown/cmacs-dropdown-button.component.ts","ng://cmacs-components-lib/lib/components/cmacs-dropdown/cmacs-dropdown-context.component.ts","ng://cmacs-components-lib/lib/components/cmacs-dropdown/cmacs-dropdown.service.ts","ng://cmacs-components-lib/lib/components/cmacs-divider/cmacs-divider.component.ts","ng://cmacs-components-lib/lib/components/cmacs-form/cmacs-form-explain.component.ts","ng://cmacs-components-lib/lib/components/cmacs-form/cmacs-form-item.component.ts","ng://cmacs-components-lib/lib/components/cmacs-form/cmacs-form-control.component.ts","ng://cmacs-components-lib/lib/components/cmacs-form/cmacs-form-extra.component.ts","ng://cmacs-components-lib/lib/components/cmacs-form/cmacs-form-label.component.ts","ng://cmacs-components-lib/lib/components/cmacs-form/cmacs-form-split.component.ts","ng://cmacs-components-lib/lib/components/cmacs-form/cmacs-form-text.component.ts","ng://cmacs-components-lib/lib/components/cmacs-form/cmacs-form.directive.ts","ng://cmacs-components-lib/lib/components/cmacs-progress/cmacs-progress.component.ts","ng://cmacs-components-lib/lib/components/cmacs-floating-menu/cmacs-floating-menu.component.ts","ng://cmacs-components-lib/lib/components/cmacs-select/cmacs-option-li.component.ts","ng://cmacs-components-lib/lib/components/cmacs-select/cmacs-option-container.component.ts","ng://cmacs-components-lib/lib/components/cmacs-select/cmacs-select-unselectable.directive.ts","ng://cmacs-components-lib/lib/components/cmacs-kanban/cmacs-kanban.component.ts","ng://cmacs-components-lib/lib/components/cmacs-alert/cmacs-alert.component.ts","ng://cmacs-components-lib/lib/components/cmacs-comments/cmacs-comment-cells.ts","ng://cmacs-components-lib/lib/components/cmacs-comments/cmacs-comment.component.ts","ng://cmacs-components-lib/lib/components/cmacs-slider/cmacs-slider-track.component.ts","ng://cmacs-components-lib/lib/components/cmacs-slider/cmacs-slider-definitions.ts","ng://cmacs-components-lib/lib/components/cmacs-slider/cmacs-slider.component.ts","ng://cmacs-components-lib/lib/components/cmacs-slider/cmacs-slider-error.ts","ng://cmacs-components-lib/lib/components/cmacs-slider/cmacs-slider-handle.component.ts","ng://cmacs-components-lib/lib/components/cmacs-slider/cmacs-slider-marks.component.ts","ng://cmacs-components-lib/lib/components/cmacs-slider/cmacs-slider-step.component.ts","ng://cmacs-components-lib/lib/components/cmacs-video-player/cmacs-video-player.component.ts","ng://cmacs-components-lib/lib/components/cmacs-datetime-picker/cmacs-datetime-picker.component.ts","ng://cmacs-components-lib/lib/components/cmacs-datetime-picker/cmacs-datetime-value-accessor.directive.ts","ng://cmacs-components-lib/lib/components/cmacs-datetime-picker/time-holder.ts","ng://cmacs-components-lib/lib/components/cmacs-datetime-picker/cmacs-datetime-picker-panel.component.ts","ng://cmacs-components-lib/lib/components/cmacs-phone-number/cmacs-phone-number.component.ts","ng://cmacs-components-lib/lib/components/cmacs-color-picker/cmacs-color-picker.component.ts","ng://cmacs-components-lib/lib/components/cmacs-switch/cmacs-switch.component.ts","ng://cmacs-components-lib/lib/components/cmacs-tabs/cmacs-tab.directive.ts","ng://cmacs-components-lib/lib/components/cmacs-tabs/cmacs-tab-label.directive.ts","ng://cmacs-components-lib/lib/components/cmacs-tabs/cmacs-tabs-ink-bar.directive.ts","ng://cmacs-components-lib/lib/components/cmacs-tabs/cmacs-tabs-nav.component.ts","ng://cmacs-components-lib/lib/components/cmacs-tabs/cmacs-tab-body.component.ts","ng://cmacs-components-lib/lib/components/cmacs-tabs/cmacs-tab.component.ts","ng://cmacs-components-lib/lib/components/cmacs-tabs/cmacs-tabset.component.ts","ng://cmacs-components-lib/lib/components/cmacs-side-panel/cmacs-side-panel.component.ts","ng://cmacs-components-lib/lib/components/cmacs-open-textarea/cmacs-open-textarea.component.ts","ng://cmacs-components-lib/lib/components/cmacs-moveable-list/cmacs-moveable-list.component.ts","ng://cmacs-components-lib/lib/components/cmacs-grid-configuration-modal/cmacs-grid-configuration-modal.component.ts","ng://cmacs-components-lib/lib/components/cmacs-open-input/cmacs-open-input.component.ts","ng://cmacs-components-lib/lib/components/cmacs-list/cmacs-list.component.ts","ng://cmacs-components-lib/lib/components/cmacs-list/cmacs-list-item-meta.component.ts","ng://cmacs-components-lib/lib/components/cmacs-list/cmacs-list-item.component.ts","ng://cmacs-components-lib/lib/components/cmacs-message/cmacs-message-config.ts","ng://cmacs-components-lib/lib/components/cmacs-message/cmacs-message-container.component.ts","ng://cmacs-components-lib/lib/components/cmacs-message/cmacs-message.component.ts","ng://cmacs-components-lib/lib/components/cmacs-message/cmacs-message.service.ts","ng://cmacs-components-lib/lib/components/cmacs-compact-table/cmacs-compact-table.component.ts","ng://cmacs-components-lib/lib/components/cmacs-signature/cmacs-signature.component.ts","ng://cmacs-components-lib/lib/components/cmacs-section/cmacs-section.component.ts","ng://cmacs-components-lib/lib/components/cmacs-tooltip/cmacs-tooltip.component.ts","ng://cmacs-components-lib/lib/components/cmacs-tooltip/cmacs-tooltip.directive.ts","ng://cmacs-components-lib/lib/components/cmacs-popover/cmacs-popover.component.ts","ng://cmacs-components-lib/lib/components/cmacs-popover/cmacs-popover.directive.ts","ng://cmacs-components-lib/lib/components/cmacs-tree-select/cmacs-tree-select.service.ts","ng://cmacs-components-lib/lib/components/cmacs-tree-select/cmacs-tree-select.component.ts","ng://cmacs-components-lib/lib/components/cmacs-timeline-datepicker/cmacs-timeline-datepicker.component.ts","ng://cmacs-components-lib/lib/components/cmacs-xlsx-loader/cmacs-xlsx-loader.component.ts","ng://cmacs-components-lib/lib/components/cmacs-editor/cmacs-editor.component.ts","ng://cmacs-components-lib/lib/cmacs-components-lib.module.ts","ng://cmacs-components-lib/lib/components/cmacs-modal/cmacs-modal.service.ts","ng://cmacs-components-lib/lib/components/core/enums/ButtonStyle.enum.ts","ng://cmacs-components-lib/lib/components/core/enums/ModeTabType.enum.ts"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","this","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__decorate","decorators","target","key","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","__metadata","metadataKey","metadataValue","metadata","__values","o","m","Symbol","iterator","next","value","done","__read","e","ar","push","error","__spread","concat","CmacsButtonComponent","setClassMap","prefixCls","prefixCmacs","sizeMap","large","small","updateHostClassService","updateHostClass","el","_a","type","shape","size","loading","iconOnly","action","listOfIconElement","undefined","contentElement","nativeElement","style","display","nzGhost","nzBlock","nzSearch","updateIconDisplay","iconElement","renderer","setStyle","checkContent","moveIcon","removeStyle","isEmpty","children","tagName","innerText","cdr","detectChanges","firstChildElement","findFirstNotEmptyNode","lastChildElement","findLastNotEmptyNode","first","insertBefore","last","appendChild","ngAfterContentInit","ngAfterViewInit","imageWrapper","ngOnInit","nzWave","querySelectorAll","forEach","icon","wrapper","document","createElement","classList","add","parentNode","ngOnDestroy","ngOnChanges","changes","nzType","nzShape","nzSize","nzLoading","hideBtn","elementRef","showBtn","disabledBtn","disabled","Component","args","selector","exportAs","providers","NzUpdateHostClassService","preserveWhitespaces","changeDetection","ChangeDetectionStrategy","OnPush","encapsulation","ViewEncapsulation","None","template","ElementRef","ChangeDetectorRef","Renderer2","NgZone","Optional","Inject","NZ_WAVE_GLOBAL_CONFIG","ANIMATION_MODULE_TYPE","ViewChild","ContentChildren","NzIconDirective","read","HostBinding","Input","tslib_1.__decorate","InputBoolean","zone","waveConfig","animationType","NzWaveDirective","addClass","CmacsButtonGroupComponent","_size","classMap","nzUpdateHostClassService","buttons","contentButtons","toArray","overlap","index","_b","tslib_1.__values","_c","moveLeft","indexBtn","moveRight","isDisableLeft","disabledNav","isDisableRight","CmacsInputDirective","ngControl","_disabled","toBoolean","Directive","host","[class.ant-input-disabled]","[class.cmacs-input-opened]","[class.ant-input-lg]","[class.ant-input-sm]","NgControl","Self","opened","CmacsInputNumberComponent","updateAutoFocus","autoFocus","setAttribute","inputElement","removeAttribute","onModelChange","actualValue","parser","trim","replace","getCurrentValidValue","val","isNotCompleteNumber","getValidValue","toNumber","num","isNaN","toString","indexOf","parseFloat","min","max","isNotNil","precision","Number","toFixed","setValidateValue","setValue","onBlur","isFocused","onFocus","getRatio","ratio","metaKey","ctrlKey","shiftKey","down","focus","step","up","getPrecision","valueString","parseInt","slice","getMaxPrecision","currentValue","ratioPrecision","stepPrecision","cmacsStep","currentValuePrecision","Math","getPrecisionFactor","pow","upStep","rat","result","precisionFactor","abs","Infinity","downStep","_this","stop","preventDefault","outOfRange","autoStepTimer","window","setTimeout","clearTimeout","emit","onChange","displayValue","formatter","disabledUp","disabledDown","onKeyDown","code","keyCode","UP_ARROW","DOWN_ARROW","ENTER","onKeyUp","writeValue","markForCheck","registerOnChange","fn","registerOnTouched","onTouched","setDisabledState","isDisabled","focusMonitor","focusVia","blur","monitor","subscribe","focusOrigin","cmacsFocus","cmacsBlur","Promise","resolve","then","stopMonitoring","provide","NG_VALUE_ACCESSOR","useExisting","forwardRef","multi","[class.ant-input-number-focused]","[class.ant-input-number-lg]","[class.ant-input-number-sm]","[class.ant-input-number-disabled]","FocusMonitor","Output","EventEmitter","placeHolder","CmacsInputGroupComponent","updateChildrenInputSize","suffix","prefix","prefixIcon","suffixIcon","addOnAfter","addOnBefore","addOnAfterIcon","addOnBeforeIcon","isAffix","isAddOn","isGroup","isLarge","isAffixWrapper","search","isSmall","listOfNzInputDirective","item","[class.ant-input-group-compact]","[class.ant-input-search-enter-button]","[class.ant-input-search]","[class.ant-input-search-sm]","[class.ant-input-affix-wrapper]","[class.ant-input-group-wrapper]","[class.ant-input-group]","[class.ant-input-group-lg]","[class.ant-input-group-wrapper-lg]","[class.ant-input-affix-wrapper-lg]","[class.ant-input-search-lg]","[class.ant-input-group-sm]","[class.ant-input-affix-wrapper-sm]","[class.ant-input-group-wrapper-sm]","compact","CandyDate","getYear","nativeDate","getFullYear","getMonth","getDay","getTime","getDate","getHours","getMinutes","getSeconds","getMilliseconds","clone","Date","setHms","hour","minute","second","date","setHours","setYear","year","setFullYear","addYears","amount","setMonth","month","addMonths","setDay","day","options","setDate","addDays","endOf","grain","endOfMonth","isSame","left","toNativeDate","right","isAfter","isBefore","isToday","isInvalid","valueOf","Error","CmacsPickerComponent","isOpenHandledByUser","open","overlayOpen","cmacsStyle","sanitizer","bypassSecurityTrustStyle","isRange","pickerInput","querySelector","showOverlay","realOpenState","openChange","cdkConnectedOverlay","overlayRef","updatePosition","hideOverlay","onClickInputBox","onClickBackdrop","onOverlayDetach","onPositionChange","position","dropdownAnimation","connectionPair","originY","currentPositionX","currentPositionY","changeDetector","onClickClear","event","stopPropagation","valueChange","getReadableValue","partType","getPartTypeIndex","dateHelper","format","getPlaceholder","placeholder","isEmptyValue","isArray","every","animationStart","animationOpenState","animationDone","animations","slideMotion","DateHelperService","DomSanitizer","CdkConnectedOverlay","noAnimation","cmacsOpen","overlayOffsetY","overlayOffsetX","overlayPositions","originX","overlayX","overlayY","POPUP_STYLE_PATCH","AbstractPickerComponent","picker","initValue","locale","i18n","localeChange","pipe","takeUntil","destroyed$","setLocale","popupStyle","firstChange","isCustomPlaceHolder","setDefaultPlaceHolder","complete","closeOverlay","onValueChange","vAsRange","onChangeFn","onTouchedFn","onOpenChange","cmacsOnOpenChange","getLocaleData","lang","rangePlaceholder","map","allowClear","width","Subject","_super","CmacsHeaderPickerComponent","tslib_1.__extends","panelMode","endPanelMode","allHeaderPanels","supportPanels","nzRenderExtraFooter","extraFooter","valueFunctionProp","renderExtraFooter","onPanelModeChange","mode","onChooseValue","cleanUp","NzI18nService","NzNoAnimationDirective","CmacsDateRangePickerComponent","_showTime","showToday","showWeek","relyOnDatePipe","showTime","console","log","setFixedPickerStyle","onCalendarChange","rangeValue","x","cmacsOnCalendarChange","onResultOk","cmacsOnOk","showTimeFixes","pickerStyle","parseDate","parsedValue","parsedValues","coerceValues","coerceValues_1","coerceValues_1_1","idx","cmacsOnPanelChange","openPickerTitle","openPickerSubtitle","openPickerLeftRangeSub","openPickerRightRangeSub","CmacsDatePickerComponent","[class.cmacs-open-date-picker]","Host","CmacsMonthPickerComponent","CmacsYearPickerComponent","CmacsWeekPickerComponent","CmacsRangePickerComponent","[class.cmacs-open-range-picker]","CmacsTimePickerComponent","_value","_onChange","_onTouched","time","defaultOpenValue","allowEmpty","use12Hours","_open","CmacsStepComponent","_status","status","isCustomStatus","onClick","customEvent","CustomEvent","detail","bubbles","parent","dispatchEvent","_icon","TemplateRef","isIconString","oldAPIIcon","_currentIndex","current","outStatus","[class.ant-steps-item-wait]","[class.ant-steps-item-process]","[class.ant-steps-item-finish]","[class.ant-steps-item-error]","[class.ant-steps-custom]","[class.cmacs-steps-clickable]","[class.ant-steps-next-error]","HostListener","secondary","clickable","direction","showProcessDot","CmacsWizardComponent","customProcessDotTemplate","updateChildrenSteps","startIndex","nzProgressDot","labelPlacement","destroy$","steps","length_1","elem","customProcessTemplate","currentIndex","indexChange","CmacsCheckboxWrapperComponent","addCheckbox","checkboxList","removeCheckbox","splice","outputValue","filter","checked","nzOnChange","CmacsCheckboxComponent","hostClick","innerCheckedChange","checkedChange","cmacsCheckboxWrapperComponent","nzAutoFocus","(click)","theme","indeterminate","CmacsCheckboxGroupComponent","onOptionChange","trackByOption","_index","option","CmacsRadioComponent","select$","isNgModel","touched$","[class.ant-radio-wrapper-checked]","[class.ant-radio-wrapper-disabled]","CmacsRadioButtonComponent","[class.ant-radio-button-wrapper-checked]","[class.ant-radio-button-wrapper-disabled]","removeClass","CmacsRadioGroupComponent","updateChildrenStatus","radios","radio","name","startWith","selectSubscription","unsubscribe","merge","touchedSubscription","nzDisabled","nzName","[class.ant-radio-group-large]","[class.ant-radio-group-small]","[class.ant-radio-group-solid]","descendants","buttonStyle","CmacsTagComponent","isPresetColor","color","test","updateClassMap","presetColor","cmacsPrefix","cmacsStatusType","cmacsPriorityType","cmacsGridType","cmacsMoneyType","cmacsTemplateType","updateCheckedStatus","closeTag","onClose","defaultPrevented","removeChild","afterAnimation","toState","afterClose","fadeMotion","[@fadeMotion]","(@fadeMotion.done)","[style.background-color]","[style.border-left]","CmacsTimelineItemComponent","tryUpdateCustomColor","nzColor","circle","liTemplate","isLast","CmacsTimelineComponent","modeChanges","reverseChanges","reverse","pendingChanges","pending","previousValue","isFirstChange","updateChildren","reverseChildTimelineDots","isPendingBoolean","listOfTimeLine","platform","isBrowser","reverseChildNodes","timeline","Platform","ContentChild","CmacsStringTemplateOutletDirective","isTemplate","inputTemplate","updateView","inputViewRef","viewContainer","clear","defaultViewRef","createEmbeddedView","defaultTemplate","ViewContainerRef","CmacsMenuDividerDirective","CmacsMenuGroupComponent","NzMenuBaseService","Injectable","CmacsMenuService","isInDropDown","cmacsMode","CmacsSubmenuService","setOpenState","open$","onMenuItemClick","setMouseEnterState","setLevel","level$","level","nzMenuService","mouseEnterLeave$","SkipSelf","hostSubmenuService","mode$","tap","BehaviorSubject","subMenuOpen$","menuOpen$","combineLatest","auditTime","distinctUntilChanged","data","CmacsMenuItemDirective","clickMenuItem","menuService","submenuService","prefixName","selected","setSelectedState","selected$","paddingLeft","originalPadding","inlineIndent$","EMPTY","padding","inlineIndent","nzSelected","CmacsMenuServiceFactory","higherOrderService","CmacsSubMenuComponent","clickSubMenuTitle","isMouseHover","setTriggerWidth","triggerWidth","cdkOverlayOrigin","getBoundingClientRect","placement","getPlacementName","isChildMenuSelected","expandState","POSITION_MAP","bottomLeft","rightTop","leftTop","listOfCmacsMenuItemDirective","flatMap","menu","some","collapseMotion","zoomBigMotion","CdkOverlayOrigin","DEFAULT_SUBMENU_POSITIONS","CmacsMenuDirective","updateInlineCollapse","inlineCollapsed","listOfOpenedCmacsSubMenuComponent","listOfCmacsSubMenuComponent","submenu","cacheMode","setMode","menuItemClick$","click","selectable","setInlineIndent","inDropDown","setTheme","useFactory","ɵ0","deps","NzDropdownHigherOrderServiceToken","Select","String","Boolean","Time","Default","Button","Tag","Favorite","ExcelService","toExportFileName","excelFileName","exportAsExcelFile","json","workbook","Sheets","XLSX.utils","json_to_sheet","SheetNames","XLSX.writeFile","_exportCompleted","providedIn","exportCompleted","asObservable","Pdf","Xslx","Png","PdfTree","XslxTree","moment","moment_","UtilService","uuidv4","random","get_tex_size","txt","font","context","getContext","measureText","height","exportTable","fileName","elemID","exportCompanyName","exportUserName","exportTitle","exportCompanyLogoUrl","exportTableCustomWidth","exportTableCustomHeight","tables","getElementById","getElementsByTagName","getTableCapture","initExportToPdf","imgData","imgLogo","Image","crossOrigin","onload","canvasL","ctx","drawImage","logo","toDataURL","saveImageToPdf","src","logoData","image","doc","jsPDF","imgProps","getImageProperties","cuts","trunc","pdfWidth","internal","pageSize","getWidth","pdfHeight","y","canvas","img","addPage","addImage","addFooters","filenameFormatted","save","pageCount","getNumberOfPages","setFont","setTextColor","setFontSize","setPage","text","align","setFontType","setInlineStyles","targetElem","transformProperties","svgElems","from","recurseElementChildren","node","styles","getComputedStyle","transformProperties_1","transformProperties_1_1","transformProperty","childNodes","_d","child","svgElems_1","svgElems_1_1","svgElement","id","background","scale","allowTaint","scrollY","imageTimeout","useCORS","exportAsConfig","elementId","interval","setInterval","exportAsService","get","header","exportAsConfig_1","body","combineTwoImages","img_1","contentToBlob","blob","downloadFromBlob","clearInterval","img1","img2","mergeImages","imagesLoaded","image1","image2","combined","exportTablev2","exportConfig","columns","getColumns","rows","getRows","autoTable","head","headStyles","fontStyle","fillColor","textColor","fontSize","bodyStyles","columnStyles","margin","top","bottom","didDrawCell","docdata","textPos","cell","dim","customWidth","column","contentWidth","columnIdx","checkboxSelect","section","selectedItems","cmacsPdfImages","checkboxSelected","checkboxIndeterminate","checkboxEmpty","row","config","fieldId","fields","images","celdType","CeldType","lineColor","lineWidth","line","table","cursor","renderTemplate","exportToPdfV2","field","itemToExport","editTemplate","TemplateType","selectItem","select","selectData","find","property","label","datePipe","transform","pop","pageYOffset","scrollX","html2canvas","ExportAsService","CmacsGridComponent","contextMenu","$event","dropdown","nzDropdownService","startEdit","editId","sort","fieldProperty","sortChange","sortName","sortValue","getHeaderMaxWidth","showSort","handleClick","element","inputNumberElement","childOf","datePickerElement","selectElement","boolElement","rowOnEdition","onedit","ancestor","className","endEditMode","endEditModeNgModel","getIndex","checkboxCache","findIndex","updateCheckboxCache","order","getMaxWidth","onButtonClick","buttonClick","onCheckboxChange","refreshCheckboxState","oninit","dataSelected","checkCheckboxState","selectionChange","a","allChecked","isIndeterminate","ngModelChange","onRateChange","count","fieldRate","rateChange","onRateClick","getFields","hidden","onCheckboxAllChange","getLabel","isSelect","isReadOnly","readonly","isBoolean","isObject","isDate","isString","isNumber","isCeldTypeDefault","isCeldTypeButton","isCeldTypeTag","isCeldTypeTemplateRef","isUndefined","isRowSelected","cookies","check","gridID","savedConfigStr","set","savedConfig","JSON","parse","configChange","dataTable","showPagination","utilService","exportEvent","exportType","ExportType","exportToPdf","exportToExcel","exportToPng","excelService","dataToExport","exportValue","useVersion2","tapHandler","tapCount","clickRow","dblClickRow","clicks","stopImmediatePropagation","selectRow","onclickRow","selectMultiple","removeSelection","lastIdxSelected","currentIdx","ondlclickRow","NzDropdownService","DatePipe","CookieService","InputNumber","headerBottomStyle","pageSizeOptions","virtualScroll","virtualItemSize","loadingDelay","total","widthConfig","pageIndex","paginationPosition","scroll","printLandscape","wrapLines","frontPagination","templateMode","bordered","showSizeChanger","hideOnSinglePage","showQuickJumper","simple","inLineEdit","showRate","rateCount","multiSelect","defaultSortOrder","NzTreeBaseService","CmacsTreeService","searchExpand","matchedNodeList","toLowerCase","expandedKeys","expandParent","getParentNode","searchChild","title","includes","isMatched","rootNodes","calcExpandedKeys","nzMultiple","NzTreeServiceFactory","treeService","CmacsTreeComponent","NzTreeBase","_nzMultiple","cmacsAsyncData","treeDataAsyncLoading","displayDataAsyncLoading","getFirstLevelNodes","initNzData","nzDefaultSubject","keys","_searchValue","nzTreeService","selectMode","checkable","nzNodes","isExpanded","searchValueChange","formatEvent","nzOnSearchNode","onaddchildevt","onaddchild","showLine","showIcon","nzBlockNode","draggable","isCheckStrictly","nzCheckStrictly","isMultiple","initTree","coerceTreeNodes","onKeyupHandler","nodesSelected","getSelectedNodeList","calcSelectedKeys","eventNext","nzExpandedKeysChange","nzSelectedKeysChange","calcCheckedKeys","nzCheckedKeysChange","eventTriggerChanged","eventName","onClickAsyncNode","nzExpandChange","nzClick","nzCheckBoxChange","nzDblClick","nzContextMenu","nzOnDragStart","nzOnDragEnter","nzOnDragOver","nzOnDragLeave","nzOnDrop","nzOnDragEnd","onSelectionMultiple","selectedNode","nodesSelectedCount","states","startNodeFound","endNodeFound","convertTreeToList","emitStructure","selectedKeys","addParent","root","endNode","startNode","stack","hashMap","visitNode","isSelected","subTree","subTreeDeepCopy","cloneDeep","firstLevelNodes","searchTree","treeData","searchSubTree","node_1","loadNodeChildren","addChildren","firstLevelChildren","NzTreeHigherOrderServiceToken","showExpand","asyncData","expandAll","hideUnMatched","inlineEdit","defaultExpandAll","ReplaySubject","CmacsTreeNodeComponent","_draggable","handDragEvent","_expandAll","treeNode","isLeaf","highlightKeys","searchValue","nzNodeClass","isSwitcherOpen","isSwitcherClose","isChecked","isHalfChecked","isLoading","nzNodeSwitcherClass","nzNodeCheckboxClass","getCheckedNodeList","isDisableCheckbox","nzNodeContentClass","nzNodeContentIconClass","_e","nzNodeContentLoadingClass","_f","onMousedown","selectedNodes","selectedNodesCount","checkSubTreeSelection","isSelectable","_clickCheckBox","_clickExpand","conduct","clearDragClass","dragElement","handleDragStart","setData","setSelectedNode","handleDragEnter","dragPos","ngZone","run","getSelectedNode","handleDragOver","dropPosition","calcDropPosition","dragPosClass","handleDragLeave","handleDragDrop","dropEvent","dragEndEvent","beforeDrop","dragNode","newMethod","pos","canDrop","dropAndApply","handleDragEnd","runOutsideAngular","fromEvent","elRef","isTemplateRef","setNodeActive","setExpandedNodeList","setCheckedNodeList","component","nzNoAnimation","0","1","-1","CmacsOptionComponent","nzCustomContent","NzFilterOptionPipe","filterOption","serverSearch","Pipe","NzFilterGroupOptionPipe","groups","g","listOfNzOptionComponent","defaultFilterOption","nzLabel","CmacsSelectService","clickOption","updateActivatedOption","listOfSelectedValue","isMultipleOrTags","targetValue","compareWith","nzValue","updateListOfSelectedValue","maxMultipleCount","isSingleMode","isTagsSingleSelectMode","autoClearSearchValue","clearInput","updateListOfCachedOption","selectedOption","listOfTemplateOption","isNil","listOfCachedSelectedOption","listOfCachedSelectedOption_1","v","listOfTagAndTemplateOption","updateListOfTagOption","isTagsMode","listOfMissValue","listOfTagOption","nzOptionComponent","updateAddTagOption","isMatch","addedTagOption","updateListOfFilteredOption","listOfFilteredOption","isShowNotFound","clearInput$","listOfSelectedValueWithEmit$","activatedOption$","activatedOption","tokenSeparate","inputValue","tokenSeparators","includesSeparators","listOfLabel","splitBySeparators","updateSelectedValueByLabelList","str","separators","lastIndexOf","reg","RegExp","join","array","split","token","Set","resetActivatedOptionIfNeeded","resetActivatedOption","updateTemplateOption","listOfNzOptionGroupComponent","mapOfTemplateOption$","updateSearchValue","searchValueRaw$","listOfMatchOptionValue","isMultipleMode","listOfUnMatchOptionValue","eventTarget","listOfFilteredOptionWithoutDisabled","activatedIndex","preIndex","nextIndex","BACKSPACE","tagsOut","removeValueFormSelected","SPACE","TAB","openRaw$","checkRaw$","o1","o2","share","listOfSelectedValue$","modelChange$","selectedList","modelValue","searchValue$","skip","valueOrOption$","reduce","pre","cur","check$","CmacsSelectTopControlComponent","onClearSelection","nzSelectService","setInputValue","getSelectedValues","updateWidth","nzTokenSeparators","isComposing","showSelectedValue","opacity","nzShowSearch","nzOpen","margin-left.px","showCustomSearch","trackValue","scrollWidth","removeSelectedValue","zoomMotion","showCmacsSearch","nzAllowClear","nzShowArrow","CmacsOptionGroupComponent","isLabelString","CmacsSelectComponent","_tagsOut","_autoFocus","_cmacsOpen","isInit","closeDropDown","selectTopControlComponent","toggleDropDown","dropDownPosition","updateCdkConnectedOverlayStatus","updateCdkConnectedOverlayPositions","listValue","cmacsOnSearch","listOfCmacsOptionGroupComponent","listOfCmacsOptionComponent","group","onSearch","[class.ant-select-lg]","[class.ant-select-sm]","[class.ant-select-enabled]","[class.ant-select-no-arrow]","[class.ant-select-disabled]","[class.ant-select-allow-clear]","[class.ant-select-open]","scrollToBottom","dropdownClassName","dropdownMatchSelectWidth","showSearch","showArrow","selectAllLabel","CmacsSearchComponent","onSelectedChange","selectedChange","trackByFn","MODAL_CONFIG","InjectionToken","ModalControlService","parentService","afterAllClose","openModals","registeredMetaMap","registerModal","modalRef","hasRegistered","afterOpenSubscription","afterOpen","afterCloseSubscription","removeOpenModal","deregisterModal","registeredMeta","delete","has","closeAll","close","rootOpenModals","rootAfterAllClose","rootRegisteredMetaMap","Map","CmacsModalComponent","CmacsModalRef","cmacsAfterOpen","cmacsAfterClose","cmacsCancelText","cmacsOkText","visible","animationState","cmacsMask","modalGlobalConfig","cmacsMaskClosable","unsubscribe$","keydownListener","isComponent","content","createDynamicComponent","isModalButtons","footer","formatModalButtons","container","getContainer","HTMLElement","OverlayRef","overlayElement","isModalType","useCmacsDefaultSizes","transformToDefaultSizes","modalControl","handleVisibleStateChange","showHelpfulTips","modalType","contentComponentRef","bodyContainer","insert","hostView","autoFocusButtonOk","closeInteraction","destroyModal","changeVisibleFromInside","dispose","ESCAPE","keyboard","onClickOkCancel","destroy","triggerOk","triggerCancel","getInstance","getContentComponentRef","getContentComponent","instance","getElement","onClickMask","contains","onClickCloseBtn","visibleChange","trigger","ok","onOk","cancel","onCancel","loadingKey","caseClose_1","doClose","isPromise","handleThen","catch","isNonEmptyString","Type","animation","closeResult","scrollStrategy","enable","savePreviouslyFocusedElement","trapFocus","animateTo","restoreFocus","disable","getButtonCallableProp","prop","button","changeAnimationState","state","maskAnimationClassMap","modalAnimationClassMap","isVisible","updateTransformOrigin","autoLoading","show","factory","cfr","resolveComponentFactory","childInjector","Injector","useValue","parentInjector","componentParams","changeDetectorRef","modalElement","modalContainer","previouslyFocusedElement","previouslyDOMRect","lastPosition","getElementOffset","transformOrigin","offsetLeft","offsetTop","focusTrap","focusTrapFactory","focusInitialElementWhenReady","Overlay","ComponentFactoryResolver","FocusTrapFactory","DOCUMENT","ViewChildren","overlay","closable","okLoading","okDisabled","cancelDisabled","cancelLoading","zIndex","okType","iconType","scrollStrategies","block","CmacsToCssUnitPipe","defaultUnit","formatted","CMACS_ROUTE_DATA_BREADCRUMB","CmacsBreadcrumbComponent","cmacsAutoGenerate","activatedRoute_1","injector","ActivatedRoute","url","breadcrumbs","getBreadcrumbs","cd","navigate","Router","navigateByUrl","route","children_1","children_1_1","outlet","PRIMARY_OUTLET","nextUrl","snapshot","segment","path","breadcrumb","params","cmacsSeparator","CmacsBreadcrumbItemComponent","cmacsBreadcrumbComponent","CmacsCardTabComponent","CmacsCardComponent","openMail","link","project","teamLead","email","location","href","cmacsType","folderIcon","cmacsIconOpenedFolder","cmacsIconClosedFolder","isEditable","editable","onPlayerReady","api","playerReady","checkRadio","useDefaultContent","onDblClick","ondlclickCard","onTouchStart","tapTimeoutHandler","isRadio","handleEnter","titleContainer","titleSpan","textOverflow","titleChange","handleEdit","toggleEdit","getInitials","initials","match","shift","toUpperCase","getBackgroundImage","projectImage","iconsToDoClick","iconToDoClick","icon$$1","todo","UniqueId","goToModuleToDo","goToModule","buildLabel","[class.ant-card-loading]","[class.ant-card-bordered]","[class.ant-card-hoverable]","[class.ant-card-type-inner]","[class.ant-card-contain-tabs]","[class.cmacs-card-files-wrapper]","[class.cmacs-card-measure-wrapper]","[class.cmacs-card-measure-wrapper-selected]","[class.cmacs-selection-card]","[class.cmacs-card-selected]","[class.cmacs-card-disabled]","[class.cmacs-action-card]","[class.cmacs-weather-card]","[class.cmacs-big-file-card]","[class.cmacs-big-file-card-selected]","[class.cmacs-action-card-disabled]","[class.cmacs-information-card]","[class.cmacs-team-card]","[class.cmacs-video-player-card]","[class.cmacs-todo-card]","[class.cmacs-todo-card-selected]","[class.cmacs-team-card-selected]","[class.cmacs-card-files-folders-wrapper]","[class.file-card-selected]","hoverable","actions","team","file","celcius","cmacsIcon","CmacsCardLoadingComponent","CmacsCardMetaComponent","CmacsCardGridDirective","CmacsDateCellDirective","CmacsMonthCellDirective","CmacsDateFullCellDirective","CmacsMonthFullCellDirective","CmacsCalendarHeaderComponent","_activeDate","setUpYears","activeDate","fullscreen","getLocale","Calendar","setUpMonths","updateYear","yearChange","start","activeYear","yearOffset","end","yearTotal","years","months","dateInMonth","monthText","[style.display]","[class.ant-fullcalendar-header]","I18n","modeChange","monthChange","CmacsCalendarComponent","updateDate","dateCell","dateFullCell","monthCell","monthFullCell","coerceBooleanProperty","startOfWeek","startOfMonth","weekStartsOn","getFirstDayOfWeek","setUpDaysInWeek","setUpMonthsInYear","setUpDateMatrix","calculateCurrentDate","calculateActiveDate","calculateCurrentMonth","calculateActiveMonth","onModeChange","nzModeChange","nzPanelChange","onDateSelect","nzSelectChange","onYearSelect","onMonthSelect","onTouchFn","touched","dayChanged","isSameDay","monthChanged","isSameMonth","yearChanged","isSameYear","nzValueChange","daysInWeek","weekStart","monthsInYear","dateMatrix","monthStart","monthEnd","weekDiff","differenceInCalendarWeeks","week","calendarStart","monthDiff","differenceInCalendarMonths","dateFormat","rel","isThisMonth","currentDateRow","currentDate","currentDateCol","differenceInCalendarDays","activeDateRow","activeDateCol","isThisYear","yearStart","startOfYear","currentMonthRow","floor","currentMonthCol","activeMonthRow","activeMonthCol","DateCell","DateFullCell","MonthCell","MonthFullCell","nzMode","CalendarFooterComponent","hasTimePicker","showTimePicker","showTimePickerChange","timePickerDisabled","clickOk","clickToday","CalendarHeaderComponent","render","previousYear","gotoYear","nextYear","previousMonth","gotoMonth","nextMonth","changePanel","panelModeChange","changeValueFromInside","onChooseDecade","chooseDecade","onChooseYear","yearToMonth","chooseYear","onChooseMonth","chooseMonth","changeToMonthPanel","yearMonthDaySelectors","createYearMonthDaySelectors","formatDateTime","localeFormat","yearFormat","transCompatFormat","yearSelect","monthSelect","monthFormat","dayFormat","monthBeforeYear","enablePrev","enableNext","CalendarInputComponent","onInputKeyup","checkValidInputDate","disabledDate","toReadableInput","input","invalidInputClass","OkButtonComponent","TimePickerButtonComponent","TodayButtonComponent","now","onClickToday","DateTableComponent","isDateRealChange","selectedValue","hoverValue","change","previousValue_1","isSameDate","headWeekDays","makeHeadWeekDays","weekRows","makeWeekRows","weekDays","firstDayOfWeek","colIndex","tempDate","short","veryShort","getVeryShortWeekFormat","getLocaleId","firstDateOfMonth","firstDateOffset","firstDateToShow","increased","rowIndex","isActive","isCurrent","dateCells","isBeforeMonthYear","this_1","isAfterMonthYear","getDateTitle","customContent","dateRender","onMouseEnter","dayHover","weekNum","getWeekNum","isSelectedStartDate","isSelectedEndDate","isInRange","getISOWeek","DecadePanelComponent","startYear","previousCentury","nextCentury","trackPanelDecade","decadeData","panelDecades","makePanelDecades","decades","currentYear","endYear","isLowerThanStart","isBiggerThanEnd","MonthPanelComponent","yearPanelShow","MonthTableComponent","trackPanelMonth","monthData","panelMonths","makePanelMonths","currentMonth","today","monthValue","defaultDisabledTime","nzDisabledHours","nzDisabledMinutes","nzDisabledSeconds","getTimeConfig","disabledTime","disabledTimeConfig","isAllowedDate","isTimeValid","isTimeValidByConfig","invalidTime","minutes","seconds","DateRangePopupComponent","ranges","initialArray","clearHoverValue","valueForRangeShow","normalizeRangeValue","buildTimeOptions","onShowTimePickerChange","changeValue","closePickerPanel","onDayHover","base","onHeaderChange","onSelectTime","newValue","cloneRangeDate","overrideHms","isValidRange","changeValueFromSelect","calendarChange","setRangeValue","sortRangeValue","enablePrevNext","showMiddle","getPanelMode","getValue","getValueBySelector","partTypeMap","hasSelectedValue","isAllowedSelectedValue","disabledStartTime","disabledEndTime","getTimeOptions","timeOptions","onClickPresetRange","resultOk","onPresetRangeMouseLeave","onHoverPresetRange","getObjectKeys","obj","closePicker","overrideTimeOptions","origin","partial","disabledTimeFn","to","newStart","newEnd","InnerPopupComponent","selectTime","onSelectDate","selectDate","headerChange","YearPanelComponent","previousDecade","nextDecade","trackPanelYear","yearData","panelYears","makePanelYears","decadePanelShow","NgModule","imports","CommonModule","FormsModule","NzI18nModule","NzTimePickerModule","exports","declarations","LibPackerModule","CmacsNormalizedHorizontalBarGroupedComponent","temp","series","legend","selectList","pw","view","minWidth","ph","minHeight","drawCanvas","menuClick","clickMenu","chartWidth","chartHeight","clearRect","elems","move","beginPath","moveTo","strokeStyle","colorScheme","domain","lineTo","stroke","util","CmacsNormalizedHorizontalBarChartComponent","resize","j","showArrowBtns","scrollRight","legendContent","scrollTo","scrollLeft","behavior","tsize","displayArrowBtns","edit","remove","openNewWindow","verticalBarChart","horizontalBarChart","pieChart","lineChart","gauge","fitToData","distributeEvenly","single","CmacsGeneralChartComponent","isChartTypeMenu","chartSelected","WidgetActionType","dataType","WidgetDataType","showXAxis","showXAxisLabel","xAxisLabel","showYAxis","showYAxisLabel","yAxisLabel","showLegend","legendTitle","legendPosition","WidgetActionTypeEnum","WidgetDataTypeEnum","CmacsComboChartComponent","tooltipDisabled","showGridLines","activeEntries","roundDomains","noBarWhenZero","CmacsComboSeriesVerticalComponent","update","xScale","bandwidth","d0","sum","bars","formattedLabel","formatLabel","bar","roundEdges","yScale","offset1","offset0","colors","scaleType","getColor","gradientStops","getLinearGradientStops","tooltipLabel","seriesName","getSeriesTooltips","seriesLine","lineValue","tooltipText","toLocaleString","entry","trackBy","transition","animate","activate","deactivate","KPI_COLORS","KPI_PRIORITY_COLORS","high","medium","low","CmacsKpiComponent","canvasRef","start_angle","getColoredData","getTotalCount","data_1","data_1_1","categ","slice_angle","PI","drawPieSlice","getColoredDataPriority","coloredData","description","priority","centerX","centerY","radius","startAngle","endAngle","fillStyle","arc","closePath","fill","drawLine","startX","startY","endX","endY","drawArc","sanitizeStyle","coloredData_1","remaining","rate_1","tempRate_1","opacity_1","colorIndex_1","showTotalCount","CmacsKPIOverviewComponent","sliceAngle","fontChartNumber","textAlign","fillText","rate","tempRate","colorIndex","CmacsKpiGroupComponent","setScroll","showChart","selectedItem","setConfiguration","totalShow","getTotalCateg","totalG","configurationExpandableRows","columnsHeader","col2","col3","newItem","ref","columnTemplate","getChildren","items","output","items_1","items_1_1","changeData","headerText","footerText","footerValue","CmacsStatusDistributionComponent","CmacsDropdownADirective","CmacsDropdownDirective","setDisabled","hover$","mapTo","$click","CmacsMenuDropdownService","CMACS_DROPDOWN_POSITIONS","bottomRight","topLeft","topRight","menuServiceFactory","CmacsDropdownComponent","setVisibleStateWhen","visible$","updatedOverLay","updatedOrigin","updatedPosition","startSubscribe","observable$","click$","clickHide","cmacsMenuDropdownService","debounceTime","cmacsDropdownDirective","updateDisabledState","dropdownTriggerWidth","offsetWidth","positions","NzMenuDirective","overlayClassName","overlayStyle","tableFilter","CmacsDropdownButtonComponent","ɵ0$1","cmacsClick","CmacsDropdownContextComponent","init","templateRef","positionChanges","control","CmacsDropdownService","OverlayConfig","panelClass","positionStrategy","flexibleConnectedTo","withPositions","ConnectionPositionPair","getConfig","attach","ComponentPortal","take","CmacsDividerComponent","setClass","orientationPrefix","orientation","dashed","CmacsFormExplainComponent","helpMotion","CmacsFormItemComponent","NzRowDirective","updateFlexStyle","flex","listOfNzFormExplainComponent","[class.ant-form-item-with-help]","MediaMatcher","mediaMatcher","NzColDirective","CmacsFormControlComponent","_hasFeedback","setControlClassMap","FormControl","NgModel","validateControl","validateString","watchControl","FormControlName","removeSubscribe","validateChanges","statusChanges","validateControlStatus","dirty","controlClassMap","cmacsHasFeedback","defaultValidateControl","cmacsValidateStatus","cmacsFormItemComponent","nzRowDirective","CmacsFormExtraComponent","CmacsFormLabelComponent","noColon","setDefaultNoColon","defaultNoColon","cmacsRequired","CmacsFormSplitComponent","CmacsFormTextComponent","CmacsFormDirective","layout","updateItemsDefaultColon","cmacsFormLabelComponent","cmacsNoColon","CmacsProgressComponent","nzFormat","nzStatus","inferredStatus","nzStrokeWidth","inferredStrokeWidth","updatePathStyles","updateIcon","nzGapPosition","nzStrokeLinecap","nzGapDegree","nzPercent","nzSuccessPercent","cachedStatus","inferredGapPosition","inferredGapDegree","strokeWidth","beginPositionX","beginPositionY","endPositionX","endPositionY","pathString","len","gapDegree","trailPathStyle","strokeDasharray","strokeDashoffset","strokePathStyle","isCircle","ret","nzShowInfo","nzWidth","statusColorMap","normal","exception","success","FLOATING_MENU_LOCALIZATION","Dock To Left","Dock To Right","Dock To Top","Dock To Bottom","Minimize Toolbar","CmacsFloatingMenuComponent","cdkDrag","resetDragDrop","minimizeToolbar","_minimizeToolbar","expandToolbar","dockToLeft","leftBoundary","positionChange","dockToRight","rightBoundary","dockToTop","topBoundary","dockToBottom","bottomBoundary","getPlacement","_dragRef","reset","[class.carrot-bottom-menu]","[class.carrot-top-menu]","[class.cmacs-floating-menu-align-x]","[class.cmacs-floating-menu-align-y]","[style.top]","[style.bottom]","[style.left]","[style.right]","CdkDrag","_i18n","showExtras","carrot","CmacsOptionLiComponent","nzOption","list","active","[class.ant-select-dropdown-menu-item-selected]","[class.ant-select-dropdown-menu-item-disabled]","[class.ant-select-dropdown-menu-item-active]","[class.cmacs-select-dropdown-menu-item-divider]","[attr.unselectable]","[style.user-select]","(mousedown)","CmacsOptionContainerComponent","scrollIntoViewIfNeeded","listOfNzOptionLiComponent","targetOption","trackLabel","ul","dropdownUl","scrollTop","lastScrollTop","scrollHeight","clientHeight","nzScrollToBottom","isAllChecked","listOfNotDisabledItems","isCheckedState","listOfSelectedValue_1","CmacsSelectUnselectableDirective","CmacsKanbanComponent","getItemTemplate","actionPanelTemplates","itemTemplates","itemTemplate","getActionPanel","getDescriptionPanel","descriptionPanelTemplates","verticalScrollStyle","heightContainer","boardStyle","min-height","columnStyle","collapsed","columnWidth","columnExpand","onColumnExpand","columnCollapse","setDragStartedColumn","col","dragStartedColumn","drop","columnId","previousContainer","moveItemInArray","previousIndex","emitDroppedItem","disabledDrop","noDraggedItem","itemType","transferArrayItem","draggedItem","clickItem","board","onclickItem","multiselect","dblclickItem","ondblclickItem","isItemSelected","columnHeaderTemplate","columnHeaderCollapsedTemplate","showShrink","hasVerticalScroll","subHeader","CmacsAlertComponent","closeAlert","onFadeAnimationDone","updateIconClassMap","iconTheme","banner","isShowIconSet","isTypeSet","slideAlertMotion","closeable","CmacsCommentAvatarDirective","class","CmacsCommentContentDirective","CdkPortalOutlet","CmacsCommentActionHostDirective","cmacsCommentActionHost","componentFactoryResolver","viewContainerRef","CmacsCommentActionComponent","contentPortal","TemplatePortal","implicitContent","CommentAction","CmacsCommentComponent","CmacsSliderTrackComponent","nzIncluded","visibility","nzVertical","nzOffset","nzLength","isValueARange","isConfigAObject","CmacsSliderComponent","handles","generateHandles","range","sliderDOM","slider","marksArray","marks","generateMarkItems","createDraggingObservables","toggleDragDisabled","formatValue","unsubscribeDrag","isWriteValue","updateTrackAndHandles","valuesEqual","cloneAndSort","shallowCopyArray","getValueToOffset","normalizedValue","valueToOffset","setActiveValueIndex","pointerValue","gap_1","minimal_1","activeIndex_1","activeValueIndex","setActiveValue","offset","valueSorted","offsetSorted","boundParts","trackParts","handle","bounds","lower","upper","track","onDragStart","toggleDragMoving","cacheSliderProperty","showHandleTooltip","onDragMove","onDragEnd","onAfterChange","hideAllHandleTooltip","orientField","vertical","mouse","pluckKey","touch","TouchEvent","source","filterFunc","startPlucked$","silentEvent","pluck","findClosestValue","end$","moveResolved$","dragStart$","dragMove$","dragEnd$","subscribeDrag","periods","dragStart_","bind","dragMove_","dragEnd_","movable","isDragging","sliderStart","getSliderStartPosition","sliderLength","getSliderLength","ensureNumberInRange","points","dots","closestOne","round","gaps","point","closest","getPercent","cacheSliderStart","cacheSliderLength","clientWidth","assertValueValid","defaultValue","assertValueTypeMatch","getValueTypeNotMatchError","valA","valB","arraysEqual","handleIndex","mark","included","tooltipVisible","CmacsSliderHandleComponent","nzActive","nzTooltipVisible","updateStyle","updateTooltipTitle","updateTooltipPosition","toggleTooltip","hovers_","force","tooltip","hide","tooltipTitle","nzTipFormatter","(mouseenter)","(mouseleave)","NzToolTipComponent","sliderComponent","Subscription","enterHandle","leaveHandle","CmacsSliderMarksComponent","nzMarksArray","buildMarks","nzLowerBound","nzUpperBound","togglePointActive","trackById","nzMax","nzMin","buildStyles","marginBottom","markWidth","marginLeft","CmacsSliderStepComponent","buildSteps","orient","CmacsVideoPlayerComponent","CmacsDateTimePickerComponent","_hideDisabledOptions","_allowEmpty","inputRef","onClickClearBtn","updateCls","UpdateCls","offsetX","offsetY","hourStep","minuteStep","secondStep","clearText","popupClassName","CmacsDatetimeValueAccessorDirective","keyup","changed","parseTime","_onTouch","setRange","setSelectionRange","nzTime","TimeHolder","setDefaultValueIfNil","setMinutes","hours","setSeconds","setUse12Hours","_use12Hours","_changes","_hours","_minutes","_seconds","_selected12Hours","_clear","defaultHours","defaultMinutes","defaultSeconds","default12Hours","selected12Hours","calculateViewHour","_defaultOpenValue","setDefaultOpenValue","CmacsDatetimePickerPanelComponent","_opened","initPosition","selectInputRange","nzDefaultOpenValue","_disabledHours","buildHours","_disabledMinutes","buildMinutes","_disabledSeconds","buildSeconds","_format","enabledColumns","charSet","hourEnabled","minuteEnabled","secondEnabled","nzUse12Hours","build12Hours","_nzHourStep","_nzMinuteStep","_nzSecondStep","nzTimeValueAccessorDirective","isUpperForamt","use12HoursRange","buildTimes","selectHour","scrollToSelected","hourListElement","selectMinute","minuteListElement","selectSecond","secondListElement","select12Hours","duration","unit","transIndex","translateIndex","currentOption","disabledHours","calcIndex","hourRange","disabledMinutes","minuteRange","disabledSeconds","secondRange","perTick","reqAnimFrame","nzHideDisabledOptions","onTouch","nzInDatePicker","isSelectedHour","viewHours","defaultViewHours","isSelectedMinute","isSelectedSecond","isSelected12Hours","use12HoursListElement","updateTime","CmacsPhoneNumberComponent","getNumber","telOutput","telInputObject","inputObject","onCountryChange","countryChange","hasErrorEvent","hasError","formControlCustom","CmacsColorPickerComponent","setColor","colorChange","isColorPickerType","basicColorList","CmacsSwitchComponent","updateValue","LEFT_ARROW","RIGHT_ARROW","switchElement","CmacsTabDirective","CmacsTabLabelDirective","getOffsetLeft","getOffsetWidth","getOffsetTop","getOffsetHeight","offsetHeight","[class.ant-tabs-tab-disabled]","CmacsTabsInkBarDirective","alignToElement","requestAnimationFrame","setStyles","positionMode","getLeftPosition","getElementWidth","getTopPosition","getElementHeight","[class.ant-tabs-ink-bar-animated]","[class.ant-tabs-ink-bar-no-animated]","animated","CmacsTabsNavComponent","_tabPositionMode","alignInkBarToSelectedTab","updatePagination","_selectedIndex","selectedIndexChanged","onContentChanges","textContent","currentTextContent","scrollHeader","scrollDir","disableScrollBefore","disableScrollAfter","onNextClick","onPrevClick","scrollDistance","viewWidthHeightPix","ngAfterContentChecked","tabLabelCount","listOfNzTabLabelDirective","scrollToLabel","checkScrollingControls","scrollDistanceChanged","updateTabScrollPosition","realignInkBar","dirChange","dir","observableOf","translateX","getLayoutDirection","navListElement","checkPaginationEnabled","isEnabled","tabListScrollWidthHeightPix","tabListScrollOffSetWidthHeight","showPaginationControls","labelIndex","selectedLabel","labelBeforePos","labelAfterPos","beforeVisiblePos","afterVisiblePos","getMaxScrollDistance","_scrollDistance","PAGINATION_PIX","navContainerElement","scrollListElement","selectedLabelWrapper","selectedIndex","tabsInkBarDirective","isCmacsType","Directionality","hideBar","[class.ant-tabs-tabpane-active]","[class.ant-tabs-tabpane-inactive]","CmacsTabBodyComponent","forceRender","CmacsTabComponent","stateChanges","deselect","TabChangeEvent","CmacsTabsetComponent","indexToSelect","inkBar","tabPane","setPosition","tabContent","tabsNavComponent","tabPosition","clickLabel","listOfNzTabComponent","createChangeEvent","tab","clampTabIndex","subscribeToTabLabels","tabLabelSubscription","tabPositionMode","indexToSelect_1","isFirstRun_1","selectChange","selectedIndexChange","tabsSubscription","tabs","hideAll","CmacsSidePanelComponent","float","collapsible","CmacsOpenTextareaComponent","textarea","allowEdition","enableDivider","isTextEnabled","startEdition","CmacsMoveableListComponent","onEditIdx","formControl","displayChange","dataChange","switchToEditMode","stopEdition","rowSelectedIdx","hideShow","showLabel","hideLabel","Validators","required","CmacsGridConfigurationModalComponent","stringify","onDataChange","saveConfig","onVisibleChange","modalTitle","saveBtnLabel","CmacsOpenInputComponent","CmacsListComponent","_setClassMap","itemLayout","grid","loadMore","pagination","classicGrid","CmacsListItemMetaComponent","avatarStr","avatarTpl","CmacsListItemComponent","CMACS_MESSAGE_DEFAULT_CONFIG","CMACS_MESSAGE_CONFIG","CMACS_MESSAGE_DEFAULT_CONFIG_PROVIDER","maxStack","pauseOnHover","CmacsMessageContainerComponent","setConfig","toCssPixel","createMessage","message","messages","_mergeMessageOptions","removeMessage","messageId","userAction","removeMessageAll","defaultOptions","defaultConfig","CmacsMessageComponent","_options","_autoErase","_initErase","_startEraseTimeout","_clearEraseTimeout","onEnter","_updateTTL","onLeave","_destroy","_messageContainer","closeMessage","_eraseTTL","_eraseTimingStart","_eraseTimer","moveUpMotion","globalCounter","CmacsMessageBaseService","_container","resultMessage","createdAt","_generateMessageId","_idPrefix","createContainer","componentRef","containerClass","appRef","attachView","overlayPane","CmacsMessageService","info","warning","ApplicationRef","CmacsCompactTableComponent","validate","validators","valid","addRow","onrowadded","editionOpTriggered","ondrop","deleteRow","itemToRemove","onrowdeleted","emitOnEditEvent","handleMouseDown","dateTimePickerElement","inputNumberComponent","getCustomPadding","indentSize","expandable","cmacsEditedProp","nodeOnEdition","checkboxTempCache","checkChildrenState","checkChildrenStateRec","getNode","fieldID","updateCheckboxCacheTreeData","convertExpandTreeToList","plainList","isTime","setFieldsDefault","exportTreePdf","exportTreeExcel","mapOfExpandedData","exportTreeToPdfRec","offSetMargin","coercedItem","parentStyles","cellPadding","expand","collapse","onCheckboxTreeChange","updateTreeCheckboxes","exportTreeExcelRec","clickBooleanCell","getClassMap","logs","ngClass","getMaxWidthFieldViewMode","getStickyWidth","smartTable","getStickyWidthRight","extra","[class.cmacs-compact-table-logs]","defaultTimeValue","SIGNATURE_LOCALIZATION","Click here to sign","Sign to Complete","Cancel","Verify","Enter Your Name","Text Here","Draw","I, User Full Name, have reviewed and completed this report.","Select here to save your signature for future use.","Signature","Drag & Drop File Here or","Browse Computer","CmacsSignatureComponent","_currentValue","signaturePad","onResizeStop","_uploadedImageSrcStyle","onMoveEnd","extname","filenameWithoutSuffix","exec","isValid","formGroup","_signatureDataUrl","_uploadedImageSrc","updateCurrent","drawComplete","extendedVersion","ondrawend","openModal","_isVisible","handleCancel","controls","markAsPristine","updateValueAndValidity","saveSignature","files","oncancel","handleOk","saveForFutureUse","userSignature","signatureType","signatureImgStyle","onsubmit","checkPressedKeys","which","toData","fromData","FormBuilder","SignaturePad","fb","_signaturePadOptions","dotSize","canvasWidth","canvasHeight","signaturePadOptions","beforeUpload","extension","reader_1","FileReader","linkProps","readAsDataURL","username","CmacsSectionComponent","collapseSection","triggerCollapseEvents","before","onbeforeexpand","onbeforecollapse","oncollapse","onexpand","widgetSpan","showCollapse","CmacsTooltipComponent","visibleSource","cmacsVisibleChange","_trigger","_hasBackdrop","_placement","_positions","isContentEmpty","cmacsVisible","_afterVisibilityAnimation","_classMap","_prefix","setOverlayOrigin","overlayOrigin","DEFAULT_TOOLTIP_POSITIONS","mouseEnterDelay","mouseLeaveDelay","CmacsTooltipDirective","updateProxies","tooltipComponent","createComponent","isDynamicTooltip","needProxyProperties","updateCompValue","visible_","subs_","overlayElement_1","listen","delayEnterLeave","isTooltipOpen","isOrigin","isEnter","delay","delayTimer","setTitle","[class.ant-tooltip-open]","resolver","CmacsPopoverComponent","isTitleEmpty","[class.ant-popover-open]","CmacsPopoverDirective","CmacsTreeSelectService","higherOrderServiceFactory","CmacsTreeSelectComponent","onaddparentevt","onaddparent","treeRef","multiple","isDestroy","selectionChangeSubscription","subscribeSelectionChange","updateSelectedNodes","removeSelected","openDropdown","focusOnInput","onKeyDownInput","removeNode","onExpandedKeysChange","expandChange","defaultExpandedKeys","updateInputWidth","setSelectedNodeList","removed","treeClick","nodes","treeCheckBoxChange","cleared","isNotFound","setSearchValues","displayWith","CmacsTimelineDatepickerComponent","_selectedRangeIdxs","_date","getWeekNumber","_range","stDateYear","getISOYear","ndDateYear","selectedRangeIdxs","sumWeeks","getISOWeeksInYear","getValuesSlider","rangeChange","getWeek","dateChange","updateLocale","weekLocale","weeksInYear","ranged","updateSelectedMode","modeOptions","getWeeksInYear","getDefaultMonths","rangedMonth","rangedWeeks","formatWeekNumber","customSelect","getSelected","gutter","restrictMode","dow","doy","CmacsXlsxLoaderComponent","parseXlsx","headers","originalHeaders","matchedHeaders","matchedColumn","unshift","configurationChange","configuration","onsave","MatchedColumn","reader","bstr","wb","XLSX.read","wsname","ws","sheet_to_json","blankrows","dateNF","createHeaders","readAsBinaryString","DisplayName","PropertyId","onSelectionChange","previousSelected","disableSaveBtn","Required","cancelBtnLabel","infoTemplate","CmacsEditorComponent","tinyMceSettings","mobile","plugins","toolbar","toolbarmobile","menubar","image_title","automatic_uploads","statusbar","file_picker_types","images_upload_url","setup","editor","on","onblur","onkeyup","onchange","showEditor","CMACS_COMMENT_CELLS","registerLocaleData","en","en_US","CmacsComponentsLibModule","OverlayModule","NgZorroAntdModule","NzIconModule","NzOverlayModule","NzNoAnimationModule","NgxChartsModule","ExportAsModule","NzMenuModule","NzGridModule","LayoutModule","PlatformModule","ReactiveFormsModule","VgCoreModule","VgControlsModule","VgOverlayPlayModule","VgBufferingModule","EditorModule","Ng2TelInputModule","DragDropModule","ObserversModule","NzAddOnModule","LazyLoadImageModule","SignaturePadModule","AngularDraggableModule","NZ_I18N","ɵ0$2","entryComponents","ModalBuilderForService","changeProps","createModal","CmacsModalService","confirm","confirmType","logger","warn","simpleConfirm","LoggerService","Primary","Dashed","Closeable","Checkable","general","resourcesOverview","defects","burnDown","priorityDistribution","employeeHours","locationDistribution","emsGroups","projectProgress"],"mappings":"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AACjrC,EAAAA,SAAQ10D,KAAA,CAAC,CACRi1D,aAAY75D,GAAA,CACVgjG,GACA9D,GACAgC,GACA3D,GACAN,GACAG,GACAvB,GACAjB,GACAV,GACApK,GACAiH,GACApG,GACA7B,GACA8D,GACApD,GACAH,GACA1uB,GACAkuB,GACAP,GACAb,GACAN,GACA3G,GACAoB,GACAuD,GACA1E,GACA4E,GACArE,GACAyE,GACA3kF,GACA+3E,GACA3+E,GACA8H,GACA9H,GACA8P,GACAnH,GACA4R,GACAgB,GACAzG,GACAsI,GACAG,GACAC,GACAC,GACAC,GACAE,GACAuC,GACAsB,GACAT,GACAkB,GACAK,GACAM,GACAI,GACAiB,GACA+B,GACAN,GACAwB,GACAW,GACAC,GACA2B,GACAwC,GACAvB,GACAA,GACAyP,GACAoJ,GACAyF,GACAiM,GACA7H,GACAsG,GACAqD,GACA34B,GACAu6B,GACA6H,GACAI,GACAwB,GACAG,GACAD,GACA6E,GACAC,GACAC,GACA6B,GACAxB,GACAJ,GACAE,GACAD,GACAE,GACAmV,GACAiB,GACAM,GACAmF,GACAR,GACAxH,GACA1B,GACAkL,GACAqD,GACAxC,GACAqB,GACAhC,GACAD,GACAoC,GACAiE,GACA0C,GACAvD,GACAC,GACAO,GACArC,GACAS,GACAX,GACAsC,GACAD,GACAn9B,GACAJ,GACAijC,GACAx7B,GACA66B,GACA2B,GACA6C,IACG4vB,GAAmB,CACtBruB,GACAS,GACAkG,GACAoB,GACAa,GACA3I,GACApE,GACAmN,GACA2C,GACA7B,GACAwF,GACAU,GACAK,GACA6G,KAEFzzB,QAAS,CACPC,EAAAA,aACAC,EAAAA,YACA+qC,EAAAA,cACA1qC,GACA2qC,EAAAA,kBACAC,EAAAA,aACAhrC,EAAAA,aACAirC,EAAAA,gBACAC,EAAAA,oBACAC,EAAAA,gBACAC,EAAAA,eACAC,EAAAA,aACAC,EAAAA,aACAC,EAAAA,aACAC,EAAAA,eACAC,EAAAA,oBACAC,EAAAA,aACAC,EAAAA,iBACAC,EAAAA,oBACAC,EAAAA,kBACAC,EAAAA,aACAC,EAAAA,kBACAC,EAAAA,eACAC,EAAAA,gBACAC,EAAAA,cACAC,EAAAA,oBACAC,EAAAA,mBACAC,EAAAA,wBAEFnsC,QAAO55D,GAAA,CACLk/F,GACA8D,GACA9B,GACArF,GACA0B,GACAN,GACAG,GACAxC,GACAV,GACApK,GACAiH,GACAnE,GACAjC,GACA7B,GACAU,GACAH,GACAtyB,GACAiB,GACAM,GACAqC,GACAkuB,GACAP,GACAnB,GACAM,GACAjH,GACAoB,GACAuD,GACA1E,GACA4E,GACArE,GACAyE,GACA3kF,GACA5G,GACA8H,GACAgI,GACAnH,GACA4R,GACAgB,GACAzG,GACAsI,GACAG,GACAC,GACAC,GACAC,GACAE,GACAuC,GACAsB,GACAT,GACAkB,GACAK,GACAM,GACAI,GACAiB,GACA+B,GACAN,GACAwB,GACAW,GACAC,GACA2B,GACAwC,GACAvB,GACAyP,GACAoJ,GACAyF,GACAiM,GACA7H,GACAsG,GACAqD,GACA34B,GACAu6B,GACA6H,GACAI,GACAwB,GACAG,GACAD,GACA6E,GACAC,GACAC,GACA6B,GACA5B,GACAE,GACAD,GACAE,GACAkS,GACAirC,EAAAA,aACAthC,GACAR,GACAxH,GACA1B,GACAkL,GACAa,GACAqB,GACAhC,GACAD,GACAoD,GACAiD,GACA0C,GACAvD,GACAC,GACAO,GACArC,GACAS,GACAX,GACAsC,GACAD,GACAg6B,EAAAA,aACAH,EAAAA,gBACAI,EAAAA,aACAC,EAAAA,eACAC,EAAAA,oBACAz0B,GACAx7B,GACA66B,GACA2B,GACA6C,IACG4vB,GAAmB,CACtBruB,GACAS,GACAkG,GACAoB,GACAa,GACA3I,GACApE,GACAmN,GACA2C,GACA7B,GACAf,GACAuG,GACAU,GACAK,GACA6G,KAEFjoF,UAAW,CAAC,CAAEoK,QAAS62F,EAAAA,QAASrnD,SAAQsnD,IAAWnlE,EAAAA,SAAU6mC,GAAsBgoB,GAAuC6C,IAC1H0T,gBAAiB,CACfptD,GACAwuB,GACAwoB,GACA8K,G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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import {\r\n  AfterContentInit, AfterViewInit,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ContentChildren,\r\n  ElementRef,\r\n  HostBinding,\r\n  Inject,\r\n  Input,\r\n  NgZone,\r\n  OnChanges,\r\n  OnDestroy,\r\n  OnInit,\r\n  Optional,\r\n  QueryList,\r\n  Renderer2,\r\n  SimpleChanges,\r\n  ViewChild, ViewChildren,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { ANIMATION_MODULE_TYPE } from '@angular/platform-browser/animations';\r\n\r\nimport {\r\n  findFirstNotEmptyNode,\r\n  findLastNotEmptyNode,\r\n  isEmpty,\r\n  InputBoolean,\r\n  NzSizeLDSType,\r\n  NzSizeMap,\r\n  NzUpdateHostClassService,\r\n  NzWaveConfig,\r\n  NzWaveDirective,\r\n  NZ_WAVE_GLOBAL_CONFIG\r\n} from 'ng-zorro-antd/core';\r\nimport { NzIconDirective } from 'ng-zorro-antd/icon';\r\n\r\nexport type CmacsButtonType = 'primary' | 'dashed' | 'danger' | 'default';\r\nexport type CmacsButtonShape = 'circle' | 'round' | null;\r\n\r\n@Component({\r\n// tslint:disable-next-line: component-selector\r\n  selector: '[cmacs-button]',\r\n  exportAs: 'cmacsButton',\r\n  providers: [NzUpdateHostClassService],\r\n  preserveWhitespaces: false,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  templateUrl: './cmacs-button.component.html',\r\n  styleUrls: ['./cmacs-button.component.css'],\r\n})\r\nexport class CmacsButtonComponent implements AfterContentInit, AfterViewInit, OnInit, OnDestroy, OnChanges {\r\n  readonly el: HTMLElement = this.elementRef.nativeElement;\r\n  private iconElement: HTMLElement;\r\n  private iconOnly = false;\r\n  @ViewChild('contentElement') contentElement: ElementRef;\r\n  @ContentChildren(NzIconDirective, { read: ElementRef }) listOfIconElement: QueryList<ElementRef>;\r\n  @HostBinding('attr.nz-wave') nzWave = new NzWaveDirective(\r\n    this.zone,\r\n    this.elementRef,\r\n    this.waveConfig,\r\n    this.animationType\r\n  );\r\n  // tslint:disable-next-line: no-input-rename\r\n  @Input('block') @InputBoolean() nzBlock = false;\r\n  // tslint:disable-next-line: no-input-rename\r\n  @Input('ghost') @InputBoolean() nzGhost = false;\r\n  // tslint:disable-next-line: no-input-rename\r\n  @Input('search') @InputBoolean() nzSearch = false;\r\n  @Input() @InputBoolean() loading = false;\r\n  @Input() @InputBoolean() action = false;\r\n  @Input() type: CmacsButtonType = 'default';\r\n  @Input() shape: CmacsButtonShape = null;\r\n  @Input() size: NzSizeLDSType = 'default';\r\n\r\n  setClassMap(): void {\r\n    const prefixCls = 'ant-btn';\r\n    const prefixCmacs = 'cmacs-btn';\r\n    const sizeMap: NzSizeMap = { large: 'lg', small: 'sm' };\r\n    this.updateHostClassService.updateHostClass(this.el, {\r\n      [`${prefixCls}-${this.type}`]: this.type,\r\n      [`${prefixCls}-${this.shape}`]: this.shape,\r\n      [`${prefixCls}-${sizeMap[this.size]}`]: sizeMap[this.size],\r\n      [`${prefixCls}-loading`]: this.loading,\r\n      [`${prefixCls}-icon-only`]: this.iconOnly,\r\n      [`${prefixCmacs}-action`]: this.action,\r\n      [`${prefixCmacs}-with-icon`]: this.listOfIconElement !== undefined && this.listOfIconElement.length > 0 && this.contentElement.nativeElement.style.display !== 'none',\r\n      [`${prefixCls}-background-ghost`]: this.nzGhost,\r\n      [`${prefixCls}-block`]: this.nzBlock,\r\n      [`ant-input-search-button`]: this.nzSearch\r\n    });\r\n  }\r\n\r\n  updateIconDisplay(value: boolean): void {\r\n    if (this.iconElement) {\r\n      this.renderer.setStyle(this.iconElement, 'display', value ? 'none' : 'inline-block');\r\n    }\r\n  }\r\n\r\n  checkContent(): void {\r\n    const hasIcon = this.listOfIconElement && this.listOfIconElement.length;\r\n    if (hasIcon) {\r\n      this.moveIcon();\r\n    }\r\n    this.renderer.removeStyle(this.contentElement.nativeElement, 'display');\r\n\r\n    if (isEmpty(this.contentElement.nativeElement)) {\r\n      this.renderer.setStyle(this.contentElement.nativeElement, 'display', 'none');\r\n    } else {\r\n      this.renderer.removeStyle(this.contentElement.nativeElement, 'display');\r\n\r\n      if (this.contentElement.nativeElement.children.length === 1 &&\r\n        this.contentElement.nativeElement.children[0].tagName === \"I\" &&\r\n        this.contentElement.nativeElement.innerText === '') {\r\n        this.iconOnly = true;\r\n      }\r\n    }\r\n    this.setClassMap();\r\n    this.updateIconDisplay(this.loading);\r\n    this.cdr.detectChanges();\r\n  }\r\n\r\n  moveIcon(): void {\r\n    if (this.listOfIconElement && this.listOfIconElement.length) {\r\n      const firstChildElement = findFirstNotEmptyNode(this.contentElement.nativeElement);\r\n      const lastChildElement = findLastNotEmptyNode(this.contentElement.nativeElement);\r\n      if (firstChildElement && firstChildElement === this.listOfIconElement.first.nativeElement) {\r\n        this.renderer.insertBefore(this.el, firstChildElement, this.contentElement.nativeElement);\r\n        this.iconElement = firstChildElement as HTMLElement;\r\n      } else if (lastChildElement && lastChildElement === this.listOfIconElement.last.nativeElement) {\r\n        this.renderer.appendChild(this.el, lastChildElement);\r\n      }\r\n    }\r\n  }\r\n\r\n  constructor(\r\n    private elementRef: ElementRef,\r\n    private cdr: ChangeDetectorRef,\r\n    private renderer: Renderer2,\r\n    private updateHostClassService: NzUpdateHostClassService,\r\n    private zone: NgZone,\r\n    @Optional() @Inject(NZ_WAVE_GLOBAL_CONFIG) private waveConfig: NzWaveConfig,\r\n    @Optional() @Inject(ANIMATION_MODULE_TYPE) private animationType: string\r\n  ) {\r\n    this.renderer.addClass(elementRef.nativeElement, 'ant-btn');\r\n  }\r\n\r\n  ngAfterContentInit(): void {\r\n    this.checkContent();\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.imageWrapper();\r\n    this.cdr.detectChanges();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.setClassMap();\r\n    this.nzWave.ngOnInit();\r\n  }\r\n\r\n  imageWrapper(): void {\r\n    const el = this.contentElement.nativeElement;\r\n    let iconList = el.querySelectorAll('i');\r\n\r\n    iconList.forEach(icon => {\r\n      const wrapper = document.createElement('span');\r\n      wrapper.classList.add('iconspan');\r\n      icon.parentNode.insertBefore(wrapper, icon);\r\n      wrapper.appendChild(icon);\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.nzWave.ngOnDestroy();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (\r\n      changes.nzBlock ||\r\n      changes.nzGhost ||\r\n      changes.nzSearch ||\r\n      changes.nzType ||\r\n      changes.nzShape ||\r\n      changes.nzSize ||\r\n      changes.nzLoading\r\n    ) {\r\n      this.setClassMap();\r\n    }\r\n    if (changes.nzLoading) {\r\n      this.updateIconDisplay(this.loading);\r\n    }\r\n  }\r\n\r\n  hideBtn(): void {\r\n    this.elementRef.nativeElement.style.display = 'none';\r\n  }\r\n\r\n  showBtn(): void {\r\n    this.elementRef.nativeElement.style.display = 'inline-block';\r\n  }\r\n\r\n  disabledBtn(): void {\r\n    this.elementRef.nativeElement.disabled = true;\r\n  }\r\n}\r\n","import { ChangeDetectionStrategy, Component, ElementRef, Input, OnInit, ViewEncapsulation, AfterContentInit, ViewChildren, ContentChildren, QueryList } from '@angular/core';\r\n\r\nimport { NzSizeLDSType, NzUpdateHostClassService, InputNumber, InputBoolean } from 'ng-zorro-antd/core';\r\nimport { CmacsButtonComponent } from './cmacs-button.component';\r\n\r\n@Component({\r\n// tslint:disable-next-line: component-selector\r\n  selector: 'cmacs-button-group',\r\n  exportAs: 'cmacsButtonGroup',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  preserveWhitespaces: false,\r\n  providers: [NzUpdateHostClassService],\r\n  styleUrls: ['./cmacs-button-group.component.css'],\r\n  templateUrl: './cmacs-button-group.component.html'\r\n})\r\nexport class CmacsButtonGroupComponent implements OnInit, AfterContentInit {\r\n  @Input()\r\n  get nzSize(): NzSizeLDSType {\r\n    return this._size;\r\n  }\r\n\r\n  set nzSize(value: NzSizeLDSType) {\r\n    this._size = value;\r\n    this.setClassMap();\r\n  }\r\n  @Input() @InputBoolean() overlap = false;\r\n  @Input() @InputBoolean() disabled = false;\r\n  @Input() @InputBoolean() disabledNav = false;\r\n\r\n  constructor(private nzUpdateHostClassService: NzUpdateHostClassService, private elementRef: ElementRef) {}\r\n\r\n// tslint:disable-next-line: variable-name\r\n  private _size: NzSizeLDSType;\r\n  private prefixCls = 'ant-btn-group';\r\n  buttons: CmacsButtonComponent[] = [];\r\n  indexBtn = 0;\r\n\r\n  @ContentChildren(CmacsButtonComponent) contentButtons: QueryList<CmacsButtonComponent>;\r\n\r\n  setClassMap(): void {\r\n    const classMap = {\r\n      [this.prefixCls]: true,\r\n      [`${this.prefixCls}-lg`]: this.nzSize === 'large',\r\n      [`${this.prefixCls}-sm`]: this.nzSize === 'small'\r\n    };\r\n    this.nzUpdateHostClassService.updateHostClass(this.elementRef.nativeElement, classMap);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.setClassMap();\r\n  }\r\n\r\n  ngAfterContentInit(): void {\r\n    this.buttons = this.contentButtons.toArray();\r\n    if (this.overlap) {\r\n      for (let index = 1; index < this.buttons.length; index++) {\r\n        this.buttons[index].hideBtn();\r\n      }\r\n    }\r\n    if (this.disabled) {\r\n      for (const iterator of this.buttons) {\r\n        iterator.disabledBtn();\r\n      }\r\n    }\r\n  }\r\n\r\n  moveLeft(): void {\r\n    this.buttons[this.indexBtn--].hideBtn();\r\n    this.buttons[this.indexBtn].showBtn();\r\n  }\r\n\r\n  moveRight(): void {\r\n    this.buttons[this.indexBtn++].hideBtn();\r\n    this.buttons[this.indexBtn].showBtn();\r\n  }\r\n\r\n  isDisableLeft(): boolean {\r\n    return this.indexBtn === 0 || this.disabled || this.disabledNav;\r\n  }\r\n\r\n  isDisableRight(): boolean {\r\n    return this.indexBtn === this.buttons.length - 1 || this.disabled || this.disabledNav;\r\n  }\r\n}\r\n","import { Directive, ElementRef, Input, Optional, Renderer2, Self } from '@angular/core';\r\nimport { NgControl } from '@angular/forms';\r\nimport { toBoolean, NzSizeLDSType } from 'ng-zorro-antd/core';\r\nimport {InputBoolean} from \"ng-zorro-antd\";\r\n\r\n@Directive({\r\n// tslint:disable-next-line: directive-selector\r\n  selector: '[cmacs-input]',\r\n  exportAs: 'cmacsInput',\r\n// tslint:disable-next-line: use-host-property-decorator\r\n  host: {\r\n    '[class.ant-input-disabled]': 'disabled',\r\n    '[class.cmacs-input-opened]': 'opened',\r\n    '[class.ant-input-lg]': `size === 'large'`,\r\n    '[class.ant-input-sm]': `size === 'small'`\r\n  }\r\n})\r\nexport class CmacsInputDirective {\r\n// tslint:disable-next-line: variable-name\r\n  private _disabled = false;\r\n  @Input() size: NzSizeLDSType = 'default';\r\n  @Input() @InputBoolean() opened = false;\r\n\r\n  @Input()\r\n  set disabled(value: boolean) {\r\n    this._disabled = toBoolean(value);\r\n  }\r\n\r\n  get disabled(): boolean {\r\n    if (this.ngControl && this.ngControl.disabled !== null) {\r\n      return this.ngControl.disabled;\r\n    }\r\n    return this._disabled;\r\n  }\r\n\r\n  constructor(@Optional() @Self() public ngControl: NgControl, renderer: Renderer2, elementRef: ElementRef) {\r\n    renderer.addClass(elementRef.nativeElement, 'ant-input');\r\n    renderer.addClass(elementRef.nativeElement, 'cmacs-input-fix');\r\n  }\r\n}\r\n","import { FocusMonitor } from '@angular/cdk/a11y';\r\nimport { DOWN_ARROW, ENTER, UP_ARROW } from '@angular/cdk/keycodes';\r\nimport {\r\n  forwardRef,\r\n  AfterViewInit,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  OnInit,\r\n  Output,\r\n  Renderer2,\r\n  SimpleChanges,\r\n  ViewChild,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\n\r\nimport { isNotNil, InputBoolean, NzSizeLDSType } from 'ng-zorro-antd/core';\r\n\r\n@Component({\r\n// tslint:disable-next-line: component-selector\r\n  selector: 'cmacs-input-number',\r\n  exportAs: 'cmacsInputNumber',\r\n  templateUrl: './cmacs-input-number.component.html',\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: forwardRef(() => CmacsInputNumberComponent),\r\n      multi: true\r\n    }\r\n  ],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n// tslint:disable-next-line: use-host-property-decorator\r\n  host: {\r\n    '[class.ant-input-number-focused]': 'isFocused',\r\n    '[class.ant-input-number-lg]': `size === 'large'`,\r\n    '[class.ant-input-number-sm]': `size === 'small'`,\r\n    '[class.ant-input-number-disabled]': 'disabled'\r\n  },\r\n  styleUrls: ['./cmacs-input-number.component.css'],\r\n})\r\nexport class CmacsInputNumberComponent implements ControlValueAccessor, AfterViewInit, OnChanges, OnInit, OnDestroy {\r\n  private autoStepTimer: number;\r\n  private actualValue: string | number;\r\n  private value: string | number;\r\n  displayValue: string | number;\r\n  isFocused = false;\r\n  disabledUp = false;\r\n  disabledDown = false;\r\n  onChange: (value: number) => void = () => null;\r\n  onTouched: () => void = () => null;\r\n// tslint:disable-next-line: member-ordering\r\n  @Output() readonly cmacsBlur = new EventEmitter();\r\n// tslint:disable-next-line: member-ordering\r\n  @Output() readonly cmacsFocus = new EventEmitter();\r\n// tslint:disable-next-line: member-ordering\r\n  @ViewChild('inputElement') inputElement: ElementRef;\r\n// tslint:disable-next-line: member-ordering\r\n  @Input() size: NzSizeLDSType = 'default';\r\n// tslint:disable-next-line: member-ordering\r\n  @Input() min = -Infinity;\r\n  // tslint:disable-next-line: member-ordering\r\n  @Input() max = Infinity;\r\n  @Input() parser = (value: any) => value; // tslint:disable-line:no-any\r\n  // tslint:disable-next-line: member-ordering\r\n  @Input() precision: number;\r\n  // tslint:disable-next-line: member-ordering\r\n  @Input() placeHolder = '';\r\n  // tslint:disable-next-line: member-ordering\r\n  @Input() cmacsStep = 1;\r\n  // tslint:disable-next-line: member-ordering\r\n  @Input() @InputBoolean() disabled = false;\r\n  // tslint:disable-next-line: member-ordering\r\n  @Input() @InputBoolean() autoFocus = false;\r\n  @Input() formatter: (value: number) => string | number = value => value;\r\n\r\n  [property: string]: any; // tslint:disable-line:no-any\r\n\r\n  updateAutoFocus(): void {\r\n    if (this.autoFocus) {\r\n      this.renderer.setAttribute(this.inputElement.nativeElement, 'autofocus', 'autofocus');\r\n    } else {\r\n      this.renderer.removeAttribute(this.inputElement.nativeElement, 'autofocus');\r\n    }\r\n  }\r\n\r\n  onModelChange(value: string): void {\r\n    this.actualValue = this.parser(\r\n      value\r\n        .trim()\r\n        .replace(/ã/g, '.')\r\n        .replace(/[^\\w\\.-]+/g, '')\r\n    );\r\n    this.inputElement.nativeElement.value = this.actualValue;\r\n  }\r\n\r\n  getCurrentValidValue(value: string | number): number {\r\n    let val = value;\r\n    if (val === '') {\r\n      val = '';\r\n    } else if (!this.isNotCompleteNumber(val)) {\r\n      val = this.getValidValue(val) as string;\r\n    } else {\r\n      val = this.value;\r\n    }\r\n    return this.toNumber(val);\r\n  }\r\n\r\n  // '1.' '1x' 'xx' '' => are not complete numbers\r\n  isNotCompleteNumber(num: string | number): boolean {\r\n    return (\r\n      isNaN(num as number) ||\r\n      num === '' ||\r\n      num === null ||\r\n      !!(num && num.toString().indexOf('.') === num.toString().length - 1)\r\n    );\r\n  }\r\n\r\n  getValidValue(value?: string | number): string | number | undefined {\r\n    let val = parseFloat(value as string);\r\n    if (isNaN(val)) {\r\n      return value;\r\n    }\r\n    if (val < this.min) {\r\n      val = this.min;\r\n    }\r\n    if (val > this.max) {\r\n      val = this.max;\r\n    }\r\n    return val;\r\n  }\r\n\r\n  toNumber(num: string | number): number {\r\n    if (this.isNotCompleteNumber(num)) {\r\n      return num as number;\r\n    }\r\n    if (isNotNil(this.precision)) {\r\n      return Number(Number(num).toFixed(this.precision));\r\n    }\r\n    return Number(num);\r\n  }\r\n\r\n  setValidateValue(): void {\r\n    const value = this.getCurrentValidValue(this.actualValue);\r\n    this.setValue(value, `${this.value}` !== `${value}`);\r\n  }\r\n\r\n  onBlur(): void {\r\n    this.isFocused = false;\r\n    this.setValidateValue();\r\n  }\r\n\r\n  onFocus(): void {\r\n    this.isFocused = true;\r\n  }\r\n\r\n  getRatio(e: KeyboardEvent): number {\r\n    let ratio = 1;\r\n    if (e.metaKey || e.ctrlKey) {\r\n      ratio = 0.1;\r\n    } else if (e.shiftKey) {\r\n      ratio = 10;\r\n    }\r\n    return ratio;\r\n  }\r\n\r\n  down(e: MouseEvent | KeyboardEvent, ratio?: number): void {\r\n    if (!this.isFocused) {\r\n      this.focus();\r\n    }\r\n    this.step('down', e, ratio);\r\n  }\r\n\r\n  up(e: MouseEvent | KeyboardEvent, ratio?: number): void {\r\n    if (!this.isFocused) {\r\n      this.focus();\r\n    }\r\n    this.step('up', e, ratio);\r\n  }\r\n\r\n  getPrecision(value: number): number {\r\n    const valueString = value.toString();\r\n    if (valueString.indexOf('e-') >= 0) {\r\n      return parseInt(valueString.slice(valueString.indexOf('e-') + 2), 10);\r\n    }\r\n    let precision = 0;\r\n    if (valueString.indexOf('.') >= 0) {\r\n      precision = valueString.length - valueString.indexOf('.') - 1;\r\n    }\r\n    return precision;\r\n  }\r\n\r\n  getMaxPrecision(currentValue: string | number, ratio: number): number {\r\n    if (isNotNil(this.precision)) {\r\n      return this.precision;\r\n    }\r\n    const ratioPrecision = this.getPrecision(ratio);\r\n    const stepPrecision = this.getPrecision(this.cmacsStep);\r\n    const currentValuePrecision = this.getPrecision(currentValue as number);\r\n    if (!currentValue) {\r\n      return ratioPrecision + stepPrecision;\r\n    }\r\n    return Math.max(currentValuePrecision, ratioPrecision + stepPrecision);\r\n  }\r\n\r\n  getPrecisionFactor(currentValue: string | number, ratio: number): number {\r\n    const precision = this.getMaxPrecision(currentValue, ratio);\r\n    return Math.pow(10, precision);\r\n  }\r\n\r\n  upStep(val: string | number, rat: number): number {\r\n    const precisionFactor = this.getPrecisionFactor(val, rat);\r\n    const precision = Math.abs(this.getMaxPrecision(val, rat));\r\n    let result;\r\n    if (typeof val === 'number') {\r\n      result = ((precisionFactor * val + precisionFactor * this.cmacsStep * rat) / precisionFactor).toFixed(precision);\r\n    } else {\r\n      result = this.min === -Infinity ? this.cmacsStep : this.min;\r\n    }\r\n    return this.toNumber(result);\r\n  }\r\n\r\n  downStep(val: string | number, rat: number): number {\r\n    const precisionFactor = this.getPrecisionFactor(val, rat);\r\n    const precision = Math.abs(this.getMaxPrecision(val, rat));\r\n    let result;\r\n    if (typeof val === 'number') {\r\n      result = ((precisionFactor * val - precisionFactor * this.cmacsStep * rat) / precisionFactor).toFixed(precision);\r\n    } else {\r\n      result = this.min === -Infinity ? -this.cmacsStep : this.min;\r\n    }\r\n    return this.toNumber(result);\r\n  }\r\n\r\n  step(type: string, e: MouseEvent | KeyboardEvent, ratio: number = 1): void {\r\n    this.stop();\r\n    e.preventDefault();\r\n    if (this.disabled) {\r\n      return;\r\n    }\r\n    const value = this.getCurrentValidValue(this.actualValue) || 0;\r\n    let val = 0;\r\n    if (type === 'up') {\r\n      val = this.upStep(value, ratio);\r\n    } else if (type === 'down') {\r\n      val = this.downStep(value, ratio);\r\n    }\r\n    const outOfRange = val > this.max || val < this.min;\r\n    if (val > this.max) {\r\n      val = this.max;\r\n    } else if (val < this.min) {\r\n      val = this.min;\r\n    }\r\n    this.setValue(val, true);\r\n    this.isFocused = true;\r\n    if (outOfRange) {\r\n      return;\r\n    }\r\n    this.autoStepTimer = window.setTimeout(() => {\r\n      this[type](e, ratio, true);\r\n    }, 600);\r\n  }\r\n\r\n  stop(): void {\r\n    if (this.autoStepTimer) {\r\n      clearTimeout(this.autoStepTimer);\r\n    }\r\n  }\r\n\r\n  setValue(value: number, emit: boolean): void {\r\n    if (emit && `${this.value}` !== `${value}`) {\r\n      this.onChange(value);\r\n    }\r\n    this.value = value;\r\n    this.actualValue = value;\r\n    const displayValue = isNotNil(this.formatter(this.value)) ? this.formatter(this.value) : '';\r\n    this.displayValue = displayValue;\r\n    this.inputElement.nativeElement.value = displayValue;\r\n    this.disabledUp = this.disabledDown = false;\r\n    if (value || value === 0) {\r\n      const val = Number(value);\r\n      if (val >= this.max) {\r\n        this.disabledUp = true;\r\n      }\r\n      if (val <= this.min) {\r\n        this.disabledDown = true;\r\n      }\r\n    }\r\n  }\r\n\r\n  onKeyDown(e: KeyboardEvent): void {\r\n// tslint:disable-next-line: deprecation\r\n    if (e.code === 'ArrowUp' || e.keyCode === UP_ARROW) {\r\n      const ratio = this.getRatio(e);\r\n      this.up(e, ratio);\r\n      this.stop();\r\n// tslint:disable-next-line: deprecation\r\n    } else if (e.code === 'ArrowDown' || e.keyCode === DOWN_ARROW) {\r\n      const ratio = this.getRatio(e);\r\n      this.down(e, ratio);\r\n      this.stop();\r\n// tslint:disable-next-line: deprecation\r\n    } else if (e.keyCode === ENTER) {\r\n      this.setValidateValue();\r\n    }\r\n  }\r\n\r\n  onKeyUp(): void {\r\n    this.stop();\r\n  }\r\n\r\n  writeValue(value: number): void {\r\n    this.setValue(value, false);\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  registerOnChange(fn: (_: number) => void): void {\r\n    this.onChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: () => void): void {\r\n    this.onTouched = fn;\r\n  }\r\n\r\n  setDisabledState(isDisabled: boolean): void {\r\n    this.disabled = isDisabled;\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  focus(): void {\r\n    this.focusMonitor.focusVia(this.inputElement, 'keyboard');\r\n  }\r\n\r\n  blur(): void {\r\n    this.inputElement.nativeElement.blur();\r\n  }\r\n\r\n  constructor(\r\n    private elementRef: ElementRef,\r\n    private renderer: Renderer2,\r\n    private cdr: ChangeDetectorRef,\r\n    private focusMonitor: FocusMonitor\r\n  ) {\r\n    renderer.addClass(elementRef.nativeElement, 'ant-input-number');\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.focusMonitor.monitor(this.elementRef, true).subscribe(focusOrigin => {\r\n      if (!focusOrigin) {\r\n        this.onBlur();\r\n        this.cmacsBlur.emit();\r\n        Promise.resolve().then(() => this.onTouched());\r\n      } else {\r\n        this.onFocus();\r\n        this.cmacsFocus.emit();\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes.autoFocus) {\r\n      this.updateAutoFocus();\r\n    }\r\n    if (changes.formatter) {\r\n      const value = this.getCurrentValidValue(this.actualValue);\r\n      this.setValue(value, true);\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    if (this.autoFocus) {\r\n      this.focus();\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.focusMonitor.stopMonitoring(this.elementRef);\r\n  }\r\n}\r\n","import {\r\n  AfterContentInit,\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  ContentChildren,\r\n  Input,\r\n  QueryList,\r\n  TemplateRef,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { InputBoolean, NgClassType, NzSizeLDSType } from 'ng-zorro-antd/core';\r\nimport { CmacsInputDirective } from './cmacs-input.directive';\r\n\r\n@Component({\r\n// tslint:disable-next-line: component-selector\r\n  selector: 'cmacs-input-group',\r\n  exportAs: 'cmacsInputGroup',\r\n  preserveWhitespaces: false,\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  templateUrl: './cmacs-input-group.component.html',\r\n// tslint:disable-next-line: use-host-property-decorator\r\n  host: {\r\n    '[class.ant-input-group-compact]': 'compact',\r\n    '[class.ant-input-search-enter-button]': 'search',\r\n    '[class.ant-input-search]': 'search',\r\n    '[class.ant-input-search-sm]': 'isSmallSearch',\r\n    '[class.ant-input-affix-wrapper]': 'isAffixWrapper',\r\n    '[class.ant-input-group-wrapper]': 'isAddOn',\r\n    '[class.ant-input-group]': 'isGroup',\r\n    '[class.ant-input-group-lg]': 'isLargeGroup',\r\n    '[class.ant-input-group-wrapper-lg]': 'isLargeGroupWrapper',\r\n    '[class.ant-input-affix-wrapper-lg]': 'isLargeAffix',\r\n    '[class.ant-input-search-lg]': 'isLargeSearch',\r\n    '[class.ant-input-group-sm]': 'isSmallGroup',\r\n    '[class.ant-input-affix-wrapper-sm]': 'isSmallAffix',\r\n    '[class.ant-input-group-wrapper-sm]': 'isSmallGroupWrapper'\r\n  }\r\n})\r\nexport class CmacsInputGroupComponent implements AfterContentInit {\r\n  @ContentChildren(CmacsInputDirective) listOfNzInputDirective: QueryList<CmacsInputDirective>;\r\n// tslint:disable-next-line: variable-name\r\n  private _size: NzSizeLDSType = 'default';\r\n  @Input() addOnBeforeIcon: NgClassType;\r\n  @Input() addOnAfterIcon: NgClassType;\r\n  @Input() prefixIcon: NgClassType;\r\n  @Input() suffixIcon: NgClassType;\r\n  @Input() addOnBefore: string | TemplateRef<void>;\r\n  @Input() addOnAfter: string | TemplateRef<void>;\r\n  @Input() prefix: string | TemplateRef<void>;\r\n  @Input() suffix: string | TemplateRef<void>;\r\n  @Input() @InputBoolean() search = false;\r\n  @Input() @InputBoolean() compact = false;\r\n\r\n  @Input() set size(value: NzSizeLDSType) {\r\n    this._size = value;\r\n    this.updateChildrenInputSize();\r\n  }\r\n\r\n  get size(): NzSizeLDSType {\r\n    return this._size;\r\n  }\r\n\r\n  get isLarge(): boolean {\r\n    return this.size === 'large';\r\n  }\r\n\r\n  get isSmall(): boolean {\r\n    return this.size === 'small';\r\n  }\r\n\r\n  get isAffix(): boolean {\r\n    return !!(this.suffix || this.prefix || this.prefixIcon || this.suffixIcon);\r\n  }\r\n\r\n  get isAddOn(): boolean {\r\n    return !!(this.addOnAfter || this.addOnBefore || this.addOnAfterIcon || this.addOnBeforeIcon);\r\n  }\r\n\r\n  get isAffixWrapper(): boolean {\r\n    return this.isAffix && !this.isAddOn;\r\n  }\r\n\r\n  get isGroup(): boolean {\r\n    return !this.isAffix && !this.isAddOn;\r\n  }\r\n\r\n  get isLargeGroup(): boolean {\r\n    return this.isGroup && this.isLarge;\r\n  }\r\n\r\n  get isLargeGroupWrapper(): boolean {\r\n    return this.isAddOn && this.isLarge;\r\n  }\r\n\r\n  get isLargeAffix(): boolean {\r\n    return this.isAffixWrapper && this.isLarge;\r\n  }\r\n\r\n  get isLargeSearch(): boolean {\r\n    return this.search && this.isLarge;\r\n  }\r\n\r\n  get isSmallGroup(): boolean {\r\n    return this.isGroup && this.isSmall;\r\n  }\r\n\r\n  get isSmallAffix(): boolean {\r\n    return this.isAffixWrapper && this.isSmall;\r\n  }\r\n\r\n  get isSmallGroupWrapper(): boolean {\r\n    return this.isAddOn && this.isSmall;\r\n  }\r\n\r\n  get isSmallSearch(): boolean {\r\n    return this.search && this.isSmall;\r\n  }\r\n\r\n  updateChildrenInputSize(): void {\r\n    if (this.listOfNzInputDirective) {\r\n      this.listOfNzInputDirective.forEach(item => (item.size = this.size));\r\n    }\r\n  }\r\n\r\n  ngAfterContentInit(): void {\r\n    this.updateChildrenInputSize();\r\n  }\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\nimport { addMonths, addYears, endOfMonth, setDay, setMonth } from 'date-fns';\r\nimport { IndexableObject } from 'ng-zorro-antd/core';\r\n\r\n/**\r\n * Wrapping kind APIs for date operating and unify\r\n * NOTE: every new API return new CandyDate object without side effects to the former Date object\r\n * NOTE: most APIs are based on local time other than customized locale id (this needs tobe support in future)\r\n * TODO: support format() against to angular's core API\r\n */\r\nexport class CandyDate implements IndexableObject {\r\n  nativeDate: Date;\r\n  // locale: string; // Custom specified locale ID\r\n\r\n  constructor(date?: Date | string) {\r\n    // if (!(this instanceof CandyDate)) {\r\n    //   return new CandyDate(date);\r\n    // }\r\n\r\n    if (date) {\r\n      if (date instanceof Date) {\r\n        this.nativeDate = date;\r\n      } else if (typeof date === 'string') {\r\n        this.nativeDate = new Date(date);\r\n      } else {\r\n        throw new Error('The input date type is not supported (\"Date\" and \"string\" is now recommended)');\r\n      }\r\n    } else {\r\n      this.nativeDate = new Date();\r\n    }\r\n  }\r\n\r\n  // getLocale(): string {\r\n  //   return this.locale;\r\n  // }\r\n\r\n  // setLocale(locale: string): CandyDate {\r\n  //   this.locale = locale;\r\n  //   return this;\r\n  // }\r\n\r\n  // ---------------------------------------------------------------------\r\n  // | Native shortcuts\r\n  // ---------------------------------------------------------------------\r\n\r\n  getYear(): number {\r\n    return this.nativeDate.getFullYear();\r\n  }\r\n\r\n  getMonth(): number {\r\n    return this.nativeDate.getMonth();\r\n  }\r\n\r\n  getDay(): number {\r\n    return this.nativeDate.getDay();\r\n  }\r\n\r\n  getTime(): number {\r\n    return this.nativeDate.getTime();\r\n  }\r\n\r\n  getDate(): number {\r\n    return this.nativeDate.getDate();\r\n  }\r\n\r\n  getHours(): number {\r\n    return this.nativeDate.getHours();\r\n  }\r\n\r\n  getMinutes(): number {\r\n    return this.nativeDate.getMinutes();\r\n  }\r\n\r\n  getSeconds(): number {\r\n    return this.nativeDate.getSeconds();\r\n  }\r\n\r\n  getMilliseconds(): number {\r\n    return this.nativeDate.getMilliseconds();\r\n  }\r\n\r\n  // ---------------------------------------------------------------------\r\n  // | New implementing APIs\r\n  // ---------------------------------------------------------------------\r\n\r\n  clone(): CandyDate {\r\n    return new CandyDate(new Date(this.nativeDate));\r\n  }\r\n\r\n  setHms(hour: number, minute: number, second: number): CandyDate {\r\n    const date = new Date(this.nativeDate);\r\n    date.setHours(hour, minute, second);\r\n    return new CandyDate(date);\r\n  }\r\n\r\n  setYear(year: number): CandyDate {\r\n    // return new CandyDate(setYear(this.date, year));\r\n    const date = new Date(this.nativeDate);\r\n    date.setFullYear(year);\r\n    return new CandyDate(date);\r\n  }\r\n\r\n  addYears(amount: number): CandyDate {\r\n    return new CandyDate(addYears(this.nativeDate, amount));\r\n  }\r\n\r\n  // NOTE: month starts from 0\r\n// tslint:disable-next-line: max-line-length\r\n  // NOTE: Don't use the native API for month manipulation as it not restrict the date when it overflows, eg. (new Date('2018-7-31')).setMonth(1) will be date of 2018-3-03 instead of 2018-2-28\r\n  setMonth(month: number): CandyDate {\r\n    // const date = new Date(this.nativeDate);\r\n    // date.setMonth(month);\r\n    // return new CandyDate(date);\r\n    return new CandyDate(setMonth(this.nativeDate, month));\r\n  }\r\n\r\n  addMonths(amount: number): CandyDate {\r\n    return new CandyDate(addMonths(this.nativeDate, amount));\r\n  }\r\n\r\n  setDay(day: number, options?: { weekStartsOn: number }): CandyDate {\r\n    return new CandyDate(setDay(this.nativeDate, day, options));\r\n  }\r\n\r\n  setDate(amount: number): CandyDate {\r\n    const date = new Date(this.nativeDate);\r\n    date.setDate(amount);\r\n    return new CandyDate(date);\r\n  }\r\n\r\n  addDays(amount: number): CandyDate {\r\n    return this.setDate(this.getDate() + amount);\r\n  }\r\n\r\n  endOf(grain: 'month'): CandyDate | null {\r\n    switch (grain) {\r\n      case 'month':\r\n        return new CandyDate(endOfMonth(this.nativeDate));\r\n    }\r\n    return null;\r\n  }\r\n\r\n  isSame(date: CandyDate | Date, grain: CandyDateCompareGrain): boolean {\r\n    // TODO: Precipitate into a function \"compare()\"\r\n    if (date) {\r\n      const left = this.toNativeDate();\r\n      const right = this.toNativeDate(date);\r\n      switch (grain) {\r\n        case 'year':\r\n          return left.getFullYear() === right.getFullYear();\r\n        case 'month':\r\n          return left.getFullYear() === right.getFullYear() && left.getMonth() === right.getMonth();\r\n        case 'day':\r\n          return (\r\n            left.getFullYear() === right.getFullYear() &&\r\n            left.getMonth() === right.getMonth() &&\r\n            left.getDate() === right.getDate()\r\n          );\r\n        case 'hour':\r\n          return (\r\n            left.getFullYear() === right.getFullYear() &&\r\n            left.getMonth() === right.getMonth() &&\r\n            left.getDate() === right.getDate() &&\r\n            left.getHours() === right.getHours()\r\n          );\r\n        case 'minute':\r\n          return (\r\n            left.getFullYear() === right.getFullYear() &&\r\n            left.getMonth() === right.getMonth() &&\r\n            left.getDate() === right.getDate() &&\r\n            left.getHours() === right.getHours() &&\r\n            left.getMinutes() === right.getMinutes()\r\n          );\r\n        case 'second':\r\n          return (\r\n            left.getFullYear() === right.getFullYear() &&\r\n            left.getMonth() === right.getMonth() &&\r\n            left.getDate() === right.getDate() &&\r\n            left.getHours() === right.getHours() &&\r\n            left.getMinutes() === right.getMinutes() &&\r\n            left.getSeconds() === right.getSeconds()\r\n          );\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  isAfter(date: CandyDate | Date | null, grain: CandyDateCompareGrain): boolean {\r\n    // TODO: Precipitate into a function \"compare()\"\r\n    if (date) {\r\n      const left = this.toNativeDate();\r\n      const right = this.toNativeDate(date);\r\n      switch (grain) {\r\n        case 'year':\r\n          return left.getFullYear() > right.getFullYear();\r\n        case 'month':\r\n          return (\r\n            left.getFullYear() > right.getFullYear() ||\r\n            (left.getFullYear() === right.getFullYear() && left.getMonth() > right.getMonth())\r\n          );\r\n        case 'day':\r\n          return (\r\n            left.getFullYear() > right.getFullYear() ||\r\n            (left.getFullYear() === right.getFullYear() && left.getMonth() > right.getMonth()) ||\r\n            (left.getFullYear() === right.getFullYear() &&\r\n              left.getMonth() === right.getMonth() &&\r\n              left.getDate() > right.getDate())\r\n          );\r\n        case 'hour':\r\n          return (\r\n            left.getFullYear() > right.getFullYear() ||\r\n            (left.getFullYear() === right.getFullYear() && left.getMonth() > right.getMonth()) ||\r\n            (left.getFullYear() === right.getFullYear() &&\r\n              left.getMonth() === right.getMonth() &&\r\n              left.getDate() > right.getDate()) ||\r\n            (left.getFullYear() === right.getFullYear() &&\r\n              left.getMonth() === right.getMonth() &&\r\n              left.getDate() === right.getDate() &&\r\n              left.getHours() > right.getHours())\r\n          );\r\n        case 'minute':\r\n          return (\r\n            left.getFullYear() > right.getFullYear() ||\r\n            (left.getFullYear() === right.getFullYear() && left.getMonth() > right.getMonth()) ||\r\n            (left.getFullYear() === right.getFullYear() &&\r\n              left.getMonth() === right.getMonth() &&\r\n              left.getDate() > right.getDate()) ||\r\n            (left.getFullYear() === right.getFullYear() &&\r\n              left.getMonth() === right.getMonth() &&\r\n              left.getDate() === right.getDate() &&\r\n              left.getHours() > right.getHours()) ||\r\n            (left.getFullYear() === right.getFullYear() &&\r\n              left.getMonth() === right.getMonth() &&\r\n              left.getDate() === right.getDate() &&\r\n              left.getHours() === right.getHours() &&\r\n              left.getMinutes() > right.getMinutes())\r\n          );\r\n        case 'second':\r\n          return (\r\n            left.getFullYear() > right.getFullYear() ||\r\n            (left.getFullYear() === right.getFullYear() && left.getMonth() > right.getMonth()) ||\r\n            (left.getFullYear() === right.getFullYear() &&\r\n              left.getMonth() === right.getMonth() &&\r\n              left.getDate() > right.getDate()) ||\r\n            (left.getFullYear() === right.getFullYear() &&\r\n              left.getMonth() === right.getMonth() &&\r\n              left.getDate() === right.getDate() &&\r\n              left.getHours() > right.getHours()) ||\r\n            (left.getFullYear() === right.getFullYear() &&\r\n              left.getMonth() === right.getMonth() &&\r\n              left.getDate() === right.getDate() &&\r\n              left.getHours() === right.getHours() &&\r\n              left.getMinutes() > right.getMinutes()) ||\r\n            (left.getFullYear() === right.getFullYear() &&\r\n              left.getMonth() === right.getMonth() &&\r\n              left.getDate() === right.getDate() &&\r\n              left.getHours() === right.getHours() &&\r\n              left.getMinutes() === right.getMinutes() &&\r\n              left.getSeconds() > right.getSeconds())\r\n          );\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  // TODO: Precipitate into a function \"compare()\"\r\n  isBefore(date: CandyDate | Date | null, grain: CandyDateCompareGrain): boolean {\r\n    if (date) {\r\n      const left = this.toNativeDate();\r\n      const right = this.toNativeDate(date);\r\n      switch (grain) {\r\n        case 'year':\r\n          return left.getFullYear() < right.getFullYear();\r\n        case 'month':\r\n          return (\r\n            left.getFullYear() < right.getFullYear() ||\r\n            (left.getFullYear() === right.getFullYear() && left.getMonth() < right.getMonth())\r\n          );\r\n        case 'day':\r\n          return (\r\n            left.getFullYear() < right.getFullYear() ||\r\n            (left.getFullYear() === right.getFullYear() && left.getMonth() < right.getMonth()) ||\r\n            (left.getFullYear() === right.getFullYear() &&\r\n              left.getMonth() === right.getMonth() &&\r\n              left.getDate() < right.getDate())\r\n          );\r\n        case 'hour':\r\n          return (\r\n            left.getFullYear() < right.getFullYear() ||\r\n            (left.getFullYear() === right.getFullYear() && left.getMonth() < right.getMonth()) ||\r\n            (left.getFullYear() === right.getFullYear() &&\r\n              left.getMonth() === right.getMonth() &&\r\n              left.getDate() < right.getDate()) ||\r\n            (left.getFullYear() === right.getFullYear() &&\r\n              left.getMonth() === right.getMonth() &&\r\n              left.getDate() === right.getDate() &&\r\n              left.getHours() < right.getHours())\r\n          );\r\n        case 'minute':\r\n          return (\r\n            left.getFullYear() < right.getFullYear() ||\r\n            (left.getFullYear() === right.getFullYear() && left.getMonth() < right.getMonth()) ||\r\n            (left.getFullYear() === right.getFullYear() &&\r\n              left.getMonth() === right.getMonth() &&\r\n              left.getDate() < right.getDate()) ||\r\n            (left.getFullYear() === right.getFullYear() &&\r\n              left.getMonth() === right.getMonth() &&\r\n              left.getDate() === right.getDate() &&\r\n              left.getHours() < right.getHours()) ||\r\n            (left.getFullYear() === right.getFullYear() &&\r\n              left.getMonth() === right.getMonth() &&\r\n              left.getDate() === right.getDate() &&\r\n              left.getHours() === right.getHours() &&\r\n              left.getMinutes() < right.getMinutes())\r\n          );\r\n        case 'second':\r\n          return (\r\n            left.getFullYear() < right.getFullYear() ||\r\n            (left.getFullYear() === right.getFullYear() && left.getMonth() < right.getMonth()) ||\r\n            (left.getFullYear() === right.getFullYear() &&\r\n              left.getMonth() === right.getMonth() &&\r\n              left.getDate() < right.getDate()) ||\r\n            (left.getFullYear() === right.getFullYear() &&\r\n              left.getMonth() === right.getMonth() &&\r\n              left.getDate() === right.getDate() &&\r\n              left.getHours() < right.getHours()) ||\r\n            (left.getFullYear() === right.getFullYear() &&\r\n              left.getMonth() === right.getMonth() &&\r\n              left.getDate() === right.getDate() &&\r\n              left.getHours() === right.getHours() &&\r\n              left.getMinutes() < right.getMinutes()) ||\r\n            (left.getFullYear() === right.getFullYear() &&\r\n              left.getMonth() === right.getMonth() &&\r\n              left.getDate() === right.getDate() &&\r\n              left.getHours() === right.getHours() &&\r\n              left.getMinutes() === right.getMinutes() &&\r\n              left.getSeconds() < right.getSeconds())\r\n          );\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  // Equal to today accurate to \"day\"\r\n  isToday(): boolean {\r\n    return this.isSame(new Date(), 'day');\r\n  }\r\n\r\n  isInvalid(): boolean {\r\n    return isNaN(this.nativeDate.valueOf());\r\n  }\r\n\r\n  private toNativeDate(date: CandyDate | Date = this): Date {\r\n    return date instanceof CandyDate ? date.nativeDate : date;\r\n  }\r\n\r\n  // compare(date: CandyDate, Date, grain: CandyDateCompareGrain = 'millisecond'): number {\r\n  //   const level = { 'millisecond': 1, 'second': 1000, 'minute': 1000 * 60, 'hour': 1000 * 60 * 60, 'day': 1000 * 60 * 60 * 24 }[ grain ];\r\n  //   const left = this.nativeDate.getTime() / level;\r\n  //   const right = (date instanceof CandyDate ? date.nativeDate : date).getTime() / level;\r\n  //   return Math.floor(left) - Math.floor(right);\r\n  // }\r\n}\r\n\r\nexport type CandyDateCompareGrain = 'year' | 'month' | 'day' | 'hour' | 'minute' | 'second';\r\n\r\nexport type CandyDateCompareType = 'eq' | 'gt' | 'lt';\r\n","import {\r\n  CdkConnectedOverlay,\r\n  CdkOverlayOrigin,\r\n  ConnectedOverlayPositionChange,\r\n  ConnectionPositionPair\r\n} from '@angular/cdk/overlay';\r\nimport {\r\n  AfterViewInit,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Input,\r\n  OnInit,\r\n  Output,\r\n  ViewChild,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\n\r\nimport { slideMotion } from 'ng-zorro-antd/core';\r\nimport { DateHelperService } from 'ng-zorro-antd/i18n';\r\n\r\nimport { CandyDate } from './lib/candy-date/candy-date';\r\nimport {DomSanitizer} from \"@angular/platform-browser\";\r\n\r\n@Component({\r\n  encapsulation: ViewEncapsulation.None,\r\n// tslint:disable-next-line: component-selector\r\n  selector: 'cmacs-picker',\r\n  exportAs: 'cmacsPicker',\r\n  templateUrl: './picker.component.html',\r\n  styleUrls: ['./picker.component.css'],\r\n  animations: [slideMotion],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class CmacsPickerComponent implements OnInit, AfterViewInit {\r\n  @Input() noAnimation = false;\r\n  @Input() isRange = false;\r\n  @Input() open: boolean | undefined = undefined;\r\n  @Input() disabled: boolean;\r\n  @Input() placeholder: string | string[];\r\n  @Input() allowClear: boolean;\r\n  @Input() autoFocus: boolean;\r\n  @Input() className: string;\r\n  @Input() format: string;\r\n  @Input() size: 'large' | 'small';\r\n  @Input() cmacsStyle: object;\r\n  @Input() cmacsOpen = false;\r\n  @Input() width: any;\r\n  @Input() value: CandyDate | CandyDate[] | null;\r\n  @Output() readonly valueChange = new EventEmitter<CandyDate | CandyDate[] | null>();\r\n  @Output() readonly openChange = new EventEmitter<boolean>(); // Emitted when overlay's open state change\r\n\r\n  @ViewChild('origin') origin: CdkOverlayOrigin;\r\n  @ViewChild(CdkConnectedOverlay) cdkConnectedOverlay: CdkConnectedOverlay;\r\n  @ViewChild('pickerInput') pickerInput: ElementRef;\r\n\r\n  prefixCls = 'ant-calendar';\r\n  animationOpenState = false;\r\n  overlayOpen = false; // Available when \"open\"=undefined\r\n  overlayOffsetY = 0;\r\n  overlayOffsetX = -2;\r\n  overlayPositions: ConnectionPositionPair[] = [\r\n    {\r\n      // offsetX: -10, // TODO: What a pity, cdk/overlay current not support offset configs even though it already provide these properties\r\n      // offsetY: -10,\r\n      originX: 'start',\r\n      originY: 'top',\r\n      overlayX: 'start',\r\n      overlayY: 'top'\r\n    },\r\n    {\r\n      originX: 'start',\r\n      originY: 'bottom',\r\n      overlayX: 'start',\r\n      overlayY: 'bottom'\r\n    },\r\n    {\r\n      originX: 'end',\r\n      originY: 'top',\r\n      overlayX: 'end',\r\n      overlayY: 'top'\r\n    },\r\n    {\r\n      originX: 'end',\r\n      originY: 'bottom',\r\n      overlayX: 'end',\r\n      overlayY: 'bottom'\r\n    }\r\n  ] as ConnectionPositionPair[];\r\n  dropdownAnimation: 'top' | 'bottom' = 'bottom';\r\n  currentPositionX: 'start' | 'end' = 'start';\r\n  currentPositionY: 'top' | 'bottom' = 'top';\r\n\r\n  get realOpenState(): boolean {\r\n    // The value that really decide the open state of overlay\r\n    return this.isOpenHandledByUser() ? !!this.open : this.overlayOpen;\r\n  }\r\n\r\n  constructor(private dateHelper: DateHelperService,\r\n              private sanitizer: DomSanitizer,\r\n              private changeDetector: ChangeDetectorRef) {}\r\n\r\n  ngOnInit(): void {\r\n    if (this.cmacsStyle) {\r\n      this.cmacsStyle = this.sanitizer.bypassSecurityTrustStyle(this.cmacsStyle.toString());\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    if (this.autoFocus) {\r\n      if (this.isRange) {\r\n        const firstInput = (this.pickerInput.nativeElement as HTMLElement).querySelector(\r\n          'input:first-child'\r\n        ) as HTMLInputElement;\r\n        firstInput.focus(); // Focus on the first input\r\n      } else {\r\n        this.pickerInput.nativeElement.focus();\r\n      }\r\n    }\r\n  }\r\n\r\n  // Show overlay content\r\n  showOverlay(): void {\r\n    if (!this.realOpenState) {\r\n      this.overlayOpen = true;\r\n      this.openChange.emit(this.overlayOpen);\r\n      setTimeout(() => {\r\n        if (this.cdkConnectedOverlay && this.cdkConnectedOverlay.overlayRef) {\r\n          this.cdkConnectedOverlay.overlayRef.updatePosition();\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  hideOverlay(): void {\r\n    if (this.realOpenState) {\r\n      this.overlayOpen = false;\r\n      this.openChange.emit(this.overlayOpen);\r\n    }\r\n  }\r\n\r\n  onClickInputBox(): void {\r\n    if (!this.disabled && !this.isOpenHandledByUser()) {\r\n      this.showOverlay();\r\n    }\r\n  }\r\n\r\n  onClickBackdrop(): void {\r\n    this.hideOverlay();\r\n  }\r\n\r\n  onOverlayDetach(): void {\r\n    this.hideOverlay();\r\n  }\r\n\r\n  onPositionChange(position: ConnectedOverlayPositionChange): void {\r\n    this.dropdownAnimation = position.connectionPair.originY === 'top' ? 'bottom' : 'top';\r\n    this.currentPositionX = position.connectionPair.originX as 'start' | 'end';\r\n    this.currentPositionY = position.connectionPair.originY as 'top' | 'bottom';\r\n    this.changeDetector.detectChanges(); // Take side-effects to position styles\r\n  }\r\n\r\n  onClickClear(event: MouseEvent): void {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n\r\n    this.value = this.isRange ? [] : null;\r\n    this.valueChange.emit(this.value);\r\n  }\r\n\r\n  getReadableValue(partType?: RangePartType): string | null {\r\n    let value: CandyDate;\r\n    if (this.isRange) {\r\n      value = (this.value as CandyDate[])[this.getPartTypeIndex(partType as RangePartType)];\r\n    } else {\r\n      value = this.value as CandyDate;\r\n    }\r\n    return value ? this.dateHelper.format(value.nativeDate, this.format) : null;\r\n  }\r\n\r\n  getPartTypeIndex(partType: RangePartType): number {\r\n    return { left: 0, right: 1 }[partType];\r\n  }\r\n\r\n  getPlaceholder(partType?: RangePartType): string {\r\n// tslint:disable-next-line: no-non-null-assertion\r\n    return this.isRange ? this.placeholder[this.getPartTypeIndex(partType!)] : (this.placeholder as string);\r\n  }\r\n\r\n  isEmptyValue(value: CandyDate[] | CandyDate | null): boolean {\r\n    if (value === null) {\r\n      return true;\r\n    } else if (this.isRange) {\r\n      return !value || !Array.isArray(value) || value.every(val => !val);\r\n    } else {\r\n      return !value;\r\n    }\r\n  }\r\n\r\n  // Whether open state is permanently controlled by user himself\r\n  isOpenHandledByUser(): boolean {\r\n    return this.open !== undefined;\r\n  }\r\n\r\n  animationStart(): void {\r\n    if (this.realOpenState) {\r\n      this.animationOpenState = true;\r\n    }\r\n  }\r\n\r\n  animationDone(): void {\r\n    this.animationOpenState = this.realOpenState;\r\n  }\r\n\r\n}\r\n\r\nexport type RangePartType = 'left' | 'right';\r\n","import {\r\n  ChangeDetectorRef,\r\n  EventEmitter,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  OnInit,\r\n  Output,\r\n  SimpleChanges,\r\n  ViewChild\r\n} from '@angular/core';\r\nimport { ControlValueAccessor } from '@angular/forms';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport { InputBoolean, NzNoAnimationDirective } from 'ng-zorro-antd/core';\r\nimport { DateHelperService, NzDatePickerI18nInterface, NzI18nService } from 'ng-zorro-antd/i18n';\r\n\r\nimport { CandyDate } from './lib/candy-date/candy-date';\r\nimport { CmacsPickerComponent } from './picker.component';\r\n\r\n// tslint:disable-next-line: max-line-length\r\nconst POPUP_STYLE_PATCH = { position: 'relative' }; // Aim to override antd's style to support overlay's position strategy (position:absolute will cause it not working beacuse the overlay can't get the height/width of it's content)\r\n\r\n/**\r\n * The base picker for all common APIs\r\n */\r\nexport abstract class AbstractPickerComponent implements OnInit, OnChanges, OnDestroy, ControlValueAccessor {\r\n\r\n  get realOpenState(): boolean {\r\n    return this.picker.animationOpenState;\r\n  } // Use picker's real open state to let re-render the picker's content when shown up\r\n\r\n  constructor(\r\n    protected i18n: NzI18nService,\r\n    protected cdr: ChangeDetectorRef,\r\n    protected dateHelper: DateHelperService,\r\n    public noAnimation?: NzNoAnimationDirective\r\n  ) {}\r\n  // --- Common API\r\n  @Input() @InputBoolean() allowClear = true;\r\n  @Input() @InputBoolean() autoFocus = false;\r\n  @Input() @InputBoolean() disabled = false;\r\n  @Input() @InputBoolean() open: boolean;\r\n  @Input() className: string;\r\n  @Input() disabledDate: (d: Date) => boolean;\r\n  @Input() locale: NzDatePickerI18nInterface;\r\n  @Input() placeHolder: string | string[];\r\n  @Input() popupStyle: object = POPUP_STYLE_PATCH;\r\n  @Input() dropdownClassName: string;\r\n  @Input() size: 'large' | 'small';\r\n  @Input() cmacsStyle: object;\r\n  @Input() format: string;\r\n  @Input() cmacsOpen = false;\r\n  @Input() value: any;\r\n  @Input() width: any = 'initial';\r\n\r\n  @Output() readonly cmacsOnOpenChange = new EventEmitter<boolean>();\r\n\r\n  @ViewChild(CmacsPickerComponent) protected picker: CmacsPickerComponent;\r\n\r\n  isRange = false; // Indicate whether the value is a range value\r\n\r\n  protected destroyed$: Subject<void> = new Subject();\r\n  protected isCustomPlaceHolder = false;\r\n\r\n  initValue(): void {\r\n    this.value = this.isRange ? [] : null;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    // Subscribe the every locale change if the Locale is not handled by user\r\n    if (!this.locale) {\r\n      this.i18n.localeChange.pipe(takeUntil(this.destroyed$)).subscribe(() => this.setLocale());\r\n    }\r\n\r\n    // Default value\r\n    this.initValue();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes.popupStyle) {\r\n      // Always assign the popup style patch\r\n      this.popupStyle = this.popupStyle ? { ...this.popupStyle, ...POPUP_STYLE_PATCH } : POPUP_STYLE_PATCH;\r\n    }\r\n\r\n    // Mark as customized placeholder by user once PlaceHolder assigned at the first time\r\n    if (changes.placeHolder && changes.placeHolder.firstChange && typeof this.placeHolder !== 'undefined') {\r\n      this.isCustomPlaceHolder = true;\r\n    }\r\n\r\n    if (changes.locale) {\r\n      this.setDefaultPlaceHolder();\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroyed$.next();\r\n    this.destroyed$.complete();\r\n  }\r\n\r\n  closeOverlay(): void {\r\n    this.picker.hideOverlay();\r\n  }\r\n\r\n  /**\r\n   * Common handle for value changes\r\n   * @param value changed value\r\n   */\r\n  onValueChange(value: CompatibleValue): void {\r\n    this.value = value;\r\n    if (this.isRange) {\r\n      const vAsRange = this.value as CandyDate[];\r\n      if (vAsRange.length) {\r\n        this.onChangeFn([vAsRange[0].nativeDate, vAsRange[1].nativeDate]);\r\n      } else {\r\n        this.onChangeFn([]);\r\n      }\r\n    } else {\r\n      if (this.value) {\r\n        this.onChangeFn((this.value as CandyDate).nativeDate);\r\n      } else {\r\n        this.onChangeFn(null);\r\n      }\r\n    }\r\n    this.onTouchedFn();\r\n  }\r\n\r\n  /**\r\n   * Triggered when overlayOpen changes (different with realOpenState)\r\n   * @param open The overlayOpen in picker component\r\n   */\r\n  onOpenChange(open: boolean): void {\r\n    this.cmacsOnOpenChange.emit(open);\r\n  }\r\n\r\n  // ------------------------------------------------------------------------\r\n  // | Control value accessor implements\r\n  // ------------------------------------------------------------------------\r\n\r\n  // NOTE: onChangeFn/onTouchedFn will not be assigned if user not use as ngModel\r\n  onChangeFn: (val: CompatibleDate | null) => void = () => void 0;\r\n  onTouchedFn: () => void = () => void 0;\r\n\r\n  writeValue(value: CompatibleDate): void {\r\n    this.setValue(value);\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  // tslint:disable-next-line:no-any\r\n  registerOnChange(fn: any): void {\r\n    this.onChangeFn = fn;\r\n  }\r\n\r\n  // tslint:disable-next-line:no-any\r\n  registerOnTouched(fn: any): void {\r\n    this.onTouchedFn = fn;\r\n  }\r\n\r\n  setDisabledState(disabled: boolean): void {\r\n    this.disabled = disabled;\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  // ------------------------------------------------------------------------\r\n  // | Internal methods\r\n  // ------------------------------------------------------------------------\r\n\r\n  // Reload locale from i18n with side effects\r\n  private setLocale(): void {\r\n    this.locale = this.i18n.getLocaleData('DatePicker', {});\r\n    this.setDefaultPlaceHolder();\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  private setDefaultPlaceHolder(): void {\r\n    if (!this.isCustomPlaceHolder && this.locale) {\r\n      this.placeHolder = this.isRange ? this.locale.lang.rangePlaceholder : this.locale.lang.placeholder;\r\n    }\r\n  }\r\n\r\n  // Safe way of setting value with default\r\n  private setValue(value: CompatibleDate): void {\r\n    if (this.isRange) {\r\n      this.value = value ? (value as Date[]).map(val => new CandyDate(val)) : [];\r\n    } else {\r\n      this.value = value ? new CandyDate(value as Date) : null;\r\n    }\r\n  }\r\n}\r\n\r\nexport type CompatibleValue = CandyDate | CandyDate[];\r\n\r\nexport type CompatibleDate = Date | Date[];\r\n","import { ChangeDetectorRef, Component, Input, OnChanges, OnInit, SimpleChanges, TemplateRef } from '@angular/core';\r\n\r\nimport { valueFunctionProp, FunctionProp, NzNoAnimationDirective } from 'ng-zorro-antd/core';\r\nimport { DateHelperService, NzI18nService } from 'ng-zorro-antd/i18n';\r\n\r\nimport { AbstractPickerComponent } from './abstract-picker.component';\r\nimport { CandyDate } from './lib/candy-date/candy-date';\r\nimport { PanelMode } from './standard-types';\r\n\r\n/**\r\n * The base picker for header panels, current support: Year/Month\r\n */\r\n\r\n@Component({\r\n  template: ``\r\n})\r\nexport class CmacsHeaderPickerComponent extends AbstractPickerComponent implements OnInit, OnChanges {\r\n  @Input() placeHolder: string;\r\n\r\n  @Input() renderExtraFooter: FunctionProp<TemplateRef<void> | string>;\r\n  @Input() defaultValue: CandyDate;\r\n  @Input() format: string; // [Canmplemented by sub class] The output format\r\n\r\n  endPanelMode: SupportHeaderPanel; // [Implemented by sub class] The final panel for picking a date\r\n  panelMode: PanelMode; // Current panel mode\r\n  extraFooter: TemplateRef<void> | string;\r\n\r\n  private supportPanels: PanelMode[];\r\n\r\n  constructor(\r\n    i18n: NzI18nService,\r\n    cdr: ChangeDetectorRef,\r\n    dateHelper: DateHelperService,\r\n    noAnimation?: NzNoAnimationDirective\r\n  ) {\r\n    super(i18n, cdr, dateHelper, noAnimation);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    super.ngOnInit();\r\n\r\n    this.panelMode = this.endPanelMode;\r\n\r\n    const allHeaderPanels: PanelMode[] = ['decade', 'year', 'month'];\r\n    this.supportPanels = allHeaderPanels.slice(0, allHeaderPanels.indexOf(this.endPanelMode) + 1);\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    super.ngOnChanges(changes);\r\n\r\n    if (changes.nzRenderExtraFooter) {\r\n      this.extraFooter = valueFunctionProp(this.renderExtraFooter);\r\n    }\r\n  }\r\n\r\n  onPanelModeChange(mode: PanelMode): void {\r\n    if (this.supportPanels.indexOf(mode) > -1) {\r\n      this.panelMode = mode;\r\n    } else {\r\n      // Since the default \"click year\" logic can be \"year panel\" -> \"date panel\", we need force to the end panel otherwise\r\n      this.panelMode = this.endPanelMode;\r\n    }\r\n  }\r\n\r\n  onChooseValue(mode: SupportHeaderPanel, value: CandyDate): void {\r\n    if (this.endPanelMode === mode) {\r\n      super.onValueChange(value);\r\n\r\n      this.closeOverlay();\r\n    }\r\n  }\r\n\r\n  onOpenChange(open: boolean): void {\r\n    if (!open) {\r\n      this.cleanUp();\r\n    }\r\n    this.cmacsOnOpenChange.emit(open);\r\n  }\r\n\r\n  // Restore some initial props to let open as new in next time\r\n  private cleanUp(): void {\r\n    this.panelMode = this.endPanelMode;\r\n  }\r\n}\r\n\r\nexport type SupportHeaderPanel = 'year' | 'month';\r\n","import {\r\n  ChangeDetectorRef,\r\n  Component,\r\n  EventEmitter,\r\n  Input,\r\n  OnChanges,\r\n  OnInit,\r\n  Output,\r\n  SimpleChanges,\r\n  TemplateRef\r\n} from '@angular/core';\r\n\r\nimport { toBoolean, valueFunctionProp, FunctionProp, InputBoolean, NzNoAnimationDirective } from 'ng-zorro-antd/core';\r\nimport { DateHelperService, NzI18nService } from 'ng-zorro-antd/i18n';\r\n\r\nimport { AbstractPickerComponent, CompatibleDate } from './abstract-picker.component';\r\nimport { CandyDate } from './lib/candy-date/candy-date';\r\nimport { DisabledTimeFn, PanelMode, PresetRanges } from './standard-types';\r\n\r\n@Component({\r\n  template: `` // Just for rollup\r\n})\r\nexport class CmacsDateRangePickerComponent extends AbstractPickerComponent implements OnInit, OnChanges {\r\n  @Input() showWeek = false; // Should show as week picker\r\n\r\n  @Input() dateRender: FunctionProp<TemplateRef<Date> | string>;\r\n  @Input() disabledTime: DisabledTimeFn;\r\n  @Input() renderExtraFooter: FunctionProp<TemplateRef<void> | string>;\r\n  @Input() @InputBoolean() showToday = false;\r\n  @Input() mode: PanelMode | PanelMode[];\r\n  @Input() ranges: PresetRanges;\r\n  @Output() readonly cmacsOnPanelChange = new EventEmitter<PanelMode | PanelMode[]>();\r\n  @Output() readonly cmacsOnCalendarChange = new EventEmitter<Date[]>();\r\n\r\n  @Input() openPickerTitle = '';\r\n  @Input() openPickerSubtitle = '';\r\n  @Input() openPickerLeftRangeSub = '';\r\n  @Input() openPickerRightRangeSub = '';\r\n\r\n// tslint:disable-next-line: variable-name\r\n  private _showTime: object | boolean;\r\n  @Input() get showTime(): object | boolean {\r\n    return this._showTime;\r\n  }\r\n  set showTime(value: object | boolean) {\r\n    this._showTime = typeof value === 'object' ? value : toBoolean(value);\r\n  }\r\n\r\n  @Output() readonly cmacsOnOk = new EventEmitter<CompatibleDate | null>();\r\n\r\n  get realShowToday(): boolean {\r\n    return !this.isRange && this.showToday;\r\n  }\r\n\r\n  pickerStyle: object; // Final picker style that contains width fix corrections etc.\r\n  extraFooter: TemplateRef<void> | string;\r\n\r\n  constructor(\r\n    i18n: NzI18nService,\r\n    cdr: ChangeDetectorRef,\r\n    dateHelper: DateHelperService,\r\n    noAnimation?: NzNoAnimationDirective\r\n  ) {\r\n    super(i18n, cdr, dateHelper, noAnimation);\r\n    if (this.isRange) {\r\n      this.value = this.value as CandyDate[];\r\n    } else {\r\n      this.value = this.value as CandyDate;\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    super.ngOnInit();\r\n\r\n    // Default format when it's empty\r\n    if (!this.format) {\r\n      if (this.showWeek) {\r\n        this.format = this.dateHelper.relyOnDatePipe ? 'yyyy-ww' : 'YYYY-WW'; // Format for week\r\n      } else {\r\n        if (this.dateHelper.relyOnDatePipe) {\r\n          this.format = this.showTime ? 'yyyy-MM-dd HH:mm:ss' : 'yyyy-MM-dd';\r\n        } else {\r\n          this.format = this.showTime ? 'YYYY-MM-DD HH:mm:ss' : 'YYYY-MM-DD';\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    super.ngOnChanges(changes);\r\n\r\n    if (changes.renderExtraFooter) {\r\n      this.extraFooter = valueFunctionProp(this.renderExtraFooter);\r\n      console.log(this.extraFooter)\r\n    }\r\n\r\n    if (changes.showTime || changes.cmacsStyle) {\r\n      this.setFixedPickerStyle();\r\n    }\r\n  }\r\n\r\n  // If has no timepicker and the user select a date by date panel, then close picker\r\n  onValueChange(value: CandyDate): void {\r\n    super.onValueChange(value);\r\n\r\n    if (!this.showTime) {\r\n      this.closeOverlay();\r\n    }\r\n  }\r\n\r\n  // Emit nzOnCalendarChange when select date by nz-range-picker\r\n  onCalendarChange(value: CandyDate[]): void {\r\n    if (this.isRange) {\r\n      const rangeValue = value.map(x => x.nativeDate);\r\n      this.cmacsOnCalendarChange.emit(rangeValue);\r\n    }\r\n  }\r\n\r\n  // Emitted when done with date selecting\r\n  onResultOk(): void {\r\n    if (this.isRange) {\r\n      const value = this.value as CandyDate[];\r\n      if (value.length) {\r\n        this.cmacsOnOk.emit([value[0].nativeDate, value[1].nativeDate]);\r\n      } else {\r\n        this.cmacsOnOk.emit([]);\r\n      }\r\n    } else {\r\n      if (this.value) {\r\n        this.cmacsOnOk.emit((this.value as CandyDate).nativeDate);\r\n      } else {\r\n        this.cmacsOnOk.emit(null);\r\n      }\r\n    }\r\n    this.closeOverlay();\r\n  }\r\n\r\n  onOpenChange(open: boolean): void {\r\n    this.cmacsOnOpenChange.emit(open);\r\n  }\r\n\r\n  // Setup fixed style for picker\r\n  private setFixedPickerStyle(): void {\r\n    const showTimeFixes: { width?: string } = {};\r\n    if (this.showTime) {\r\n      showTimeFixes.width = this.isRange ? '350px' : '195px';\r\n    }\r\n\r\n    this.pickerStyle = { ...showTimeFixes, ...this.cmacsStyle };\r\n  }\r\n\r\n  parseDate() {\r\n    if (!this.isRange) {\r\n      const parsedValue = this.value as CandyDate;\r\n      return `${this.getMonth(parsedValue.getMonth())} ${parsedValue.getDate()}, ${parsedValue.getYear()}`;\r\n    }\r\n    let parsedValues = [];\r\n    const coerceValues = this.value as CandyDate[];\r\n\r\n    for(let val of coerceValues) {\r\n      const parsedValue = val as CandyDate;\r\n      parsedValues.push(`${this.getMonth(parsedValue.getMonth())} ${parsedValue.getDate()}, ${parsedValue.getYear()}`);\r\n    }\r\n    return parsedValues;\r\n  }\r\n\r\n  getMonth(idx) {\r\n    const months = [\r\n      'Jan',\r\n      'Feb',\r\n      'Mar',\r\n      'Apr',\r\n      'May',\r\n      'Jun',\r\n      'Jul',\r\n      'Aug',\r\n      'Sep',\r\n      'Oct',\r\n      'Nov',\r\n      'Dec'\r\n    ];\r\n    return months[idx];\r\n  }\r\n}\r\n","import {\r\n  forwardRef,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  Host,\r\n  Optional,\r\n  Input,\r\n  Renderer2,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\r\n\r\nimport { NzNoAnimationDirective } from 'ng-zorro-antd/core';\r\nimport { DateHelperService, NzI18nService } from 'ng-zorro-antd/i18n';\r\n\r\nimport { CmacsDateRangePickerComponent } from './date-range-picker.component';\r\nimport {CandyDate} from \"./lib/candy-date/candy-date\";\r\n\r\n@Component({\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n// tslint:disable-next-line: component-selector\r\n  selector: 'cmacs-date-picker',\r\n  exportAs: 'cmacsDatePicker',\r\n  templateUrl: './date-range-picker.component.html',\r\n  styleUrls: ['./date-range-picker.component.css'],\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      multi: true,\r\n      useExisting: forwardRef(() => CmacsDatePickerComponent)\r\n    }\r\n  ],\r\n  host: {\r\n    '[class.cmacs-open-date-picker]': 'cmacsOpen'\r\n  }\r\n})\r\nexport class CmacsDatePickerComponent extends CmacsDateRangePickerComponent {\r\n  isRange = false;\r\n  @Input() openPickerTitle = '';\r\n  @Input() openPickerSubtitle = '';\r\n  @Input() openPickerLeftRangeSub = '';\r\n  @Input() openPickerRightRangeSub = '';\r\n\r\n  constructor(\r\n    i18n: NzI18nService,\r\n    cdr: ChangeDetectorRef,\r\n    dateHelper: DateHelperService,\r\n    renderer: Renderer2,\r\n    elementRef: ElementRef,\r\n    @Host() @Optional() public noAnimation?: NzNoAnimationDirective\r\n  ) {\r\n    super(i18n, cdr, dateHelper, noAnimation);\r\n    renderer.addClass(elementRef.nativeElement, 'ant-calendar-picker');\r\n  }\r\n\r\n}\r\n","import {\r\n  forwardRef,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  Host,\r\n  Input,\r\n  Optional,\r\n  Renderer2,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\r\n\r\nimport { NzNoAnimationDirective } from 'ng-zorro-antd/core';\r\nimport { DateHelperService, NzI18nService } from 'ng-zorro-antd/i18n';\r\n\r\nimport { CmacsHeaderPickerComponent, SupportHeaderPanel } from './header-picker.component';\r\n\r\n@Component({\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n// tslint:disable-next-line: component-selector\r\n  selector: 'cmacs-month-picker',\r\n  exportAs: 'cmacsMonthPicker',\r\n  templateUrl: './header-picker.component.html',\r\n  styleUrls: ['month-picker.component.css'],\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      multi: true,\r\n      useExisting: forwardRef(() => CmacsMonthPickerComponent)\r\n    }\r\n  ]\r\n})\r\nexport class CmacsMonthPickerComponent extends CmacsHeaderPickerComponent {\r\n  @Input() format = 'yyyy-MM';\r\n\r\n  endPanelMode: SupportHeaderPanel = 'month';\r\n\r\n  constructor(\r\n    i18n: NzI18nService,\r\n    cdr: ChangeDetectorRef,\r\n    dateHelper: DateHelperService,\r\n    renderer: Renderer2,\r\n    elementRef: ElementRef,\r\n    @Host() @Optional() public noAnimation?: NzNoAnimationDirective\r\n  ) {\r\n    super(i18n, cdr, dateHelper, noAnimation);\r\n    renderer.addClass(elementRef.nativeElement, 'ant-calendar-picker');\r\n  }\r\n}\r\n","import {\r\n  forwardRef,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  Host,\r\n  Input,\r\n  Optional,\r\n  Renderer2,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\r\n\r\nimport { NzNoAnimationDirective } from 'ng-zorro-antd/core';\r\nimport { DateHelperService, NzI18nService } from 'ng-zorro-antd/i18n';\r\n\r\nimport { CmacsHeaderPickerComponent, SupportHeaderPanel } from './header-picker.component';\r\n\r\n@Component({\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n// tslint:disable-next-line: component-selector\r\n  selector: 'cmacs-year-picker',\r\n  exportAs: 'cmacsYearPicker',\r\n  templateUrl: './header-picker.component.html',\r\n  styleUrls: ['./year-picker.component.css'],\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      multi: true,\r\n      useExisting: forwardRef(() => CmacsYearPickerComponent)\r\n    }\r\n  ]\r\n})\r\nexport class CmacsYearPickerComponent extends CmacsHeaderPickerComponent {\r\n  @Input() format = 'yyyy';\r\n\r\n  endPanelMode: SupportHeaderPanel = 'year';\r\n\r\n  constructor(\r\n    i18n: NzI18nService,\r\n    cdr: ChangeDetectorRef,\r\n    dateHelper: DateHelperService,\r\n    renderer: Renderer2,\r\n    elementRef: ElementRef,\r\n    @Host() @Optional() public noAnimation?: NzNoAnimationDirective\r\n  ) {\r\n    super(i18n, cdr, dateHelper, noAnimation);\r\n    renderer.addClass(elementRef.nativeElement, 'ant-calendar-picker');\r\n  }\r\n}\r\n","import {\r\n  forwardRef,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  Host,\r\n  Optional,\r\n  Renderer2,\r\n  ViewEncapsulation, Input\r\n} from '@angular/core';\r\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\r\n\r\nimport { NzNoAnimationDirective } from 'ng-zorro-antd/core';\r\nimport { DateHelperService, NzI18nService } from 'ng-zorro-antd/i18n';\r\n\r\nimport { CmacsDateRangePickerComponent } from './date-range-picker.component';\r\n\r\n@Component({\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n// tslint:disable-next-line: component-selector\r\n  selector: 'cmacs-week-picker',\r\n  exportAs: 'cmacsWeekPicker',\r\n  templateUrl: './date-range-picker.component.html',\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      multi: true,\r\n      useExisting: forwardRef(() => CmacsWeekPickerComponent)\r\n    }\r\n  ]\r\n})\r\nexport class CmacsWeekPickerComponent extends CmacsDateRangePickerComponent {\r\n  showWeek = true;\r\n\r\n  @Input() openPickerTitle = '';\r\n  @Input() openPickerSubtitle = '';\r\n  @Input() openPickerLeftRangeSub = '';\r\n  @Input() openPickerRightRangeSub = '';\r\n\r\n  constructor(\r\n    i18n: NzI18nService,\r\n    cdr: ChangeDetectorRef,\r\n    dateHelper: DateHelperService,\r\n    renderer: Renderer2,\r\n    elementRef: ElementRef,\r\n    @Host() @Optional() public noAnimation?: NzNoAnimationDirective\r\n  ) {\r\n    super(i18n, cdr, dateHelper, noAnimation);\r\n    renderer.addClass(elementRef.nativeElement, 'ant-calendar-picker');\r\n  }\r\n}\r\n","import {\r\n  forwardRef,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  Host,\r\n  Optional,\r\n  Renderer2,\r\n  ViewEncapsulation, Input, OnInit\r\n} from '@angular/core';\r\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\r\n\r\nimport { NzNoAnimationDirective } from 'ng-zorro-antd/core';\r\nimport { DateHelperService, NzI18nService } from 'ng-zorro-antd/i18n';\r\n\r\nimport { CmacsDateRangePickerComponent } from './date-range-picker.component';\r\n\r\n@Component({\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n// tslint:disable-next-line: component-selector\r\n  selector: 'cmacs-range-picker',\r\n  exportAs: 'cmacsRangePicker',\r\n  templateUrl: './date-range-picker.component.html',\r\n  styleUrls: ['./date-range-picker.component.css'],\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      multi: true,\r\n      useExisting: forwardRef(() => CmacsRangePickerComponent)\r\n    }\r\n  ],\r\n  host: {\r\n    '[class.cmacs-open-range-picker]': 'cmacsOpen'\r\n  }\r\n})\r\nexport class CmacsRangePickerComponent extends CmacsDateRangePickerComponent implements OnInit{\r\n  isRange = true;\r\n  showWeek = false;\r\n  @Input() openPickerTitle = '';\r\n  @Input() openPickerLeftRangeSub = '';\r\n  @Input() openPickerRightRangeSub = '';\r\n\r\n  constructor(\r\n    i18n: NzI18nService,\r\n    cdr: ChangeDetectorRef,\r\n    dateHelper: DateHelperService,\r\n    renderer: Renderer2,\r\n    elementRef: ElementRef,\r\n    @Host() @Optional() public noAnimation?: NzNoAnimationDirective\r\n  ) {\r\n    super(i18n, cdr, dateHelper, noAnimation);\r\n    renderer.addClass(elementRef.nativeElement, 'ant-calendar-picker');\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (this.mode === 'week') {\r\n      this.showWeek = true;\r\n    }\r\n    super.ngOnInit();\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, Input, forwardRef} from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { toBoolean, InputBoolean } from 'ng-zorro-antd';\r\n\r\n@Component({\r\n  selector: 'cmacs-time-picker',\r\n  templateUrl: './cmacs-time-picker.component.html',\r\n  styleUrls: ['./cmacs-time-picker.component.css'],\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: forwardRef(() => CmacsTimePickerComponent),\r\n      multi: true\r\n    }\r\n  ],\r\n  // changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class CmacsTimePickerComponent implements ControlValueAccessor, OnInit {\r\n  @Input() defaultOpenValue = new Date();\r\n  @Input() @InputBoolean() disabled: boolean = false;\r\n  @Input() @InputBoolean() allowEmpty = true;\r\n  @Input() @InputBoolean() use12Hours = false;\r\n\r\n  @Input() placeholder: string = \"Select a time\";\r\n  @Input() format = 'HH:mm:ss';\r\n  @Input() _open = false;\r\n  public _value: Date | null = null;\r\n  private _onChange: (value: Date | null) => void;\r\n  private _onTouched: () => void;\r\n\r\n  onModelChange(value: any): void {\r\n    this.value = value;\r\n  }\r\n\r\n  set value(value: Date | null) {\r\n    console.log(\"set value\");\r\n\r\n    this._value = value;\r\n    if (this._onChange) {\r\n      this._onChange(this.value);\r\n    }\r\n    if (this._onTouched) {\r\n      this._onTouched();\r\n    }\r\n  }\r\n\r\n  get value(): Date | null {\r\n    return this._value;\r\n  }\r\n\r\n  constructor() {}\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  writeValue(time: Date | null): void {\r\n    this.value = time;\r\n  }\r\n\r\n  registerOnChange(fn: (time: Date | null) => void): void {\r\n    this._onChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: () => void): void {\r\n    this._onTouched = fn;\r\n  }\r\n\r\n  setDisabledState(isDisabled: boolean): void {\r\n    this.disabled = isDisabled;\r\n  }\r\n}\r\n","import {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef, HostListener,\r\n  EventEmitter,\r\n  Output,\r\n  Input,\r\n  Renderer2,\r\n  TemplateRef,\r\n  ViewChild,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\n\r\nimport { NgClassType } from 'ng-zorro-antd/core';\r\nimport {InputBoolean} from \"ng-zorro-antd\";\r\n\r\n@Component({\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  selector: 'cmacs-step',\r\n  exportAs: 'cmacsStep',\r\n  preserveWhitespaces: false,\r\n  styleUrls: ['./cmacs-step.component.css'],\r\n  templateUrl: './cmacs-step.component.html',\r\n  host: {\r\n    '[class.ant-steps-item-wait]': 'status === \"wait\"',\r\n    '[class.ant-steps-item-process]': 'status === \"process\"',\r\n    '[class.ant-steps-item-finish]': 'status === \"finish\"',\r\n    '[class.ant-steps-item-error]': 'status === \"error\"',\r\n    '[class.ant-steps-custom]': '!!nzIcon',\r\n    '[class.cmacs-steps-clickable]': 'clickable',\r\n    '[class.ant-steps-next-error]': '(outStatus === \"error\") && (currentIndex === index + 1)'\r\n  }\r\n})\r\nexport class CmacsStepComponent {\r\n  @ViewChild('processDotTemplate') processDotTemplate: TemplateRef<void>;\r\n\r\n  @Input() title: string | TemplateRef<void>;\r\n  @Input() parent: ElementRef;\r\n  @Input() secondary = false;\r\n  @Input() description: string | TemplateRef<void>;\r\n  @Input() @InputBoolean() clickable = false;\r\n\r\n  @Input()\r\n  get status(): string {\r\n    return this._status;\r\n  }\r\n\r\n  set status(status: string) {\r\n    this._status = status;\r\n    this.isCustomStatus = true;\r\n  }\r\n\r\n  isCustomStatus = false;\r\n  private _status = 'wait';\r\n\r\n  @HostListener('click', ['$event']) onClick(event: Event) {\r\n    var customEvent = new CustomEvent(\r\n      'indexChange',\r\n      {\r\n        detail: { 'index': this.index },\r\n        bubbles: true\r\n      }\r\n    );\r\n    this.parent.nativeElement.dispatchEvent(customEvent);\r\n  }\r\n\r\n  @Input()\r\n  get nzIcon(): NgClassType | TemplateRef<void> {\r\n    return this._icon;\r\n  }\r\n\r\n  set nzIcon(value: NgClassType | TemplateRef<void>) {\r\n    if (!(value instanceof TemplateRef)) {\r\n      this.isIconString = true;\r\n      this.oldAPIIcon = typeof value === 'string' && value.indexOf('anticon') > -1;\r\n    } else {\r\n      this.isIconString = false;\r\n    }\r\n    this._icon = value;\r\n  }\r\n\r\n  oldAPIIcon = true;\r\n  isIconString = true;\r\n  private _icon: NgClassType | TemplateRef<void>;\r\n\r\n  customProcessTemplate: TemplateRef<{ $implicit: TemplateRef<void>; status: string; index: number }>; // Set by parent.\r\n  direction = 'horizontal';\r\n  index = 0;\r\n  last = false;\r\n  outStatus = 'process';\r\n  showProcessDot = false;\r\n\r\n  get currentIndex(): number {\r\n    return this._currentIndex;\r\n  }\r\n\r\n  set currentIndex(current: number) {\r\n    this._currentIndex = current;\r\n    if (!this.isCustomStatus) {\r\n      this._status = current > this.index ? 'finish' : current === this.index ? this.outStatus || '' : 'wait';\r\n    }\r\n  }\r\n\r\n  private _currentIndex = 0;\r\n\r\n  constructor(private cdr: ChangeDetectorRef, renderer: Renderer2, elementRef: ElementRef) {\r\n    renderer.addClass(elementRef.nativeElement, 'ant-steps-item');\r\n  }\r\n\r\n  markForCheck(): void {\r\n    this.cdr.markForCheck();\r\n  }\r\n}\r\n","import {\r\n  AfterContentInit,\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  ContentChildren, HostListener,\r\n  ElementRef,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  OnInit,\r\n  QueryList,\r\n  SimpleChanges,\r\n  TemplateRef,\r\n  AfterViewInit,\r\n  ViewEncapsulation, EventEmitter, Output\r\n} from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport { toBoolean, NgClassType, NzSizeDSType } from 'ng-zorro-antd/core';\r\n\r\nimport { CmacsStepComponent} from './cmacs-step.component';\r\nimport {InputBoolean} from \"ng-zorro-antd\";\r\n\r\nexport type NzDirectionType = 'horizontal' | 'vertical';\r\nexport type NzStatusType = 'wait' | 'process' | 'finish' | 'error';\r\n\r\n\r\n@Component({\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  preserveWhitespaces: false,\r\n  selector: 'cmacs-wizard',\r\n  exportAs: 'cmacsWizard',\r\n  templateUrl: './cmacs-wizard.component.html',\r\n  styleUrls: ['./cmacs-wizard.component.css'],\r\n})\r\nexport class CmacsWizardComponent implements OnChanges, OnInit, OnDestroy, AfterContentInit {\r\n\r\n  @ContentChildren(CmacsStepComponent) steps: QueryList<CmacsStepComponent>;\r\n\r\n  @Input() current = 0;\r\n  @Input() direction: NzDirectionType = 'vertical';\r\n  @Input() labelPlacement: 'horizontal' | 'vertical' = 'horizontal';\r\n  @Input() size: NzSizeDSType = 'default';\r\n  @Input() startIndex = 0;\r\n  @Input() @InputBoolean() clickable = false;\r\n  @Input() status: NzStatusType = 'process';\r\n  @Output() indexChange: EventEmitter<number> = new EventEmitter<number>();\r\n\r\n  @Input()\r\n  set nzProgressDot(value: boolean | TemplateRef<{ $implicit: TemplateRef<void>; status: string; index: number }>) {\r\n    if (value instanceof TemplateRef) {\r\n      this.showProcessDot = true;\r\n      this.customProcessDotTemplate = value;\r\n    } else {\r\n      this.showProcessDot = toBoolean(value);\r\n    }\r\n    this.updateChildrenSteps();\r\n  }\r\n  showProcessDot = false;\r\n  customProcessDotTemplate: TemplateRef<{ $implicit: TemplateRef<void>; status: string; index: number }>;\r\n\r\n  classMap: NgClassType;\r\n\r\n  private destroy$ = new Subject<void>();\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes.startIndex || changes.direction || changes.status || changes.current) {\r\n      this.updateChildrenSteps();\r\n    }\r\n    if (changes.direction || changes.nzProgressDot || changes.labelPlacement || changes.size) {\r\n      this.setClassMap();\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.setClassMap();\r\n    this.updateChildrenSteps();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  ngAfterContentInit(): void {\r\n    this.updateChildrenSteps();\r\n    if (this.steps) {\r\n      this.steps.changes.pipe(takeUntil(this.destroy$)).subscribe(() => {\r\n        this.updateChildrenSteps();\r\n      });\r\n    }\r\n  }\r\n\r\n  private updateChildrenSteps(): void {\r\n    /*let stepPrimaryIndexes = [];\r\n    const stepsFiltered = this.steps.filter((step: CmacsStepComponent, index: number) => {\r\n      if (!step.secondary) {\r\n        stepPrimaryIndexes.push(index);\r\n      }\r\n      return !step.secondary;\r\n    });\r\n    this.steps.filter((step: CmacsStepComponent, index: number) => {\r\n      if (step.secondary && stepPrimaryIndexes[this.current] > index) {\r\n        step.index = 0;\r\n        step.currentIndex = 1;\r\n      } else {\r\n        step.index = 1;\r\n        step.currentIndex = 0;\r\n      }\r\n      return !step.secondary;\r\n    });\r\n    const length = stepsFiltered.length;\r\n    stepsFiltered.forEach((step, index) => {*/\r\n    if (this.steps) {\r\n      const length = this.steps.length;\r\n      this.steps.toArray().forEach((step, index) => {\r\n        Promise.resolve().then(() => {\r\n          step.clickable = this.clickable;\r\n          step.parent = this.elem;\r\n          step.outStatus = this.status;\r\n          step.showProcessDot = this.showProcessDot;\r\n          if (this.customProcessDotTemplate) {\r\n            step.customProcessTemplate = this.customProcessDotTemplate;\r\n          }\r\n          step.direction = this.direction;\r\n          step.index = index + this.startIndex;\r\n          step.currentIndex = this.current;\r\n          step.last = length === index + 1;\r\n          step.markForCheck();\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  constructor(private elem: ElementRef){\r\n  }\r\n\r\n  private setClassMap(): void {\r\n    this.classMap = {\r\n      [`ant-steps-${this.direction}`]: true,\r\n      [`ant-steps-label-horizontal`]: this.direction === 'horizontal',\r\n      [`ant-steps-label-vertical`]:\r\n      (this.showProcessDot || this.labelPlacement === 'vertical') && this.direction === 'horizontal',\r\n      [`ant-steps-dot`]: this.showProcessDot,\r\n      ['ant-steps-small']: this.size === 'small'\r\n    };\r\n  }\r\n\r\n}\r\n","import {\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Output,\r\n  Renderer2,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\n\r\nimport { CmacsCheckboxComponent } from './cmacs-checkbox.component';\r\n\r\n@Component({\r\n  selector: 'cmacs-checkbox-wrapper',\r\n  exportAs: 'cmacsCheckboxWrapper',\r\n  preserveWhitespaces: false,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  templateUrl: './cmacs-checkbox-wrapper.component.html'\r\n})\r\nexport class CmacsCheckboxWrapperComponent {\r\n  @Output() readonly nzOnChange = new EventEmitter<string[]>();\r\n  private checkboxList: CmacsCheckboxComponent[] = [];\r\n\r\n  addCheckbox(value: CmacsCheckboxComponent): void {\r\n    this.checkboxList.push(value);\r\n  }\r\n\r\n  removeCheckbox(value: CmacsCheckboxComponent): void {\r\n    this.checkboxList.splice(this.checkboxList.indexOf(value), 1);\r\n  }\r\n\r\n  outputValue(): string[] {\r\n    const checkedList = this.checkboxList.filter(item => item.checked);\r\n    return checkedList.map(item => item.value);\r\n  }\r\n\r\n  onChange(): void {\r\n    this.nzOnChange.emit(this.outputValue());\r\n  }\r\n\r\n  constructor(renderer: Renderer2, elementRef: ElementRef) {\r\n    renderer.addClass(elementRef.nativeElement, 'ant-checkbox-group');\r\n  }\r\n}\r\n","import { FocusMonitor } from '@angular/cdk/a11y';\r\nimport {\r\n  forwardRef,\r\n  AfterViewInit,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  OnInit,\r\n  Optional,\r\n  Output,\r\n  Renderer2,\r\n  SimpleChanges,\r\n  ViewChild,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\n\r\nimport { isEmpty, InputBoolean } from 'ng-zorro-antd/core';\r\n\r\nimport { CmacsCheckboxWrapperComponent } from './cmacs-checkbox-wrapper.component';\r\n\r\nexport type CmacsTheme = 'light' | 'dark';\r\n\r\n@Component({\r\n  selector: '[cmacs-checkbox]',\r\n  exportAs: 'cmacsCheckbox',\r\n  preserveWhitespaces: false,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  templateUrl: './cmacs-checkbox.component.html',\r\n  styleUrls: ['./cmacs-checkbox.component.css'],\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: forwardRef(() => CmacsCheckboxComponent),\r\n      multi: true\r\n    }\r\n  ],\r\n  host: {\r\n    '(click)': 'hostClick($event)'\r\n  }\r\n})\r\nexport class CmacsCheckboxComponent implements OnInit, ControlValueAccessor, OnChanges, AfterViewInit, OnDestroy {\r\n  // tslint:disable-next-line:no-any\r\n  onChange: (value: any) => void = () => null;\r\n  // tslint:disable-next-line:no-any\r\n  onTouched: () => any = () => null;\r\n  @ViewChild('inputElement') private inputElement: ElementRef;\r\n  @ViewChild('contentElement') private contentElement: ElementRef;\r\n  @Output() readonly checkedChange = new EventEmitter<boolean>();\r\n  @Input() value: string;\r\n  @Input() theme: CmacsTheme = 'light';\r\n  @Input() @InputBoolean() autoFocus = false;\r\n  @Input() @InputBoolean() disabled = false;\r\n  @Input() @InputBoolean() indeterminate = false;\r\n  @Input() @InputBoolean() checked = false;\r\n\r\n  hostClick(e: MouseEvent): void {\r\n    e.preventDefault();\r\n    this.focus();\r\n    this.innerCheckedChange(!this.checked);\r\n  }\r\n\r\n  innerCheckedChange(checked: boolean): void {\r\n    if (!this.disabled) {\r\n      this.checked = checked;\r\n      this.onChange(this.checked);\r\n      this.checkedChange.emit(this.checked);\r\n      if (this.cmacsCheckboxWrapperComponent) {\r\n        this.cmacsCheckboxWrapperComponent.onChange();\r\n      }\r\n    }\r\n  }\r\n\r\n  updateAutoFocus(): void {\r\n    if (this.inputElement && this.autoFocus) {\r\n      this.renderer.setAttribute(this.inputElement.nativeElement, 'autofocus', 'autofocus');\r\n    } else {\r\n      this.renderer.removeAttribute(this.inputElement.nativeElement, 'autofocus');\r\n    }\r\n  }\r\n\r\n  writeValue(value: boolean): void {\r\n    this.checked = value;\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  registerOnChange(fn: (_: boolean) => {}): void {\r\n    this.onChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: () => {}): void {\r\n    this.onTouched = fn;\r\n  }\r\n\r\n  setDisabledState(isDisabled: boolean): void {\r\n    this.disabled = isDisabled;\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  focus(): void {\r\n    this.focusMonitor.focusVia(this.inputElement, 'keyboard');\r\n  }\r\n\r\n  blur(): void {\r\n    this.inputElement.nativeElement.blur();\r\n  }\r\n\r\n  checkContent(): void {\r\n    if (isEmpty(this.contentElement.nativeElement)) {\r\n      this.renderer.setStyle(this.contentElement.nativeElement, 'display', 'none');\r\n    } else {\r\n      this.renderer.removeStyle(this.contentElement.nativeElement, 'display');\r\n    }\r\n  }\r\n\r\n  constructor(\r\n    private elementRef: ElementRef<HTMLElement>,\r\n    private renderer: Renderer2,\r\n    @Optional() private cmacsCheckboxWrapperComponent: CmacsCheckboxWrapperComponent,\r\n    private cdr: ChangeDetectorRef,\r\n    private focusMonitor: FocusMonitor\r\n  ) {\r\n    renderer.addClass(elementRef.nativeElement, 'ant-checkbox-wrapper');\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.focusMonitor.monitor(this.elementRef, true).subscribe(focusOrigin => {\r\n      if (!focusOrigin) {\r\n        Promise.resolve().then(() => this.onTouched());\r\n      }\r\n    });\r\n    if (this.cmacsCheckboxWrapperComponent) {\r\n      this.cmacsCheckboxWrapperComponent.addCheckbox(this);\r\n    }\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes.nzAutoFocus) {\r\n      this.updateAutoFocus();\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.updateAutoFocus();\r\n    this.checkContent();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.focusMonitor.stopMonitoring(this.elementRef);\r\n    if (this.cmacsCheckboxWrapperComponent) {\r\n      this.cmacsCheckboxWrapperComponent.removeCheckbox(this);\r\n    }\r\n  }\r\n}\r\n","import { FocusMonitor } from '@angular/cdk/a11y';\r\nimport {\r\n  forwardRef,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  Input,\r\n  OnInit,\r\n  Renderer2,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\n\r\nimport { InputBoolean } from 'ng-zorro-antd/core';\r\n\r\nexport interface CmacsCheckBoxOptionInterface {\r\n  label: string;\r\n  value: string;\r\n  checked?: boolean;\r\n  disabled?: boolean;\r\n}\r\n\r\n@Component({\r\n  selector: 'cmacs-checkbox-group',\r\n  exportAs: 'cmacsCheckboxGroup',\r\n  preserveWhitespaces: false,\r\n  encapsulation: ViewEncapsulation.None,\r\n  templateUrl: './cmacs-checkbox-group.component.html',\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: forwardRef(() => CmacsCheckboxGroupComponent),\r\n      multi: true\r\n    }\r\n  ]\r\n})\r\nexport class CmacsCheckboxGroupComponent implements ControlValueAccessor, OnInit {\r\n  // tslint:disable-next-line:no-any\r\n  onChange: (value: any) => void = () => null;\r\n  // tslint:disable-next-line:no-any\r\n  onTouched: () => any = () => null;\r\n  options: CmacsCheckBoxOptionInterface[] = [];\r\n  @Input() @InputBoolean() disabled = false;\r\n\r\n  onOptionChange(): void {\r\n    this.onChange(this.options);\r\n  }\r\n\r\n  trackByOption(_index: number, option: CmacsCheckBoxOptionInterface): string {\r\n    return option.value;\r\n  }\r\n\r\n  constructor(\r\n    private elementRef: ElementRef,\r\n    private focusMonitor: FocusMonitor,\r\n    private cdr: ChangeDetectorRef,\r\n    renderer: Renderer2\r\n  ) {\r\n    renderer.addClass(elementRef.nativeElement, 'ant-checkbox-group');\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.focusMonitor.monitor(this.elementRef, true).subscribe(focusOrigin => {\r\n      if (!focusOrigin) {\r\n        Promise.resolve().then(() => this.onTouched());\r\n      }\r\n    });\r\n  }\r\n\r\n  writeValue(value: CmacsCheckBoxOptionInterface[]): void {\r\n    this.options = value;\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  registerOnChange(fn: (_: CmacsCheckBoxOptionInterface[]) => {}): void {\r\n    this.onChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: () => {}): void {\r\n    this.onTouched = fn;\r\n  }\r\n\r\n  setDisabledState(isDisabled: boolean): void {\r\n    this.disabled = isDisabled;\r\n    this.cdr.markForCheck();\r\n  }\r\n}\r\n","import { FocusMonitor } from '@angular/cdk/a11y';\r\nimport {\r\n  forwardRef,\r\n  AfterViewInit,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  HostListener,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  Renderer2,\r\n  SimpleChanges,\r\n  ViewChild,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { Subject } from 'rxjs';\r\n\r\nimport { InputBoolean } from 'ng-zorro-antd/core';\r\n\r\n@Component({\r\n// tslint:disable-next-line: component-selector\r\n  selector: '[cmacs-radio]',\r\n  exportAs: 'cmacsRadio',\r\n  preserveWhitespaces: false,\r\n  templateUrl: './cmacs-radio.component.html',\r\n  styleUrls: ['./cmacs-radio.component.css'],\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: forwardRef(() => CmacsRadioComponent),\r\n      multi: true\r\n    }\r\n  ],\r\n// tslint:disable-next-line: use-host-property-decorator\r\n  host: {\r\n    '[class.ant-radio-wrapper-checked]': 'checked',\r\n    '[class.ant-radio-wrapper-disabled]': 'disabled'\r\n  }\r\n})\r\nexport class CmacsRadioComponent implements ControlValueAccessor, AfterViewInit, OnChanges, OnDestroy {\r\n\r\n  /* tslint:disable-next-line:no-any */\r\n  constructor(\r\n    private elementRef: ElementRef,\r\n    private renderer: Renderer2,\r\n    private cdr: ChangeDetectorRef,\r\n    private focusMonitor: FocusMonitor\r\n  ) {\r\n    this.renderer.addClass(elementRef.nativeElement, 'ant-radio-wrapper');\r\n  }\r\n  select$ = new Subject<CmacsRadioComponent>();\r\n  touched$ = new Subject<void>();\r\n  checked = false;\r\n  name: string;\r\n  isNgModel = false;\r\n  @ViewChild('inputElement') inputElement: ElementRef;\r\n  /* tslint:disable-next-line:no-any */\r\n  @Input() value: any;\r\n  @Input() @InputBoolean() disabled = false;\r\n  @Input() @InputBoolean() autoFocus = false;\r\n  onChange: (_: boolean) => void = () => null;\r\n  onTouched: () => void = () => null;\r\n\r\n  updateAutoFocus(): void {\r\n    if (this.inputElement) {\r\n      if (this.autoFocus) {\r\n        this.renderer.setAttribute(this.inputElement.nativeElement, 'autofocus', 'autofocus');\r\n      } else {\r\n        this.renderer.removeAttribute(this.inputElement.nativeElement, 'autofocus');\r\n      }\r\n    }\r\n  }\r\n\r\n  @HostListener('click', ['$event'])\r\n  onClick(event: MouseEvent): void {\r\n    // Prevent label click triggered twice.\r\n    event.stopPropagation();\r\n    event.preventDefault();\r\n    if (!this.disabled && !this.checked) {\r\n      this.select$.next(this);\r\n      if (this.isNgModel) {\r\n        this.checked = true;\r\n        this.onChange(true);\r\n      }\r\n    }\r\n  }\r\n\r\n  focus(): void {\r\n    this.focusMonitor.focusVia(this.inputElement, 'keyboard');\r\n  }\r\n\r\n  blur(): void {\r\n    this.inputElement.nativeElement.blur();\r\n  }\r\n\r\n  markForCheck(): void {\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  setDisabledState(isDisabled: boolean): void {\r\n    this.disabled = isDisabled;\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  writeValue(value: boolean): void {\r\n    this.checked = value;\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  registerOnChange(fn: (_: boolean) => {}): void {\r\n    this.isNgModel = true;\r\n    this.onChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: () => {}): void {\r\n    this.onTouched = fn;\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.focusMonitor.monitor(this.elementRef, true).subscribe(focusOrigin => {\r\n      if (!focusOrigin) {\r\n        Promise.resolve().then(() => this.onTouched());\r\n        this.touched$.next();\r\n      }\r\n    });\r\n    this.updateAutoFocus();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes.nzAutoFocus) {\r\n      this.updateAutoFocus();\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.focusMonitor.stopMonitoring(this.elementRef);\r\n  }\r\n}\r\n","import {\r\n  forwardRef,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  Renderer2,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\n\r\nimport { FocusMonitor } from '@angular/cdk/a11y';\r\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { CmacsRadioComponent } from './cmacs-radio.component';\r\n\r\n@Component({\r\n  selector: '[cmacs-radio-button]',\r\n  exportAs: 'cmacsRadioButton',\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: forwardRef(() => CmacsRadioComponent),\r\n      multi: true\r\n    },\r\n    {\r\n      provide: CmacsRadioComponent,\r\n      useExisting: forwardRef(() => CmacsRadioButtonComponent)\r\n    }\r\n  ],\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  preserveWhitespaces: false,\r\n  templateUrl: './cmacs-radio-button.component.html',\r\n  host: {\r\n    '[class.ant-radio-button-wrapper-checked]': 'checked',\r\n    '[class.ant-radio-button-wrapper-disabled]': 'disabled'\r\n  }\r\n})\r\nexport class CmacsRadioButtonComponent extends CmacsRadioComponent {\r\n  /* tslint:disable-next-line:no-any */\r\n  constructor(elementRef: ElementRef, renderer: Renderer2, cdr: ChangeDetectorRef, focusMonitor: FocusMonitor) {\r\n    super(elementRef, renderer, cdr, focusMonitor);\r\n    renderer.removeClass(elementRef.nativeElement, 'ant-radio-wrapper');\r\n    renderer.addClass(elementRef.nativeElement, 'ant-radio-button-wrapper');\r\n  }\r\n}\r\n","import {\r\n  forwardRef,\r\n  AfterContentInit,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ContentChildren,\r\n  ElementRef,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  QueryList,\r\n  Renderer2,\r\n  SimpleChanges,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { merge, Subject, Subscription } from 'rxjs';\r\nimport { startWith, takeUntil } from 'rxjs/operators';\r\n\r\nimport { isNotNil, InputBoolean, NzSizeLDSType } from 'ng-zorro-antd/core';\r\n\r\nimport { CmacsRadioComponent } from './cmacs-radio.component';\r\n\r\nexport type RadioButtonStyle = 'outline' | 'solid';\r\n\r\n@Component({\r\n  selector: 'cmacs-radio-group',\r\n  exportAs: 'cmacsRadioGroup',\r\n  preserveWhitespaces: false,\r\n  templateUrl: './cmacs-radio-group.component.html',\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: forwardRef(() => CmacsRadioGroupComponent),\r\n      multi: true\r\n    }\r\n  ],\r\n  host: {\r\n    '[class.ant-radio-group-large]': `size === 'large'`,\r\n    '[class.ant-radio-group-small]': `size === 'small'`,\r\n    '[class.ant-radio-group-solid]': `buttonStyle === 'solid'`\r\n  }\r\n})\r\nexport class CmacsRadioGroupComponent implements AfterContentInit, ControlValueAccessor, OnDestroy, OnChanges {\r\n  /* tslint:disable-next-line:no-any */\r\n  private value: any;\r\n  private destroy$ = new Subject();\r\n  private selectSubscription: Subscription;\r\n  private touchedSubscription: Subscription;\r\n  onChange: (_: string) => void = () => null;\r\n  onTouched: () => void = () => null;\r\n  @ContentChildren(forwardRef(() => CmacsRadioComponent), { descendants: true }) radios: QueryList<CmacsRadioComponent>;\r\n  @Input() @InputBoolean() disabled: boolean;\r\n  @Input() buttonStyle: RadioButtonStyle = 'outline';\r\n  @Input() size: NzSizeLDSType = 'default';\r\n  @Input() name: string;\r\n\r\n  updateChildrenStatus(): void {\r\n    if (this.radios) {\r\n      Promise.resolve().then(() => {\r\n        this.radios.forEach(radio => {\r\n          radio.checked = radio.value === this.value;\r\n          if (isNotNil(this.disabled)) {\r\n            radio.disabled = this.disabled;\r\n          }\r\n          if (this.name) {\r\n            radio.name = this.name;\r\n          }\r\n          radio.markForCheck();\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  constructor(private cdr: ChangeDetectorRef, renderer: Renderer2, elementRef: ElementRef) {\r\n    renderer.addClass(elementRef.nativeElement, 'ant-radio-group');\r\n  }\r\n\r\n  ngAfterContentInit(): void {\r\n    this.radios.changes\r\n      .pipe(\r\n        startWith(null),\r\n        takeUntil(this.destroy$)\r\n      )\r\n      .subscribe(() => {\r\n        this.updateChildrenStatus();\r\n        if (this.selectSubscription) {\r\n          this.selectSubscription.unsubscribe();\r\n        }\r\n        this.selectSubscription = merge(...this.radios.map(radio => radio.select$))\r\n          .pipe(takeUntil(this.destroy$))\r\n          .subscribe(radio => {\r\n            if (this.value !== radio.value) {\r\n              this.value = radio.value;\r\n              this.updateChildrenStatus();\r\n              this.onChange(this.value);\r\n            }\r\n          });\r\n        if (this.touchedSubscription) {\r\n          this.touchedSubscription.unsubscribe();\r\n        }\r\n        this.touchedSubscription = merge(...this.radios.map(radio => radio.touched$))\r\n          .pipe(takeUntil(this.destroy$))\r\n          .subscribe(() => {\r\n            Promise.resolve().then(() => this.onTouched());\r\n          });\r\n      });\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes.nzDisabled || changes.nzName) {\r\n      this.updateChildrenStatus();\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  /* tslint:disable-next-line:no-any */\r\n  writeValue(value: any): void {\r\n    this.value = value;\r\n    this.updateChildrenStatus();\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  registerOnChange(fn: (_: string) => void): void {\r\n    this.onChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: () => void): void {\r\n    this.onTouched = fn;\r\n  }\r\n\r\n  setDisabledState(isDisabled: boolean): void {\r\n    this.disabled = isDisabled;\r\n    this.cdr.markForCheck();\r\n  }\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport { AnimationEvent } from '@angular/animations';\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Input,\r\n  OnChanges,\r\n  OnInit,\r\n  Output,\r\n  Renderer2,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\n\r\nimport { fadeMotion, InputBoolean, NzUpdateHostClassService } from 'ng-zorro-antd/core';\r\nimport {CmacsGridType, CmacsPriorityType} from \"../core/interfaces/grid-config\";\r\n\r\n@Component({\r\n  selector: 'cmacs-tag',\r\n  exportAs: 'cmacsTag',\r\n  preserveWhitespaces: false,\r\n  providers: [NzUpdateHostClassService],\r\n  animations: [fadeMotion],\r\n  templateUrl: './cmacs-tag.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  host: {\r\n    '[@fadeMotion]': '',\r\n    '(@fadeMotion.done)': 'afterAnimation($event)',\r\n    '(click)': 'updateCheckedStatus()',\r\n    '[style.background-color]': 'presetColor ? null : color',\r\n    '[style.border-left]': \"cmacsTemplateType ? '3px solid ' + color : null\"\r\n  },\r\n  styleUrls: ['./cmacs-tag.component.css'],\r\n})\r\nexport class CmacsTagComponent implements OnInit, OnChanges {\r\n  presetColor = false;\r\n  @Input() mode: 'default' | 'closeable' | 'checkable' = 'default';\r\n  @Input() cmacsGridType: CmacsGridType\r\n  @Input() cmacsPriorityType: CmacsPriorityType;\r\n  @Input() cmacsStatusType = false;\r\n  @Input() cmacsMoneyType = false;\r\n  @Input() cmacsTemplateType = false;\r\n  @Input() disabled = false;\r\n  @Input() color: string;\r\n  @Input() @InputBoolean() checked: boolean = false;\r\n  @Input() @InputBoolean() noAnimation: boolean = false;\r\n  @Output() readonly afterClose = new EventEmitter<void>();\r\n  @Output() readonly onClose = new EventEmitter<MouseEvent>();\r\n  @Output() readonly checkedChange = new EventEmitter<boolean>();\r\n\r\n  private isPresetColor(color?: string): boolean {\r\n    if (!color) {\r\n      return false;\r\n    }\r\n    return /^(pink|red|yellow|orange|cyan|green|blue|purple|geekblue|magenta|volcano|gold|lime)(-inverse)?$/.test(\r\n      color\r\n    );\r\n  }\r\n\r\n  private updateClassMap(): void {\r\n    this.presetColor = this.isPresetColor(this.color);\r\n    const prefix = 'ant-tag';\r\n    const cmacsPrefix = 'cmacs-tag';\r\n    this.nzUpdateHostClassService.updateHostClass(this.elementRef.nativeElement, {\r\n      [`${prefix}`]: true,\r\n      [`${prefix}-has-color`]: this.color && !this.presetColor,\r\n      [`${prefix}-${this.color}`]: this.presetColor,\r\n      [`${prefix}-checkable`]: this.mode === 'checkable',\r\n      [`${prefix}-checkable-checked`]: this.checked,\r\n      [`${cmacsPrefix}-closeable`]: this.mode === 'closeable',\r\n      [`${cmacsPrefix}`]: this.cmacsStatusType || this.cmacsPriorityType || this.cmacsGridType || this.cmacsMoneyType,\r\n      [`${cmacsPrefix}-${this.cmacsGridType}`]: this.cmacsGridType,\r\n      [`${cmacsPrefix}-${this.cmacsPriorityType}-priority`]: this.cmacsPriorityType,\r\n      [`${cmacsPrefix}-money`]: this.cmacsMoneyType,\r\n      [`${cmacsPrefix}-template`]: this.cmacsTemplateType,\r\n      [`${cmacsPrefix}-status`]: this.cmacsStatusType,\r\n    });\r\n  }\r\n\r\n  updateCheckedStatus(): void {\r\n    if (this.mode === 'checkable') {\r\n      this.checked = !this.checked;\r\n      this.checkedChange.emit(this.checked);\r\n      this.updateClassMap();\r\n    }\r\n  }\r\n\r\n  closeTag(e: MouseEvent): void {\r\n    this.onClose.emit(e);\r\n    if (!e.defaultPrevented) {\r\n      this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement), this.elementRef.nativeElement);\r\n    }\r\n  }\r\n\r\n  afterAnimation(e: AnimationEvent): void {\r\n    if (e.toState === 'void') {\r\n      this.afterClose.emit();\r\n    }\r\n  }\r\n\r\n  constructor(\r\n    private renderer: Renderer2,\r\n    private elementRef: ElementRef,\r\n    private nzUpdateHostClassService: NzUpdateHostClassService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.updateClassMap();\r\n  }\r\n\r\n  ngOnChanges(): void {\r\n    this.updateClassMap();\r\n  }\r\n}\r\n","import {\r\n    ChangeDetectionStrategy,\r\n    ChangeDetectorRef,\r\n    Component,\r\n    ElementRef,\r\n    Input,\r\n    OnChanges,\r\n    OnInit,\r\n    Renderer2,\r\n    SimpleChanges,\r\n    TemplateRef,\r\n    ViewChild,\r\n    ViewEncapsulation\r\n} from '@angular/core';\r\n\r\nimport { CmacsTimelineMode } from './cmacs-timeline.components';\r\n\r\n@Component({\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n    encapsulation: ViewEncapsulation.None,\r\n    preserveWhitespaces: false,\r\n    // tslint:disable-next-line:component-selector\r\n    selector: 'cmacs-timeline-item, [cmacs-timeline-item]',\r\n    exportAs: 'cmacsTimelineItem',\r\n    styleUrls: ['./cmacs-timeline-item.component.css'],\r\n    templateUrl: './cmacs-timeline-item.component.html'\r\n})\r\n\r\nexport class CmacsTimelineItemComponent implements OnInit, OnChanges {\r\n    @ViewChild('liTemplate') liTemplate: ElementRef;\r\n    @Input() color = 'gray';\r\n    @Input() dot: string | TemplateRef<void>;\r\n\r\n    isLast = false;\r\n    position: CmacsTimelineMode | undefined;\r\n\r\n    constructor(private renderer: Renderer2, private cdr: ChangeDetectorRef) {}\r\n\r\n    ngOnInit(): void {\r\n        this.tryUpdateCustomColor();\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        if (changes.nzColor) {\r\n            this.tryUpdateCustomColor();\r\n        }\r\n    }\r\n    detectChanges(): void {\r\n        this.cdr.detectChanges();\r\n    }\r\n\r\n    private tryUpdateCustomColor(): void {\r\n        const defaultColors = ['blue', 'red', 'green'];\r\n        const circle = this.liTemplate.nativeElement.querySelector('.ant-timeline-item-head');\r\n        if (defaultColors.indexOf(this.color) === -1) {\r\n          this.renderer.setStyle(circle, 'border-color', this.color);\r\n        } else {\r\n          this.renderer.removeStyle(circle, 'border-color');\r\n        }\r\n    }\r\n}\r\n","import { Platform } from '@angular/cdk/platform';\r\nimport {\r\n    AfterContentInit,\r\n    ChangeDetectionStrategy,\r\n    ChangeDetectorRef,\r\n    Component,\r\n    ContentChild,\r\n    ContentChildren,\r\n    ElementRef,\r\n    Input,\r\n    OnChanges,\r\n    OnDestroy,\r\n    QueryList,\r\n    SimpleChanges,\r\n    TemplateRef,\r\n    ViewChild,\r\n    ViewEncapsulation\r\n} from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport { reverseChildNodes } from 'ng-zorro-antd/core';\r\n\r\nimport { CmacsTimelineItemComponent } from './cmacs-timeline-item.component';\r\n\r\nexport type CmacsTimelineMode = 'left' | 'alternate' | 'right';\r\n\r\n@Component({\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n    encapsulation: ViewEncapsulation.None,\r\n    preserveWhitespaces: false,\r\n    // tslint:disable-next-line:component-selector\r\n    selector: 'cmacs-timeline',\r\n    exportAs: 'cmacsTimeline',\r\n    styleUrls: ['./cmacs-timeline.component.css'],\r\n    templateUrl: './cmacs-timeline.component.html'\r\n})\r\n\r\nexport class CmacsTimelineComponent implements AfterContentInit, OnChanges, OnDestroy {\r\n    @ViewChild('timeline') timeline: ElementRef<HTMLElement>;\r\n    @ContentChildren(CmacsTimelineItemComponent) listOfTimeLine: QueryList<CmacsTimelineItemComponent>;\r\n    @ContentChild('pending') pendingContent: TemplateRef<void>;\r\n\r\n    @Input() mode: CmacsTimelineMode;\r\n    @Input() pending: string | boolean | TemplateRef<void>;\r\n    @Input() pendingDot: string | TemplateRef<void>;\r\n    @Input() reverse = false;\r\n\r\n    isPendingBoolean = false;\r\n\r\n    private destroy$ = new Subject<void>();\r\n\r\n    constructor(private cdr: ChangeDetectorRef, private platform: Platform) { }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        const modeChanges = changes.mode;\r\n        const reverseChanges = changes.reverse;\r\n        const pendingChanges = changes.pending;\r\n\r\n        if (modeChanges && (modeChanges.previousValue !== modeChanges.currentValue || modeChanges.isFirstChange())) {\r\n            this.updateChildren();\r\n        }\r\n        if (\r\n            reverseChanges &&\r\n            reverseChanges.previousValue !== reverseChanges.currentValue &&\r\n            !reverseChanges.isFirstChange()\r\n        ) {\r\n            this.reverseChildTimelineDots();\r\n        }\r\n        if (pendingChanges) {\r\n            this.isPendingBoolean = pendingChanges.currentValue === true;\r\n        }\r\n    }\r\n\r\n    ngAfterContentInit() {\r\n        this.updateChildren();\r\n        if (this.listOfTimeLine) {\r\n            this.listOfTimeLine.changes.pipe(takeUntil(this.destroy$)).subscribe(() => {\r\n                this.updateChildren();\r\n            });\r\n        }\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this.destroy$.next();\r\n        this.destroy$.complete();\r\n    }\r\n\r\n    private updateChildren(): void {\r\n        if (this.listOfTimeLine && this.listOfTimeLine.length) {\r\n            const length = this.listOfTimeLine.length;\r\n            this.listOfTimeLine.toArray().forEach((item, index) => {\r\n                item.isLast = !this.reverse ? index === length - 1 : index === 0;\r\n                item.position =\r\n                    this.mode === 'left' || !this.mode\r\n                        ? undefined\r\n                        : this.mode === 'right'\r\n                            ? 'right'\r\n                            : this.mode === 'alternate' && index % 2 === 0\r\n                                ? 'left'\r\n                                : 'right';\r\n                item.detectChanges();\r\n            });\r\n            this.cdr.markForCheck();\r\n        }\r\n    }\r\n\r\n    private reverseChildTimelineDots(): void {\r\n        if (this.platform.isBrowser) {\r\n            reverseChildNodes(this.timeline.nativeElement as HTMLElement);\r\n            this.updateChildren();\r\n          }\r\n    }\r\n}\r\n","import { Directive, EmbeddedViewRef, Input, TemplateRef, ViewContainerRef } from '@angular/core';\r\n\r\n@Directive({\r\n// tslint:disable-next-line: directive-selector\r\n  selector: '[cmacsStringTemplateOutlet]',\r\n  exportAs: 'cmacsStringTemplateOutlet'\r\n})\r\nexport class CmacsStringTemplateOutletDirective {\r\n  private isTemplate: boolean;\r\n  private inputTemplate: TemplateRef<void> | null = null;\r\n  private inputViewRef: EmbeddedViewRef<void> | null = null;\r\n  private defaultViewRef: EmbeddedViewRef<void> | null = null;\r\n\r\n  constructor(private viewContainer: ViewContainerRef, private defaultTemplate: TemplateRef<void>) {}\r\n\r\n  @Input()\r\n  set cmacsStringTemplateOutlet(value: string | TemplateRef<void>) {\r\n    if (value instanceof TemplateRef) {\r\n      this.isTemplate = true;\r\n      this.inputTemplate = value;\r\n    } else {\r\n      this.isTemplate = false;\r\n    }\r\n    this.updateView();\r\n  }\r\n\r\n  updateView(): void {\r\n    if (!this.isTemplate) {\r\n      if (!this.defaultViewRef) {\r\n        this.viewContainer.clear();\r\n        this.inputViewRef = null;\r\n        if (this.defaultTemplate) {\r\n          this.defaultViewRef = this.viewContainer.createEmbeddedView(this.defaultTemplate);\r\n        }\r\n      }\r\n    } else {\r\n      if (!this.inputViewRef) {\r\n        this.viewContainer.clear();\r\n        this.defaultViewRef = null;\r\n        if (this.inputTemplate) {\r\n          this.inputViewRef = this.viewContainer.createEmbeddedView(this.inputTemplate);\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { Directive, ElementRef, Renderer2 } from '@angular/core';\r\n\r\n@Directive({\r\n// tslint:disable-next-line: directive-selector\r\n  selector: '[cmacs-menu-divider]',\r\n  exportAs: 'cmacsMenuDivider'\r\n})\r\nexport class CmacsMenuDividerDirective {\r\n  constructor(public elementRef: ElementRef, private renderer: Renderer2) {\r\n    this.renderer.addClass(elementRef.nativeElement, 'ant-dropdown-menu-item-divider');\r\n  }\r\n}\r\n","import { ChangeDetectionStrategy, Component, ElementRef, Renderer2, ViewEncapsulation } from '@angular/core';\r\n\r\n@Component({\r\n// tslint:disable-next-line: component-selector\r\n  selector: '[cmacs-menu-group]',\r\n  exportAs: 'cmacsMenuGroup',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  templateUrl: './cmacs-menu-group.component.html',\r\n  preserveWhitespaces: false\r\n})\r\nexport class CmacsMenuGroupComponent {\r\n  constructor(public elementRef: ElementRef, private renderer: Renderer2) {\r\n    this.renderer.addClass(elementRef.nativeElement, 'ant-menu-item-group');\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\nimport { NzMenuBaseService } from 'ng-zorro-antd/core';\r\n\r\n@Injectable()\r\nexport class CmacsMenuService extends NzMenuBaseService {\r\n  isInDropDown = false;\r\n  cmacsMode = null;\r\n}\r\n","import { Injectable, Optional, SkipSelf } from '@angular/core';\r\nimport { combineLatest, BehaviorSubject, Subject } from 'rxjs';\r\nimport { auditTime, distinctUntilChanged, map, tap } from 'rxjs/operators';\r\n\r\nimport { NzDirectionVHIType } from 'ng-zorro-antd/core';\r\n\r\nimport { CmacsMenuService } from './cmacs-menu.service';\r\n\r\n@Injectable()\r\nexport class CmacsSubmenuService {\r\n  disabled = false;\r\n  mode: NzDirectionVHIType = 'vertical';\r\n  mode$ = this.nzMenuService.mode$.pipe(\r\n    map(mode => {\r\n      if (mode === 'inline') {\r\n        return 'inline';\r\n      } else if (mode === 'vertical' || this.hostSubmenuService) {\r\n        return 'vertical';\r\n      } else {\r\n        return 'horizontal';\r\n      }\r\n    }),\r\n    tap(mode => (this.mode = mode as NzDirectionVHIType))\r\n  );\r\n  level = 1;\r\n  level$ = new BehaviorSubject<number>(1);\r\n  subMenuOpen$ = new BehaviorSubject<boolean>(false);\r\n  open$ = new BehaviorSubject<boolean>(false);\r\n  mouseEnterLeave$ = new Subject<boolean>();\r\n  menuOpen$ = combineLatest(this.subMenuOpen$, this.mouseEnterLeave$).pipe(\r\n    map(value => value[0] || value[1]),\r\n    auditTime(150),\r\n    distinctUntilChanged(),\r\n    tap(data => {\r\n      this.setOpenState(data);\r\n      if (this.hostSubmenuService) {\r\n        this.hostSubmenuService.subMenuOpen$.next(data);\r\n      }\r\n    })\r\n  );\r\n\r\n  setOpenState(value: boolean): void {\r\n    this.open$.next(value);\r\n  }\r\n\r\n  onMenuItemClick(): void {\r\n    this.setMouseEnterState(false);\r\n  }\r\n\r\n  setLevel(value: number): void {\r\n    this.level$.next(value);\r\n    this.level = value;\r\n  }\r\n\r\n  setMouseEnterState(value: boolean): void {\r\n    if ((this.mode === 'horizontal' || this.mode === 'vertical' || this.nzMenuService.isInDropDown) && !this.disabled) {\r\n      this.mouseEnterLeave$.next(value);\r\n    }\r\n  }\r\n\r\n  constructor(\r\n    @SkipSelf() @Optional() private hostSubmenuService: CmacsSubmenuService,\r\n    public nzMenuService: CmacsMenuService\r\n  ) {\r\n    if (this.hostSubmenuService) {\r\n      this.setLevel(this.hostSubmenuService.level + 1);\r\n    }\r\n  }\r\n}\r\n","import {\r\n  Directive,\r\n  ElementRef,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  OnInit,\r\n  Optional,\r\n  Renderer2,\r\n  SimpleChanges\r\n} from '@angular/core';\r\n\r\nimport { merge, EMPTY, Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport { isNotNil, InputBoolean, NzMenuBaseService, NzUpdateHostClassService } from 'ng-zorro-antd/core';\r\n\r\nimport { CmacsSubmenuService } from './cmacs-submenu.service';\r\n\r\n@Directive({\r\n// tslint:disable-next-line: directive-selector\r\n  selector: '[cmacs-menu-item]',\r\n  exportAs: 'cmacsMenuItem',\r\n  providers: [NzUpdateHostClassService],\r\n// tslint:disable-next-line: use-host-property-decorator\r\n  host: {\r\n    '(click)': 'clickMenuItem($event)'\r\n  }\r\n})\r\nexport class CmacsMenuItemDirective implements OnInit, OnChanges, OnDestroy {\r\n  private el: HTMLElement = this.elementRef.nativeElement;\r\n  private destroy$ = new Subject();\r\n  private originalPadding: number | null = null;\r\n  selected$ = new Subject<boolean>();\r\n  @Input() paddingLeft: number;\r\n  @Input() @InputBoolean() disabled = false;\r\n  @Input() @InputBoolean() selected = false;\r\n\r\n  /** clear all item selected status except this */\r\n  clickMenuItem(e: MouseEvent): void {\r\n    if (this.disabled) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      return;\r\n    }\r\n    this.menuService.onMenuItemClick(this);\r\n    if (this.submenuService) {\r\n      this.submenuService.onMenuItemClick();\r\n    }\r\n  }\r\n\r\n  setClassMap(): void {\r\n    const prefixName = this.menuService.isInDropDown ? 'ant-dropdown-menu-item' : 'ant-menu-item';\r\n    this.updateHostClassService.updateHostClass(this.el, {\r\n      [`${prefixName}`]: true,\r\n      [`${prefixName}-selected`]: this.selected,\r\n      [`${prefixName}-disabled`]: this.disabled\r\n    });\r\n  }\r\n\r\n  setSelectedState(value: boolean): void {\r\n    this.selected = value;\r\n    this.selected$.next(value);\r\n    this.setClassMap();\r\n  }\r\n\r\n  constructor(\r\n    private updateHostClassService: NzUpdateHostClassService,\r\n    private menuService: NzMenuBaseService,\r\n    @Optional() private submenuService: CmacsSubmenuService,\r\n    private renderer: Renderer2,\r\n    private elementRef: ElementRef\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    /** store origin padding in padding */\r\n    const paddingLeft = this.el.style.paddingLeft;\r\n    if (paddingLeft) {\r\n      this.originalPadding = parseInt(paddingLeft, 10);\r\n    }\r\n    merge(\r\n      this.menuService.mode$,\r\n      this.menuService.inlineIndent$,\r\n      this.submenuService ? this.submenuService.level$ : EMPTY\r\n    )\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe(() => {\r\n        let padding: number | null = null;\r\n        if (this.menuService.mode === 'inline') {\r\n          if (isNotNil(this.paddingLeft)) {\r\n            padding = this.paddingLeft;\r\n          } else {\r\n            const level = this.submenuService ? this.submenuService.level + 1 : 1;\r\n            padding = level * this.menuService.inlineIndent;\r\n          }\r\n        } else {\r\n          padding = this.originalPadding;\r\n        }\r\n        if (padding) {\r\n          this.renderer.setStyle(this.el, 'padding-left', `${padding}px`);\r\n        } else {\r\n          this.renderer.removeStyle(this.el, 'padding-left');\r\n        }\r\n      });\r\n    this.setClassMap();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes.nzSelected) {\r\n      this.setSelectedState(this.selected);\r\n    }\r\n    if (changes.nzDisabled) {\r\n      this.setClassMap();\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport { NzMenuBaseService } from 'ng-zorro-antd/core';\r\n\r\nimport { CmacsMenuService } from './cmacs-menu.service';\r\n\r\nexport function CmacsMenuServiceFactory(\r\n  higherOrderService: NzMenuBaseService,\r\n  menuService: CmacsMenuService\r\n): NzMenuBaseService {\r\n  return higherOrderService ? higherOrderService : menuService;\r\n}\r\n","import { CdkConnectedOverlay, CdkOverlayOrigin, ConnectedOverlayPositionChange } from '@angular/cdk/overlay';\r\nimport { Platform } from '@angular/cdk/platform';\r\nimport {\r\n  AfterContentInit,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ContentChildren,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Host,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  OnInit,\r\n  Optional,\r\n  Output,\r\n  QueryList,\r\n  SimpleChanges,\r\n  ViewChild,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\n\r\nimport { combineLatest, merge, Subject } from 'rxjs';\r\nimport { flatMap, map, startWith, takeUntil } from 'rxjs/operators';\r\n\r\nimport {\r\n  collapseMotion,\r\n  getPlacementName,\r\n  slideMotion,\r\n  zoomBigMotion,\r\n  DEFAULT_SUBMENU_POSITIONS,\r\n  InputBoolean,\r\n  NzMenuBaseService,\r\n  NzNoAnimationDirective,\r\n  NzUpdateHostClassService,\r\n  POSITION_MAP\r\n} from 'ng-zorro-antd/core';\r\n\r\nimport { CmacsMenuItemDirective } from './cmacs-menu-item.directive';\r\nimport { CmacsSubmenuService } from './cmacs-submenu.service';\r\n\r\n@Component({\r\n// tslint:disable-next-line: component-selector\r\n  selector: '[cmacs-submenu]',\r\n  exportAs: 'cmacsSubmenu',\r\n  providers: [CmacsSubmenuService, NzUpdateHostClassService],\r\n  animations: [collapseMotion, zoomBigMotion, slideMotion],\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  preserveWhitespaces: false,\r\n  templateUrl: './cmacs-submenu.component.html',\r\n  styles: [\r\n    `\r\n      .ant-menu-submenu-placement-bottomLeft {\r\n        top: 6px;\r\n        position: relative;\r\n      }\r\n\r\n      .ant-menu-submenu-placement-rightTop {\r\n        left: 4px;\r\n        position: relative;\r\n      }\r\n\r\n      .ant-menu-submenu-placement-leftTop {\r\n        right: 4px;\r\n        position: relative;\r\n      }\r\n    `\r\n  ]\r\n})\r\nexport class CmacsSubMenuComponent implements OnInit, OnDestroy, AfterContentInit, OnChanges {\r\n  @Input() menuClassName: string;\r\n  @Input() paddingLeft: number;\r\n  @Input() @InputBoolean() open = false;\r\n  @Input() @InputBoolean() disabled = false;\r\n  @Output() readonly openChange: EventEmitter<boolean> = new EventEmitter();\r\n\r\n  @ViewChild(CdkConnectedOverlay) cdkConnectedOverlay: CdkConnectedOverlay;\r\n  @ViewChild(CdkOverlayOrigin, { read: ElementRef }) cdkOverlayOrigin: ElementRef;\r\n  @ContentChildren(CmacsSubMenuComponent, { descendants: true })\r\n  listOfCmacsSubMenuComponent: QueryList<CmacsSubMenuComponent>;\r\n  @ContentChildren(CmacsMenuItemDirective, { descendants: true })\r\n  listOfCmacsMenuItemDirective: QueryList<CmacsMenuItemDirective>;\r\n\r\n  placement = 'rightTop';\r\n  triggerWidth: number;\r\n  expandState = 'collapsed';\r\n  overlayPositions = [...DEFAULT_SUBMENU_POSITIONS];\r\n\r\n  private destroy$ = new Subject<void>();\r\n  private isChildMenuSelected = false;\r\n  private isMouseHover = false;\r\n\r\n  setOpenState(open: boolean): void {\r\n    this.submenuService.setOpenState(open);\r\n  }\r\n\r\n  clickSubMenuTitle(): void {\r\n    if (this.submenuService.mode === 'inline' && !this.menuService.isInDropDown && !this.disabled) {\r\n      this.setOpenState(!this.open);\r\n    }\r\n  }\r\n\r\n  setMouseEnterState(value: boolean): void {\r\n    this.isMouseHover = value;\r\n    this.setClassMap();\r\n    this.submenuService.setMouseEnterState(value);\r\n  }\r\n\r\n  setTriggerWidth(): void {\r\n    if (this.submenuService.mode === 'horizontal' && this.platform.isBrowser) {\r\n      this.triggerWidth = this.cdkOverlayOrigin.nativeElement.getBoundingClientRect().width;\r\n    }\r\n  }\r\n\r\n  onPositionChange(position: ConnectedOverlayPositionChange): void {\r\n// tslint:disable-next-line: no-non-null-assertion\r\n    this.placement = getPlacementName(position)!;\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  setClassMap(): void {\r\n    const prefixName = this.menuService.isInDropDown ? 'ant-dropdown-menu-submenu' : 'ant-menu-submenu';\r\n    this.updateHostClassService.updateHostClass(this.elementRef.nativeElement, {\r\n      [`${prefixName}`]: true,\r\n      [`${prefixName}-disabled`]: this.disabled,\r\n      [`${prefixName}-open`]: this.open,\r\n      [`${prefixName}-selected`]: this.isChildMenuSelected,\r\n      [`${prefixName}-${this.submenuService.mode}`]: true,\r\n      [`${prefixName}-active`]: this.isMouseHover && !this.disabled\r\n    });\r\n  }\r\n\r\n  constructor(\r\n    private elementRef: ElementRef,\r\n    public menuService: NzMenuBaseService,\r\n    private cdr: ChangeDetectorRef,\r\n    public submenuService: CmacsSubmenuService,\r\n    private updateHostClassService: NzUpdateHostClassService,\r\n    private platform: Platform,\r\n    @Host() @Optional() public noAnimation?: NzNoAnimationDirective\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    combineLatest(this.submenuService.mode$, this.submenuService.open$)\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe(data => {\r\n        const mode = data[0];\r\n        const open = data[1];\r\n        if (open && mode === 'inline') {\r\n          this.expandState = 'expanded';\r\n        } else if (open && mode === 'horizontal') {\r\n          this.expandState = 'bottom';\r\n        } else if (open && mode === 'vertical') {\r\n          this.expandState = 'active';\r\n        } else {\r\n          this.expandState = 'collapsed';\r\n        }\r\n        this.overlayPositions =\r\n          mode === 'horizontal' ? [POSITION_MAP.bottomLeft] : [POSITION_MAP.rightTop, POSITION_MAP.leftTop];\r\n        if (open !== this.open) {\r\n          this.open = open;\r\n          this.openChange.emit(this.open);\r\n        }\r\n        this.setClassMap();\r\n        this.setTriggerWidth();\r\n      });\r\n    this.submenuService.menuOpen$.pipe(takeUntil(this.destroy$)).subscribe((data: boolean) => {\r\n      this.menuService.menuOpen$.next(data);\r\n    });\r\n    merge(\r\n      this.menuService.mode$,\r\n      this.menuService.inlineIndent$,\r\n      this.submenuService.level$,\r\n      this.submenuService.open$,\r\n      this.submenuService.mode$\r\n    )\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe(() => {\r\n        this.cdr.markForCheck();\r\n      });\r\n  }\r\n\r\n  ngAfterContentInit(): void {\r\n    this.setTriggerWidth();\r\n    this.listOfCmacsMenuItemDirective.changes\r\n      .pipe(\r\n        startWith(true),\r\n        flatMap(() =>\r\n          merge(this.listOfCmacsMenuItemDirective.changes, ...this.listOfCmacsMenuItemDirective.map(menu => menu.selected$))\r\n        ),\r\n        map(() => this.listOfCmacsMenuItemDirective.some(e => e.selected)),\r\n        takeUntil(this.destroy$)\r\n      )\r\n      .subscribe(selected => {\r\n        this.isChildMenuSelected = selected;\r\n        this.setClassMap();\r\n      });\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes.open) {\r\n      this.submenuService.setOpenState(this.open);\r\n    }\r\n    if (changes.disabled) {\r\n      this.submenuService.disabled = this.disabled;\r\n      this.setClassMap();\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n}\r\n","import {\r\n  AfterContentInit,\r\n  ContentChildren,\r\n  Directive,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  OnInit,\r\n  Optional,\r\n  Output,\r\n  QueryList,\r\n  SimpleChanges,\r\n  SkipSelf\r\n} from '@angular/core';\r\n\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport {\r\n  InputBoolean,\r\n  NzDirectionVHIType,\r\n  NzDropdownHigherOrderServiceToken,\r\n  NzMenuBaseService,\r\n  NzUpdateHostClassService\r\n} from 'ng-zorro-antd/core';\r\n\r\nimport { CmacsMenuItemDirective } from './cmacs-menu-item.directive';\r\nimport { CmacsMenuServiceFactory } from './cmacs-menu.resolver';\r\nimport { CmacsMenuService } from './cmacs-menu.service';\r\nimport { CmacsSubMenuComponent } from './cmacs-submenu.component';\r\n\r\nexport type CmacsMenuModeType = 'side-bar';\r\n\r\n@Directive({\r\n// tslint:disable-next-line: directive-selector\r\n  selector: '[cmacs-menu]',\r\n  exportAs: 'cmacsMenu',\r\n  providers: [\r\n    NzUpdateHostClassService,\r\n    CmacsMenuService,\r\n    {\r\n      provide: NzMenuBaseService,\r\n      useFactory: CmacsMenuServiceFactory,\r\n      deps: [[new SkipSelf(), new Optional(), NzDropdownHigherOrderServiceToken], CmacsMenuService]\r\n    }\r\n  ]\r\n})\r\nexport class CmacsMenuDirective implements AfterContentInit, OnInit, OnChanges, OnDestroy {\r\n  private destroy$ = new Subject();\r\n  private cacheMode: NzDirectionVHIType;\r\n  private listOfOpenedCmacsSubMenuComponent: CmacsSubMenuComponent[] = [];\r\n  @ContentChildren(CmacsMenuItemDirective, { descendants: true }) listOfCmacsMenuItemDirective: QueryList<\r\n    CmacsMenuItemDirective\r\n  >;\r\n  @ContentChildren(CmacsSubMenuComponent, { descendants: true }) listOfCmacsSubMenuComponent: QueryList<CmacsSubMenuComponent>;\r\n  @Input() inlineIndent = 24;\r\n  @Input() theme: 'light' | 'dark' = 'light';\r\n  @Input() mode: NzDirectionVHIType = 'vertical';\r\n  @Input() cmacsMode: CmacsMenuModeType | null = null;\r\n  @Input() @InputBoolean() inDropDown = false;\r\n  @Input() @InputBoolean() inlineCollapsed = false;\r\n  @Input() @InputBoolean() selectable = !this.menuService.isInDropDown;\r\n  @Output() readonly click = new EventEmitter<CmacsMenuItemDirective>();\r\n\r\n  updateInlineCollapse(): void {\r\n    if (this.listOfCmacsMenuItemDirective) {\r\n      if (this.inlineCollapsed) {\r\n        this.listOfOpenedCmacsSubMenuComponent = this.listOfCmacsSubMenuComponent.filter(submenu => submenu.open);\r\n        this.listOfCmacsSubMenuComponent.forEach(submenu => submenu.setOpenState(false));\r\n        this.mode = 'vertical';\r\n      } else {\r\n        this.listOfOpenedCmacsSubMenuComponent.forEach(submenu => submenu.setOpenState(true));\r\n        this.listOfOpenedCmacsSubMenuComponent = [];\r\n        this.mode = this.cacheMode;\r\n      }\r\n      this.menuService.setMode(this.mode);\r\n    }\r\n  }\r\n\r\n  setClassMap(): void {\r\n    const prefixName = this.menuService.isInDropDown ? 'ant-dropdown-menu' : 'ant-menu';\r\n    this.updateHostClassService.updateHostClass(this.elementRef.nativeElement, {\r\n      [`${prefixName}`]: true,\r\n      [`${prefixName}-root`]: true,\r\n      [`${prefixName}-${this.theme}`]: true,\r\n      [`${prefixName}-${this.mode}`]: true,\r\n      [`${prefixName}-inline-collapsed`]: this.inlineCollapsed,\r\n      [`cmacs-menu-side-bar`]: this.cmacsMode === 'side-bar'\r\n    });\r\n  }\r\n\r\n  constructor(\r\n    public elementRef: ElementRef,\r\n    private menuService: NzMenuBaseService,\r\n    private updateHostClassService: NzUpdateHostClassService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.setClassMap();\r\n    this.menuService.menuItemClick$.pipe(takeUntil(this.destroy$)).subscribe(menu => {\r\n      this.click.emit(menu);\r\n      if (this.selectable) {\r\n        this.listOfCmacsMenuItemDirective.forEach(item => item.setSelectedState(item === menu));\r\n      }\r\n    });\r\n  }\r\n\r\n  ngAfterContentInit(): void {\r\n    this.cacheMode = this.mode;\r\n    this.updateInlineCollapse();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes.inlineCollapsed) {\r\n      this.updateInlineCollapse();\r\n    }\r\n    if (changes.inlineIndent) {\r\n      this.menuService.setInlineIndent(this.inlineIndent);\r\n    }\r\n    if (changes.inDropDown) {\r\n      this.menuService.isInDropDown = this.inDropDown;\r\n    }\r\n    if (changes.theme) {\r\n      this.menuService.setTheme(this.theme);\r\n    }\r\n    if (changes.mode) {\r\n      this.menuService.setMode(this.mode);\r\n      if (!changes.mode.isFirstChange() && this.listOfCmacsSubMenuComponent) {\r\n        this.listOfCmacsSubMenuComponent.forEach(submenu => submenu.setOpenState(false));\r\n      }\r\n    }\r\n    if (changes.theme || changes.mode || changes.inlineCollapsed) {\r\n      this.setClassMap();\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n}\r\n","export enum TemplateType {\r\n    Date,\r\n    Select,\r\n    Number,\r\n    String,\r\n    Boolean,\r\n    Time\r\n}\r\n","export enum CeldType {\r\n    Default,\r\n    Button,\r\n    Tag,\r\n    TemplateRef,\r\n    Favorite\r\n}\r\n","import {Injectable} from '@angular/core';\r\nimport * as XLSX from 'xlsx';\r\nimport { Subject } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ExcelService {\r\n\r\n  private _exportCompleted: Subject<any> = new Subject<any>();\r\n  public exportCompleted = this._exportCompleted.asObservable();\r\n\r\n  constructor() {\r\n  }\r\n\r\n  static toExportFileName(excelFileName: string): string {\r\n    return `${excelFileName}.xlsx`;\r\n  }\r\n\r\n  public exportAsExcelFile(json: any[], excelFileName: string): void {\r\n    const worksheet: XLSX.WorkSheet = XLSX.utils.json_to_sheet(json);\r\n    const workbook: XLSX.WorkBook = {Sheets: {'data': worksheet}, SheetNames: ['data']};\r\n    XLSX.writeFile(workbook, ExcelService.toExportFileName(excelFileName));\r\n    this._exportCompleted.next(true);\r\n  }\r\n}\r\n","export enum ExportType {\r\n    Pdf = 'pdf',\r\n    Xslx = 'xlsx',\r\n    Png = 'png',\r\n    PdfTree = 'pdf-tree',\r\n    XslxTree = 'xslx-tree'\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport html2canvas from 'html2canvas';\r\nimport * as moment_ from 'moment';\r\nimport 'moment/locale/en-ie';\r\nimport { ExportAsService, ExportAsConfig } from 'ngx-export-as';\r\nconst moment = moment_;\r\nimport jsPDF from 'jspdf';\r\nimport { Subject } from 'rxjs';\r\nimport { CeldType } from '../enums/celdType.enum';\r\nimport { TemplateType } from '../enums/templateType.enum';\r\n\r\n@Injectable({providedIn: 'root'})\r\nexport class UtilService {\r\n\r\n  fileName = '';\r\n  elemID = '';\r\n  exportCompanyName = 'Company Name';\r\n  exportUserName = 'User Name';\r\n  exportTitle = '';\r\n  exportCompanyLogoUrl = 'assets/PToB_logo.png';\r\n  exportTableCustomWidth = null;\r\n  exportTableCustomHeight = null;\r\n\r\n  private _exportCompleted: Subject<any> = new Subject<any>();\r\n  public exportCompleted = this._exportCompleted.asObservable();\r\n\r\n  private cmacsPdfImages = {\r\n    checkboxEmpty: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAaCAYAAABGiCfwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAB+SURBVEhL7ZbRCoAwCEX7/z/c68QH9xPGhb0YQmUWUR4YbODuYb64RR/kRzJmViLS1lpo4S4yPIwMRWOMeYqDDE9oZL33ubuOl2VkaEMWXlbJTlOyFEqWQslSeJcsc8RgiG4xMgw8EZmnOMjYHZ4ARXgh2hBZh78Fd/NVmeoKcvHOkd9CE50AAAAASUVORK5CYII=',\r\n    checkboxIndeterminate: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAaCAYAAACkVDyJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAACISURBVEhL7ZYxCsAgDEV7np6xF3VVHOIlUr50kCagVVtomwcZhJhHXL4LP8xPhTFGDiGwc66rvPd5hoYQopGIjlM/KSVVKoTYbBbY9IwQ4klmoc2qCtftWpWYMGPCWpWYMGPCWpW8QzhCk3BmPGmzhBChifAcpTmAARpHvhi4q8mAKryTrwuZd8TadLIlxV8gAAAAAElFTkSuQmCC',\r\n    checkboxSelected: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAbCAYAAABiFp9rAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAE4SURBVEhL1ZZPSgMxHEbnOvYC4jU8jnWpuy69hl135cqN4Aw4BbUi7UJxKbgSnD8/88YMJkGGJJMO+OCjaZr5HpkukkwUrUpV1/JVVUlDJ92QMfhrUcrgyPaxEzc4Mnfy7v5ZivVGrq7zqOTlputwey0RC562L907HQMdrswS5eWjXjqeQnWZ3ZaIraeCLrP7/4g+PkVe3/UXg6QiJMcXIodnIg9velKTTNRLZqc/QcZcT7DoZqsHBq6ELJ1Hg0Q8TMnJpZ5Q+EjAW8QfbJYh85VA1I7IgcrRuZ8EgkRAGZLZ3F8CwSKYL23JYqV/GCBKBL2MTx+iRXC70wMPRolCGBSlPCboMrst0WQHH2FBoY5jth4TrgGuhEx3OZnsusU7ZbCPndFJN3SinqZtpW6absGY0EHXLyLfIjpzYqgNw6oAAAAASUVORK5CYII='\r\n  };\r\n\r\n  constructor(private exportAsService: ExportAsService, ) { }\r\n\r\n  uuidv4() {\r\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\r\n      // tslint:disable-next-line: no-bitwise\r\n      const r = Math.random() * 16 | 0;\r\n\r\n      // tslint:disable-next-line: triple-equals\r\n      const v = c == 'x' ?\r\n        // tslint:disable-next-line: no-bitwise\r\n        r : (r & 0x3 | 0x8);\r\n      return v.toString(16);\r\n    });\r\n  }\r\n\r\n  get_tex_size(txt, font): any {\r\n    const element = document.createElement('canvas');\r\n    const context = element.getContext('2d');\r\n    context.font = font;\r\n    const tsize = {\r\n      width: context.measureText(txt).width,\r\n      // tslint:disable-next-line: radix\r\n      height: parseInt(context.font)\r\n    };\r\n    return tsize;\r\n  }\r\n\r\n  exportTable(\r\n    format = 'png',\r\n    fileName,\r\n    elemID,\r\n    exportCompanyName = 'Company Name',\r\n    exportUserName = 'User Name',\r\n    exportTitle = '',\r\n    exportCompanyLogoUrl = 'assets/PToB_logo.png',\r\n    exportTableCustomWidth = null,\r\n    exportTableCustomHeight = null) {\r\n\r\n    this.fileName = fileName;\r\n    this.elemID = elemID;\r\n    this.exportCompanyName = exportCompanyName;\r\n    this.exportUserName = exportUserName;\r\n    this.exportTitle = exportTitle;\r\n    this.exportCompanyLogoUrl = exportCompanyLogoUrl;\r\n    this.exportTableCustomWidth = exportTableCustomWidth;\r\n    this.exportTableCustomHeight = exportTableCustomHeight;\r\n\r\n    const tables = document.getElementById(elemID).getElementsByTagName('table');\r\n    this.getTableCapture(tables, format);\r\n\r\n  }\r\n\r\n  initExportToPdf(imgData) {\r\n    const getLogo = () => {\r\n      const canvasL = document.createElement('canvas');\r\n      const ctx = canvasL.getContext('2d');\r\n      canvasL.height = imgLogo.height;\r\n      canvasL.width = imgLogo.width;\r\n      ctx.drawImage(imgLogo, 0, 0);\r\n      const logo = canvasL.toDataURL('image/PNG');\r\n      this.saveImageToPdf(logo, imgData);\r\n    };\r\n\r\n    const imgLogo = new Image();\r\n    imgLogo.crossOrigin = \"Anonymous\";\r\n    imgLogo.onload = getLogo;\r\n    imgLogo.src = this.exportCompanyLogoUrl;\r\n  }\r\n\r\n  saveImageToPdf(logoData, imgData) {\r\n    const cutImageUp = () => {\r\n      const doc = new jsPDF('l', 'mm', 'a4', 1);\r\n      const imgProps = (<any>doc).getImageProperties(imgData);\r\n      const cuts = Math.trunc(imgProps.height / 2080) + 1;\r\n      const pdfWidth = this.exportTableCustomWidth ? this.exportTableCustomWidth : doc.internal.pageSize.getWidth() - 2 * 15;\r\n\r\n      let pdfHeight = (1500 * pdfWidth) / imgProps.width;\r\n      if (this.exportTableCustomHeight) {\r\n        pdfHeight = (this.exportTableCustomHeight * pdfWidth) / imgProps.width;\r\n      }\r\n      for (let y = 0; y < cuts; y++) {\r\n        const canvas = document.createElement('canvas');\r\n        canvas.width = imgProps.width;\r\n        canvas.height = 2080;\r\n        const context = canvas.getContext('2d');\r\n        context.drawImage(image, 0, y * 2080, imgProps.width, 2080, 0, 0, canvas.width, canvas.height);\r\n        const img = canvas.toDataURL(\"image/PNG\");\r\n        if (y) {\r\n          doc.addPage();\r\n        }\r\n        doc.addImage(img, 'PNG', 15, 35, pdfWidth, pdfHeight, undefined, 'FAST');\r\n      }\r\n\r\n      this.addFooters(doc, logoData);\r\n      const filenameFormatted = moment().format(\"DD.MM.YYYY.HH.mm.ss\") + '_' + this.fileName + '.pdf';\r\n      this._exportCompleted.next(true);\r\n      doc.save(filenameFormatted);\r\n    }\r\n\r\n    const image = new Image();\r\n    image.onload = cutImageUp;\r\n    image.src = imgData;\r\n  }\r\n\r\n  addFooters(doc, logo) {\r\n    const pageCount = doc.internal.getNumberOfPages();\r\n    const date = moment().format('MMMM DD, YYYY');\r\n    doc.setFont('times');\r\n    doc.setTextColor(101, 108, 121);\r\n    doc.setFontSize(9);\r\n    for (var i = 1; i <= pageCount; i++) {\r\n      doc.setPage(i);\r\n      doc.text(this.exportCompanyName, 15, 8, {\r\n        align: 'left'\r\n      });\r\n      doc.text(this.exportUserName, doc.internal.pageSize.width - 15, 8, {\r\n        align: 'right'\r\n      });\r\n      doc.addImage(logo, 'PNG', 15, 14, 40, 5, undefined, 'FAST');\r\n      doc.setFontType('bold');\r\n      doc.text(this.exportTitle, 15, 30, {\r\n        align: 'left'\r\n      });\r\n      doc.setFontType('normal');\r\n      doc.text('Page ' + String(i) + ' of ' + String(pageCount), 15, doc.internal.pageSize.height - 10, {\r\n        align: 'left'\r\n      });\r\n      doc.text(date, doc.internal.pageSize.width - 15, doc.internal.pageSize.height - 10, {\r\n        align: 'right'\r\n      })\r\n    }\r\n  }\r\n\r\n  setInlineStyles(targetElem: HTMLElement | SVGElement) {\r\n    const transformProperties = [\r\n      'fill',\r\n      'color',\r\n      'font-size',\r\n      'stroke',\r\n      'font'\r\n    ];\r\n\r\n    let svgElems = Array.from(targetElem.getElementsByTagName(\"svg\"));\r\n    const recurseElementChildren = (node: SVGSVGElement | HTMLElement) => {\r\n      if (!node.style)\r\n        return;\r\n      let styles = getComputedStyle(node);\r\n      for (let transformProperty of transformProperties) {\r\n        node.style[transformProperty] = styles[transformProperty];\r\n      }\r\n      for (let child of Array.from(node.childNodes)) {\r\n        recurseElementChildren(child as SVGSVGElement);\r\n      }\r\n    }\r\n    for (let svgElement of svgElems) {\r\n      recurseElementChildren(svgElement);\r\n    }\r\n  }\r\n\r\n  getTableCapture(tables, format) {\r\n    tables[0].id = this.elemID + '-table-header';\r\n    this.setInlineStyles(tables[0]);\r\n\r\n    const options = {\r\n      background: 'white',\r\n      scale: 3,\r\n      allowTaint: true,\r\n      scrollY: -window.scrollY,\r\n      imageTimeout: 0,\r\n      useCORS: true\r\n    };\r\n\r\n    const exportAsConfig: ExportAsConfig = {\r\n      type: 'png', // the type you want to download\r\n      elementId: tables[0].id, // the id of html/table element\r\n      options\r\n    };\r\n    const interval = setInterval(() => {\r\n      // tslint:disable-next-line: max-line-length\r\n      this.exportAsService.get(exportAsConfig).subscribe(header => {\r\n\r\n        if (tables.length > 1) {\r\n          tables[1].id = this.elemID + '-table-body';\r\n          this.setInlineStyles(tables[1]);\r\n\r\n          const exportAsConfig: ExportAsConfig = {\r\n            type: 'png', // the type you want to download\r\n            elementId: tables[1].id, // the id of html/table element\r\n            options\r\n          };\r\n          this.exportAsService.get(exportAsConfig).subscribe(body => {\r\n            this.combineTwoImages(header, body, format);\r\n          });\r\n        } else {\r\n\r\n          const logDimensions = () => {\r\n            console.log('Image Width', img.width, 'Image Height', img.height);\r\n          };\r\n          const img = new Image();\r\n          img.onload = logDimensions;\r\n          img.src = header;\r\n\r\n          if (format === 'png') {\r\n            this.exportAsService.contentToBlob(header).subscribe(blob => {\r\n              const filenameFormatted = moment().format(\"DD.MM.YYYY.HH.mm.ss\") + '_' + this.fileName + '.png';\r\n              this.exportAsService.downloadFromBlob(blob, filenameFormatted);\r\n              this._exportCompleted.next(true);\r\n            });\r\n          } else {\r\n            this.initExportToPdf(header);\r\n          }\r\n        }\r\n\r\n      });\r\n      clearInterval(interval);\r\n    }, 100);\r\n  }\r\n\r\n  imagesLoaded = 0;\r\n  combineTwoImages(img1, img2, format) {\r\n    const mergeImages = (event) => {\r\n      this.imagesLoaded++;\r\n      if (this.imagesLoaded < 2) {\r\n        return;\r\n      }\r\n      this.imagesLoaded = 0;\r\n      const canvas = document.createElement('canvas');\r\n      canvas.width = image1.width;\r\n      canvas.height = image1.height + image2.height;\r\n      const context = canvas.getContext('2d');\r\n      context.drawImage(image1, 0, 0, image1.width, image1.height);\r\n      context.drawImage(image2, 0, image1.height, image2.width, image2.height);\r\n      const combined = canvas.toDataURL('image/png');\r\n      console.log('Image Width', canvas.width, 'Image Height', canvas.height);\r\n\r\n      if (format === 'png') {\r\n        this.exportAsService.contentToBlob(combined).subscribe(blob => {\r\n          const filenameFormatted = moment().format(\"DD.MM.YYYY.HH.mm.ss\") + '_' + this.fileName + '.png';\r\n          this.exportAsService.downloadFromBlob(blob, filenameFormatted);\r\n          this._exportCompleted.next(true);\r\n        });\r\n      } else {\r\n        this.initExportToPdf(combined);\r\n      }\r\n    }\r\n\r\n    const image1 = new Image();\r\n    image1.onload = mergeImages;\r\n    image1.src = img1;\r\n\r\n    const image2 = new Image();\r\n    image2.onload = mergeImages;\r\n    image2.src = img2;\r\n  }\r\n\r\n  images = [];\r\n\r\n  // Export table version 2\r\n  exportTablev2(\r\n    exportConfig\r\n    ) {\r\n\r\n    const doc = new jsPDF('l', 'mm', 'a4', 1);\r\n    const columns = this.getColumns(exportConfig);\r\n    const rows = this.getRows(exportConfig);\r\n    if (!!exportConfig.exportCompanyLogoUrl)\r\n      this.exportCompanyLogoUrl = exportConfig.exportCompanyLogoUrl;\r\n    if (!!exportConfig.exportCompanyName)\r\n      this.exportCompanyName = exportConfig.exportCompanyName;\r\n    if (!!exportConfig.exportUserName)\r\n      this.exportUserName = exportConfig.exportUserName;\r\n    if (!!exportConfig.fileName)\r\n      this.fileName = exportConfig.fileName;\r\n    if (!!exportConfig.exportTitle)\r\n      this.exportTitle = exportConfig.exportTitle;\r\n\r\n    doc.autoTable({\r\n      head: [columns],\r\n      body: rows,\r\n      theme: 'plain',\r\n      headStyles: {\r\n        font: 'times',\r\n        fontStyle: 'normal',\r\n        fillColor: '#f6f7fb',\r\n        textColor: '#656c79',\r\n        fontSize: 11\r\n      },\r\n      bodyStyles: {\r\n        font: 'times',\r\n        fontStyle: 'normal',\r\n        fillColor: '#ffffff',\r\n        textColor: '#97a0ae',\r\n        fontSize: 11\r\n      },\r\n      columnStyles: exportConfig.columnStyles,\r\n      margin: { top: 35, bottom: 30, left: 15, right: 15 },\r\n      didDrawCell: (docdata) => {\r\n        var textPos = docdata.cell.textPos;\r\n        var dim = docdata.cell.height - docdata.cell.padding('vertical');\r\n        const customWidth = exportConfig.columnStyles && exportConfig.columnStyles[docdata.column.index]\r\n          && exportConfig.columnStyles[docdata.column.index].contentWidth ? exportConfig.columnStyles[docdata.column.index].contentWidth : dim;\r\n        const columnIdx = exportConfig.checkboxSelect ? docdata.column.index - 1 : docdata.column.index;\r\n\r\n      /* Draw checkboxes header */\r\n        if (exportConfig.checkboxSelect && docdata.section === 'head' && docdata.column.index === '0') {\r\n          if (exportConfig.selectedItems.length === exportConfig.data.length) {\r\n            doc.addImage(this.cmacsPdfImages.checkboxSelected, 'PNG', textPos.x, textPos.y, dim, dim, 'checkboxSelected', \"FAST\");\r\n          } else if (!exportConfig.selectedItems.length) {\r\n            doc.addImage(this.cmacsPdfImages.checkboxEmpty, 'PNG', textPos.x, textPos.y, dim, dim, 'checkboxEmpty', \"FAST\");\r\n          } else {\r\n            doc.addImage(this.cmacsPdfImages.checkboxIndeterminate, 'PNG', textPos.x, textPos.y, dim, dim, 'checkboxIndeterminate', \"FAST\");\r\n          }\r\n        }\r\n\r\n      /* Draw checkboxes body */\r\n        if (exportConfig.checkboxSelect && docdata.section === 'body' && docdata.column.index === '0') {\r\n          const row = exportConfig.data[docdata.row.index];\r\n          const idx = exportConfig.selectedItems.indexOf(row[exportConfig.config.fieldId]);\r\n          if (idx < 0) {\r\n            doc.addImage(this.cmacsPdfImages.checkboxEmpty, 'PNG', textPos.x, textPos.y, dim, dim, 'checkboxEmpty', \"FAST\");\r\n          } else {\r\n            doc.addImage(this.cmacsPdfImages.checkboxSelected, 'PNG', textPos.x, textPos.y, dim, dim, 'checkboxSelected', \"FAST\");\r\n          }\r\n        }\r\n\r\n      /* Draw header templates */\r\n        if (exportConfig.config.fields[columnIdx] && exportConfig.config.fields[columnIdx].template && (docdata.section === 'head')) {\r\n          var img = document.getElementById(exportConfig.elemID + 'column' + columnIdx);\r\n          this.setInlineStyles(img);\r\n          this.images.push({ src: img, x: textPos.x, y: textPos.y, width: dim, height: dim });\r\n        } \r\n\r\n      /* Draw body templates and tags */       \r\n        if (exportConfig.config.fields[columnIdx]\r\n          && (exportConfig.config.fields[columnIdx].celdType === CeldType.TemplateRef\r\n          || exportConfig.config.fields[columnIdx].celdType === CeldType.Tag)\r\n          && (docdata.section === 'body')\r\n        ) {\r\n          var img = document.getElementById(exportConfig.elemID + 'column' + columnIdx + 'row' + docdata.row.index);\r\n          if (img) {\r\n            this.setInlineStyles(img);\r\n            this.images.push({ src: img, x: textPos.x, y: textPos.y, width: customWidth, height: dim });\r\n          }  \r\n        }\r\n\r\n        /* Draw borders */\r\n        if (docdata.section === 'body') {\r\n          var s = docdata.cell.styles;\r\n          s.lineColor = '#DEE0E5';\r\n          s.lineWidth = 0.1;\r\n          doc.line(docdata.cell.x, docdata.table.cursor.y, docdata.cell.x + docdata.cell.width, docdata.table.cursor.y, s);\r\n        }  \r\n      },\r\n    });\r\n    if (this.images.length) {\r\n      this.renderTemplate(doc, exportConfig.data);\r\n    } else {\r\n      this.exportToPdfV2(doc);\r\n    }\r\n    \r\n  }\r\n\r\n  getColumns(exportConfig) {\r\n    const columns = [];\r\n    if (exportConfig.checkboxSelect) {\r\n      columns.push('');\r\n    }\r\n    exportConfig.config.fields.filter(item => item.celdType === CeldType.Default\r\n      || item.celdType === CeldType.Tag\r\n      || item.celdType === CeldType.TemplateRef).forEach(field => {\r\n      columns.push(field.display);\r\n    });\r\n    return columns;\r\n  }\r\n\r\n  getRows(exportConfig) {\r\n    const rows = [];\r\n    exportConfig.data.forEach(item => {\r\n      const itemToExport = [];\r\n      if (exportConfig.checkboxSelect) {\r\n        itemToExport.push('');\r\n      }\r\n      // tslint:disable-next-line: no-shadowed-variable\r\n      exportConfig.config.fields.filter(item => item.celdType === CeldType.Default ||\r\n        item.celdType === CeldType.TemplateRef || item.celdType === CeldType.Tag).forEach(field => {\r\n        if (field.celdType === CeldType.TemplateRef || field.celdType === CeldType.Tag) {\r\n          itemToExport.push('');\r\n        } else {\r\n          switch (field.editTemplate) {\r\n            case TemplateType.Select:\r\n              const selectItem = field.select.selectData.find(option => option[field.select.value] === item[field.property]);\r\n\r\n              if (selectItem !== undefined) {\r\n                itemToExport.push(selectItem[field.select.label]);\r\n              }\r\n              break;\r\n            case TemplateType.Date:\r\n              itemToExport.push(exportConfig.datePipe.transform(item[field.property], 'MMMM dd yyyy'));\r\n              break;\r\n            case TemplateType.Time:\r\n              itemToExport.push(exportConfig.datePipe.transform(item[field.property], 'h:mm a'));\r\n              break;\r\n            default:\r\n              itemToExport.push(item[field.property]);\r\n              break;\r\n          }\r\n        }\r\n      });\r\n      rows.push(itemToExport);\r\n    });\r\n    return rows;\r\n  }\r\n\r\n  renderTemplate(doc, data) {\r\n    doc.setPage(1);\r\n    const img = this.images.pop();\r\n    img.src.style.width = 'fit-content';\r\n\r\n    const options = {\r\n      background: null,\r\n      scale: 3,\r\n      allowTaint: true,\r\n      scrollY: -window.pageYOffset,\r\n      scrollX: 0,\r\n      imageTimeout: 0,\r\n      useCORS: true\r\n    };\r\n    html2canvas(img.src, options).then(canvas => {\r\n      const combined = canvas.toDataURL('image/png');\r\n      doc.addImage(combined, 'PNG', img.x, img.y, img.width, img.height, img.src.id, \"FAST\");\r\n      img.src.style.width = 'inherited';\r\n      if (this.images.length) {\r\n        this.renderTemplate(doc, data);\r\n      } else {\r\n        this.exportToPdfV2(doc);\r\n      }\r\n    });\r\n  }\r\n\r\n  exportToPdfV2(doc) {\r\n    const getLogo = () => {\r\n      const canvasL = document.createElement('canvas');\r\n      const ctx = canvasL.getContext('2d');\r\n      canvasL.height = imgLogo.height;\r\n      canvasL.width = imgLogo.width;\r\n      ctx.drawImage(imgLogo, 0, 0);\r\n      const logo = canvasL.toDataURL('image/PNG');\r\n      this.addFooters(doc, logo);\r\n      const filenameFormatted = moment().format(\"DD.MM.YYYY.HH.mm.ss\") + '_' + this.fileName + '.pdf';\r\n      this._exportCompleted.next(true);\r\n      doc.save(filenameFormatted);\r\n    };\r\n\r\n    const imgLogo = new Image();\r\n    imgLogo.crossOrigin = \"Anonymous\";\r\n    imgLogo.onload = getLogo;\r\n    imgLogo.src = this.exportCompanyLogoUrl;\r\n  }\r\n\r\n}\r\n","import { DatePipe } from '@angular/common';\r\nimport {\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  OnInit,\r\n  Output,\r\n  SimpleChanges,\r\n  AfterViewInit,\r\n  TemplateRef,\r\n  ViewChild,\r\n  HostListener,\r\n  ChangeDetectionStrategy\r\n} from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil, count } from 'rxjs/operators';\r\nimport {InputBoolean, InputNumber, NzSizeMDSType, toBoolean} from 'ng-zorro-antd/core';\r\nimport { NzI18nService } from 'ng-zorro-antd/i18n';\r\nimport { ExportAsService, ExportAsConfig } from 'ngx-export-as';\r\nimport 'jspdf-autotable';\r\nimport { GridConfig, Field } from '../core/interfaces/grid-config';\r\nimport { GridExpConfig } from '../core/interfaces/grid-exp-config';\r\nimport { TemplateType } from '../core/enums/templateType.enum';\r\nimport { CeldType } from '../core/enums/celdType.enum';\r\nimport { ExcelService } from '../core/services/excel.service';\r\nimport { ExportType } from '../core/enums/export-type.enum';\r\nimport {CookieService} from \"ngx-cookie-service\";\r\nimport { NzDropdownContextComponent, NzDropdownService } from \"ng-zorro-antd\";\r\nimport * as moment_ from 'moment';\r\nimport 'moment/locale/en-ie';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { UtilService } from '../core/services/util.service';\r\nconst moment = moment_;\r\n\r\n@Component({\r\n  // tslint:disable-next-line: component-selector\r\n  selector: 'cmacs-grid',\r\n  exportAs: 'cmacsGrid',\r\n  templateUrl: './cmacs-table.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  styleUrls: ['./cmacs-table.component.css']\r\n})\r\n// tslint:disable-next-line no-any\r\nexport class CmacsGridComponent<T = any> implements OnInit, OnChanges, OnDestroy, AfterViewInit {\r\n  locale: any = {}; // tslint:disable-line:no-any\r\n  headerBottomStyle = {};\r\n  private destroy$ = new Subject<void>();\r\n  // tslint:disable-next-line: no-input-rename\r\n  @Input() size: NzSizeMDSType = 'default';\r\n  @Input() showTotal: TemplateRef<{ $implicit: number; range: [number, number] }>;\r\n  @Input() pageSizeOptions = [10, 20, 30, 40, 50];\r\n  @Input() @InputBoolean() virtualScroll = false;\r\n  @Input() @InputNumber() virtualItemSize = 0;\r\n  @Input() loadingDelay = 0;\r\n  @Input() loadingIndicator: TemplateRef<void>;\r\n  @Input() total = 0;\r\n  @Input() title: string | TemplateRef<void>;\r\n  @Input() footer: string | TemplateRef<void>;\r\n  @Input() noResult: string | TemplateRef<void>;\r\n  @Input() widthConfig: string[] = [];\r\n  @Input() pageIndex = 1;\r\n  @Input() pageSize = 10;\r\n  // tslint:disable-next-line: no-input-rename\r\n  @Input() data = [];\r\n  @Input() config: GridConfig;\r\n  @Output() configChange: EventEmitter<GridConfig> = new EventEmitter<GridConfig>();\r\n  @Input() fieldId: string;\r\n  @Input() gridID: string;\r\n  @Input() paginationPosition: 'top' | 'bottom' | 'both' = 'bottom';\r\n  @Input() scroll: { x?: string | null; y?: string | null } = { x: null, y: null };\r\n  @Input() @ViewChild('renderItemTemplate') nzItemRender: TemplateRef<{\r\n    $implicit: 'page' | 'prev' | 'next';\r\n    page: number;\r\n  }>;\r\n  @Input() @InputBoolean() printLandscape = true;\r\n  @Input() @InputBoolean() wrapLines = false;\r\n  @Input() @InputBoolean() frontPagination = true;\r\n  @Input() @InputBoolean() templateMode = false;\r\n  @Input() @InputBoolean() bordered = false;\r\n  @Input() @InputBoolean() showPagination = true;\r\n  @Input() @InputBoolean() loading = false;\r\n  @Input() @InputBoolean() showSizeChanger = false;\r\n  @Input() @InputBoolean() hideOnSinglePage = false;\r\n  @Input() @InputBoolean() showQuickJumper = false;\r\n  @Input() @InputBoolean() simple = false;\r\n  @Input() @InputBoolean() checkboxSelect = false;\r\n  @Input() @InputBoolean() inLineEdit = false;\r\n  @Input() @InputBoolean() dataTable = false;\r\n  @Input() @InputBoolean() showRate = false;\r\n  @Input() exportEvent = new EventEmitter<GridExpConfig>();\r\n  @Output() buttonClick = new EventEmitter<any>();\r\n  @Output() rateChange = new EventEmitter<any>();\r\n  @Output() selectionChange = new EventEmitter<T[]>();\r\n  @Output() ondlclickRow = new EventEmitter<any>();\r\n  @Output() onclickRow = new EventEmitter<any>();\r\n  @Output() onedit = new EventEmitter<any>();\r\n  @Input() rateCount = 5;\r\n  @Input() @InputBoolean() multiSelect = false;\r\n  @Output() sortChange = new EventEmitter<any>();\r\n\r\n  @Input() contextmenu: string | TemplateRef<void>;\r\n  public dropdown: NzDropdownContextComponent;\r\n\r\n  selected = false;\r\n  defaultSortOrder = null;\r\n  checkboxCache: CheckboxSelect[] = [];\r\n  isIndeterminate = false;\r\n  allChecked = false;\r\n  editId: string | null;\r\n  property: string | null;\r\n  rowOnEdition = -1;\r\n  tapCount = 0;\r\n  lastIdxSelected = null;\r\n\r\n  @ViewChild('fieldTypeInput', { read: ElementRef }) inputElement: ElementRef;\r\n  @ViewChild('fieldTypeInputNumber', { read: ElementRef }) inputNumberElement: ElementRef;\r\n  @ViewChild('fieldTypeDatePicker', { read: ElementRef }) datePickerElement: ElementRef;\r\n  @ViewChild('fieldTypeSelect', { read: ElementRef }) selectElement: ElementRef;\r\n  @ViewChild('fieldTypeBool', { read: ElementRef }) boolElement: ElementRef;\r\n\r\n  /*Context Menu */\r\n  contextMenu($event: MouseEvent, template: TemplateRef<void>): void {\r\n    this.dropdown = this.nzDropdownService.create($event, template);\r\n  }\r\n\r\n  startEdit(id: string, property: string, event: MouseEvent): void {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    this.editId = id;\r\n    this.property = property;\r\n  }\r\n\r\n  sort($event: any, fieldProperty: string, ){\r\n    this.sortChange.emit({sortName: fieldProperty, sortValue: $event});\r\n  }\r\n\r\n  getHeaderMaxWidth(field: Field) {\r\n    if (field.showSort) {\r\n      return `calc(100% - 15px)`;\r\n    }\r\n    return `100%`;\r\n  }\r\n\r\n  @HostListener('window:click', ['$event'])\r\n  handleClick(e: Event): void {\r\n    const element = e.target as HTMLElement;\r\n    if (this.editId && this.property) {\r\n      if (\r\n        (this.inputElement && this.inputElement.nativeElement !== e.target) ||\r\n        (this.inputNumberElement && !this.childOf(element, this.inputNumberElement.nativeElement)) ||\r\n        (this.datePickerElement && !this.childOf(element, this.datePickerElement.nativeElement)) ||\r\n        (this.selectElement && !this.childOf(element, this.selectElement.nativeElement) ||\r\n        (this.boolElement && this.boolElement.nativeElement !== e.target))\r\n      ) {\r\n        this.editId = null;\r\n        this.property = null;\r\n        if (this.rowOnEdition >= 0) {\r\n          this.onedit.emit(this.data[this.rowOnEdition]);\r\n          this.rowOnEdition = -1;\r\n        }\r\n\r\n      }\r\n    }\r\n  }\r\n\r\n  childOf( node: any, ancestor: any ) {\r\n    let child = node;\r\n    while (child !== null) {\r\n      if (child === ancestor) return true;\r\n      if (child.classList && child.classList.length > 0 && child.className && typeof child.className === 'string'\r\n       && child.className.indexOf('cdk-overlay-pane') >=0 ) return true;\r\n      child = child.parentNode;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  endEditMode($event: KeyboardEvent, index: number) {\r\n    if ($event.key === ('Enter' || 'enter')) {\r\n      this.editId = null;\r\n      this.property = null;\r\n      this.rowOnEdition = -1;\r\n      this.onedit.emit(this.data[index]);\r\n    } else {\r\n      this.rowOnEdition = index;\r\n    }\r\n  }\r\n\r\n  endEditModeNgModel(index: number) {\r\n    this.editId = null;\r\n    this.property = null;\r\n    this.rowOnEdition = -1;\r\n    this.onedit.emit(this.data[index]);\r\n  }\r\n\r\n  getIndex(id): number {\r\n    let i = -1;\r\n    i = this.checkboxCache.findIndex(item => item.data[this.config.fieldId] === id);\r\n    return i;\r\n  }\r\n\r\n  order = 0;\r\n  updateCheckboxCache(): void {\r\n    this.checkboxCache.length = 0;\r\n    this.data.forEach(item => {\r\n      this.checkboxCache.push({\r\n        selected: item.selected ? item.selected : false,\r\n        data: { ...item },\r\n        order: item.selected ? this.order++ : -1\r\n      });\r\n    });\r\n  }\r\n\r\n  getMaxWidth() {\r\n    return `calc(100% - 17px)`;\r\n  }\r\n\r\n  onButtonClick(field: any) {\r\n    this.buttonClick.emit(field);\r\n  }\r\n\r\n  onCheckboxChange($event, data) {\r\n    this.checkboxCache[this.getIndex(data[this.config.fieldId])].order = $event ? this.order++ : -1;\r\n    this.refreshCheckboxState();\r\n  }\r\n\r\n  refreshCheckboxState(oninit = false) {\r\n    const dataSelected = this.checkCheckboxState();\r\n    if (!oninit) {\r\n      this.selectionChange.emit(dataSelected.map(item => item.data));\r\n    }\r\n  }\r\n\r\n  checkCheckboxState() {\r\n    const dataSelected = this.checkboxCache.filter(item => item.selected).sort((a, b) => a.order - b.order);\r\n    this.selected = this.allChecked = (dataSelected.length > 0 && (dataSelected.length === this.checkboxCache.length));\r\n    this.isIndeterminate = dataSelected.length > 0 && !this.allChecked;\r\n    return dataSelected;\r\n  }\r\n\r\n  ngModelChange(index: number) {\r\n    this.rowOnEdition = index;\r\n  }\r\n\r\n  // tslint:disable-next-line: no-shadowed-variable\r\n  onRateChange(count: number, data: any) {\r\n    data[this.config.fieldRate] = count;\r\n    this.rateChange.emit(data);\r\n  }\r\n\r\n  onRateClick(event: any) {\r\n    this.preventDefault(event);\r\n  }\r\n\r\n  getFields(): Field[] {\r\n    return this.config.fields.filter(item => item.hidden === undefined || !item.hidden);\r\n  }\r\n\r\n  onCheckboxAllChange(status: boolean) {\r\n    this.checkboxCache.forEach(element => {\r\n      element.selected = status;\r\n    });\r\n    this.isIndeterminate = false;\r\n\r\n    this.selectionChange.emit((status) ? this.data : []);\r\n  }\r\n\r\n  getLabel(data: any, field: Field): string {\r\n    let result = '';\r\n    if (field.editTemplate === TemplateType.Select && field.select !== undefined) {\r\n      // tslint:disable-next-line: no-shadowed-variable\r\n      const item = field.select.selectData.find(item => item !== undefined && item[field.select.value] === data[field.property]);\r\n      result = (item !== undefined) ? item[field.select.label] : '';\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  isSelect(field: Field): boolean {\r\n    return field !== undefined && field.editTemplate === TemplateType.Select;\r\n  }\r\n\r\n  isReadOnly(field: Field): boolean{\r\n    return field !== undefined && field.readonly !== undefined && field.readonly;\r\n  }\r\n\r\n  isBoolean(value: any): boolean {\r\n    return value !== undefined && typeof (value) === 'boolean';\r\n  }\r\n\r\n  isObject(value: any): boolean {\r\n    return value !== undefined && typeof (value) === 'object';\r\n  }\r\n\r\n  isDate(field: Field): boolean {\r\n    return field !== undefined && field.celdType === CeldType.Default && field.editTemplate === TemplateType.Date;\r\n  }\r\n\r\n  isString(field: Field): boolean {\r\n    return field !== undefined && field.celdType === CeldType.Default && field.editTemplate === TemplateType.String;\r\n  }\r\n\r\n  isNumber(field: Field): boolean {\r\n    return field !== undefined && field.celdType === CeldType.Default && field.editTemplate === TemplateType.Number;\r\n  }\r\n\r\n  isCeldTypeDefault(field: Field): boolean {\r\n    return field !== undefined && field.celdType === CeldType.Default;\r\n  }\r\n\r\n  isCeldTypeButton(field: Field): boolean {\r\n    return field !== undefined && field.celdType === CeldType.Button;\r\n  }\r\n\r\n  isCeldTypeTag(field: Field): boolean {\r\n    return field !== undefined && field.celdType === CeldType.Tag;\r\n  }\r\n\r\n  isCeldTypeTemplateRef(field: Field): boolean {\r\n    return field !== undefined && field.celdType === CeldType.TemplateRef;\r\n  }\r\n\r\n\r\n  isUndefined(value: any) {\r\n    return value === undefined;\r\n  }\r\n\r\n  isRowSelected(data: any): boolean {\r\n    const dataSelectd = this.checkboxCache.filter(item => item.selected).map(item => item.data[this.config.fieldId]);\r\n    return dataSelectd.indexOf(data[this.config.fieldId]) !== -1;\r\n  }\r\n\r\n  constructor(\r\n    private cdr: ChangeDetectorRef,\r\n    private i18n: NzI18nService,\r\n    private exportAsService: ExportAsService,\r\n    private nzDropdownService: NzDropdownService,\r\n    private excelService: ExcelService,\r\n    private utilService: UtilService,\r\n    private datePipe: DatePipe,\r\n    private cookies: CookieService\r\n  ) {\r\n    // renderer.addClass(elementRef.nativeElement, 'ant-table-wrapper');\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    if (this.cookies.check(this.gridID)) {\r\n      const savedConfigStr = this.cookies.get(this.gridID);\r\n      // reset expiration date\r\n      this.cookies.set(this.gridID, savedConfigStr, 365);\r\n\r\n      // parse cookie value to typescript const\r\n      const savedConfig = JSON.parse(this.cookies.get(this.gridID)) as GridConfig;\r\n      if (typeof savedConfig === \"object\") {\r\n        this.config = savedConfig;\r\n        this.configChange.emit(this.config);\r\n      }\r\n    }\r\n    this.cdr.detectChanges();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.i18n.localeChange.pipe(takeUntil(this.destroy$)).subscribe(() => {\r\n      this.locale = this.i18n.getLocaleData('Table');\r\n      this.cdr.markForCheck();\r\n    });\r\n\r\n    if (this.checkboxSelect) {\r\n      this.updateCheckboxCache();\r\n      this.refreshCheckboxState(true);\r\n    }\r\n\r\n    if (this.dataTable && this.data.length > 1) {\r\n      while (this.data.length > 1) {\r\n        this.data.pop();\r\n      }\r\n      this.showPagination = false;\r\n    }\r\n\r\n    this.checkCheckboxState();\r\n\r\n    if (!this.gridID) {\r\n      this.gridID = this.utilService.uuidv4();\r\n    }\r\n\r\n    this.exportEvent.subscribe((config: GridExpConfig) => {\r\n\r\n      switch (config.exportType) {\r\n        case ExportType.Pdf:\r\n          this.exportToPdf(config);\r\n          break;\r\n        case ExportType.Xslx:\r\n          this.exportToExcel(config.fileName);\r\n          break;\r\n        case ExportType.Png:\r\n          this.exportToPng(config.fileName);\r\n          break;\r\n      }\r\n    });\r\n\r\n    this.utilService.exportCompleted.subscribe(() => {\r\n      this.loading = false;\r\n      this.cdr.markForCheck();\r\n    });\r\n\r\n    this.excelService.exportCompleted.subscribe(() => {\r\n      this.loading = false;\r\n      this.cdr.markForCheck();\r\n    });\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes.data) {\r\n      this.updateCheckboxCache();\r\n      this.refreshCheckboxState();\r\n    }\r\n  }\r\n\r\n  exportToPng(fileName: string): void {\r\n    this.loading = true;\r\n    this.utilService.exportTable('png', fileName, this.gridID);\r\n  }\r\n\r\n  exportToExcel(fileName: string): void {\r\n    this.loading = true;\r\n    const dataToExport: any[] = [];\r\n    const fields = this.config.fields.filter(item =>\r\n                    item.celdType === CeldType.Default ||\r\n                    item.celdType === CeldType.Tag ||\r\n                    item.celdType === CeldType.TemplateRef);\r\n\r\n    this.data.forEach(item => {\r\n      const itemToExport = {};\r\n      // tslint:disable-next-line: no-shadowed-variable\r\n      fields.forEach(field => {\r\n        if (field.editTemplate === TemplateType.Select) {\r\n          const selectItem = field.select.selectData.find(option => option[field.select.value] === item[field.property]);\r\n          if (selectItem !== undefined) {\r\n            itemToExport[field.display] = selectItem[field.select.label];\r\n          }\r\n        } else if (field.celdType === CeldType.TemplateRef) {\r\n          itemToExport[field.display] = item[field.property].context.exportValue;\r\n        } else {\r\n          itemToExport[field.display] = item[field.property];\r\n        }\r\n      });\r\n\r\n      dataToExport.push(itemToExport);\r\n    });\r\n\r\n    const filenameFormatted = moment().format(\"DD.MM.YYYY.HH.mm.ss\") + '_' + fileName;\r\n    this.excelService.exportAsExcelFile(dataToExport, filenameFormatted);\r\n  }\r\n\r\n  exportToPdf(config): void {\r\n    this.loading = true;\r\n    this.cdr.detectChanges();\r\n    if (!config.useVersion2) {\r\n      this.utilService.exportTable(\r\n        'pdf',\r\n        config.fileName,\r\n        this.gridID,\r\n        config.exportCompanyName,\r\n        config.exportUserName,\r\n        config.exportTitle,\r\n        config.exportCompanyLogoUrl,\r\n        config.exportTableCustomWidth,\r\n        config.exportTableCustomHeight\r\n      );\r\n    } else {\r\n      const exportConfig = {\r\n        checkboxSelect: this.checkboxSelect,\r\n        selectedItems: this.checkboxSelect ? this.checkboxCache.filter(item => item.selected).map(item => item.data[this.config.fieldId]) : [],\r\n        fileName: config.fileName,\r\n        datePipe: this.datePipe,\r\n        elemID: this.gridID,\r\n        data: this.data,\r\n        config: this.config,\r\n        columnStyles: config.columnStyles,\r\n        exportCompanyName: config.exportCompanyName,\r\n        exportUserName: config.exportUserName,\r\n        exportTitle: config.exportTitle,\r\n        exportCompanyLogoUrl: config.exportCompanyLogoUrl ? config.exportCompanyLogoUrl : 'assets/PToB_logo.png',\r\n      }\r\n\r\n      this.utilService.exportTablev2(\r\n        exportConfig\r\n      );\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  tapHandler($event, data){\r\n    this.tapCount += 1;\r\n    setTimeout( () => {\r\n      if (this.tapCount === 1) {\r\n        $event.preventDefault();\r\n        this.clickRow(null, data );\r\n      }\r\n      this.tapCount = 0;\r\n    }, 600 );\r\n    if (this.tapCount > 1) {\r\n      $event.preventDefault();\r\n      this.dblClickRow(data);\r\n    }\r\n\r\n  }\r\n\r\n  clicks = 0;\r\n  clickRow(event: MouseEvent, data: any) {\r\n    this.clicks++;\r\n    setTimeout(() => {\r\n      event.preventDefault();\r\n      event.stopImmediatePropagation();\r\n      if (this.clicks === 1) {\r\n        this.selectRow(event, data);\r\n      }\r\n      if (this.clicks > 1) {\r\n        this.dblClickRow(data);\r\n      }\r\n      this.clicks = 0;\r\n    }, 300);\r\n  }\r\n\r\n  preventDefault($event: MouseEvent) {\r\n    $event.preventDefault();\r\n    $event.stopImmediatePropagation();\r\n  }\r\n\r\n  selectRow(event: MouseEvent, data: any) {\r\n    this.onclickRow.emit(data);\r\n    /* Get index of selection */\r\n    const index = this.checkboxCache.findIndex(item => item.data[this.config.fieldId] === data[this.config.fieldId]);\r\n    if (!this.checkboxSelect) {\r\n      if (event && (toBoolean(event.ctrlKey) || toBoolean(event.shiftKey))) {\r\n        /* Shift Selection */\r\n        if (toBoolean(event.shiftKey)) {\r\n          this.selectMultiple(index);\r\n        }\r\n      } else {\r\n        this.removeSelection(data);\r\n      }\r\n      /* Select element */\r\n      if (index !== -1) {\r\n        this.checkboxCache[index].selected = event && toBoolean(event.shiftKey) ? true : !this.checkboxCache[index].selected;\r\n        /* Save last index selected */\r\n        this.lastIdxSelected = this.checkboxCache[index].selected ? index : null;\r\n      }\r\n      const selectedItems = this.checkboxCache.filter(item => item.selected);\r\n      this.checkboxCache[index].order = this.checkboxCache[index].selected ? this.order++ : -1;\r\n      this.selectionChange.emit(selectedItems.sort((a, b) => a.order - b.order).map(item => item.data));\r\n    }\r\n    this.cdr.detectChanges();\r\n  }\r\n\r\n  removeSelection(data) {\r\n    this.checkboxCache.filter(item => item.selected && item.data[this.config.fieldId] !== data[this.config.fieldId])\r\n      .forEach(elem => { elem.selected = false, elem.order = -1 });\r\n  }\r\n\r\n  selectMultiple(currentIdx) {\r\n    if (this.lastIdxSelected !== null) {\r\n      while (currentIdx !== this.lastIdxSelected) {\r\n        this.checkboxCache[this.lastIdxSelected].selected = true;\r\n        this.checkboxCache[this.lastIdxSelected].order = this.order++;\r\n        this.lastIdxSelected = currentIdx > this.lastIdxSelected ? this.lastIdxSelected + 1 : this.lastIdxSelected - 1;\r\n      }\r\n    } else {\r\n      this.checkboxCache[currentIdx].selected = true;\r\n      this.checkboxCache[currentIdx].order = this.order++;\r\n    }\r\n    this.lastIdxSelected = currentIdx;\r\n  }\r\n\r\n  dblClickRow(data: any) {\r\n    this.ondlclickRow.emit(data);\r\n  }\r\n}\r\n\r\nexport interface CheckboxSelect {\r\n  data: any;\r\n  selected: boolean;\r\n  order?: number;\r\n}\r\n","\r\nimport { Injectable } from '@angular/core';\r\nimport { NzTreeBaseService } from 'ng-zorro-antd/core';\r\nimport {isNotNil, NzTreeNode} from \"ng-zorro-antd\";\r\n\r\n@Injectable()\r\nexport class CmacsTreeService extends NzTreeBaseService {\r\n    nzMultiple ? = false;\r\n\r\n  /**\r\n   * search value & expand node\r\n   * should add expandlist\r\n   */\r\n  searchExpand(value: string): void {\r\n    this.matchedNodeList = [];\r\n    value = value.toLowerCase();\r\n    const expandedKeys: string[] = [];\r\n    if (!isNotNil(value)) {\r\n      return;\r\n    }\r\n    // to reset expandedNodeList\r\n    const expandParent = (n: NzTreeNode) => {\r\n      // expand parent node\r\n      const parentNode = n.getParentNode();\r\n      if (parentNode) {\r\n        expandedKeys.push(parentNode.key);\r\n        expandParent(parentNode);\r\n      }\r\n    };\r\n    const searchChild = (n: NzTreeNode) => {\r\n      if (value && n.title.toLowerCase().includes(value)) {\r\n        // match the node\r\n        n.isMatched = true;\r\n        this.matchedNodeList.push(n);\r\n        // expand parentNode\r\n        expandParent(n);\r\n      } else {\r\n        n.isMatched = false;\r\n      }\r\n      n.children.forEach(child => {\r\n        searchChild(child);\r\n      });\r\n    };\r\n    this.rootNodes.forEach(child => {\r\n      searchChild(child);\r\n    });\r\n    // expand matched keys\r\n    this.calcExpandedKeys(expandedKeys, this.rootNodes);\r\n  }\r\n}\r\n","\r\nimport {\r\n  forwardRef,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ContentChild,\r\n  EventEmitter,\r\n  Host,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  OnInit,\r\n  Optional,\r\n  Output,\r\n  SimpleChange,\r\n  SkipSelf,\r\n  TemplateRef, HostListener\r\n} from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { Observable, ReplaySubject, Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport cloneDeep from 'lodash/cloneDeep';\r\n\r\nimport {\r\n  isNotNil,\r\n  toBoolean,\r\n  InputBoolean,\r\n  NzFormatBeforeDropEvent,\r\n  NzFormatEmitEvent,\r\n  NzNoAnimationDirective,\r\n  NzTreeBase,\r\n  NzTreeBaseService,\r\n  NzTreeHigherOrderServiceToken,\r\n  NzTreeNode,\r\n\r\n  NzTreeNodeOptions\r\n} from 'ng-zorro-antd/core';\r\n\r\nimport { CmacsTreeService } from './cmacs-tree.service';\r\n\r\nexport function NzTreeServiceFactory(\r\n  higherOrderService: NzTreeBaseService,\r\n  treeService: CmacsTreeService\r\n): NzTreeBaseService {\r\n  return higherOrderService ? higherOrderService : treeService;\r\n}\r\n\r\n@Component({\r\n// tslint:disable-next-line: component-selector\r\n  selector: 'cmacs-tree',\r\n  exportAs: 'cmacsTree',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  templateUrl: './cmacs-tree.component.html',\r\n  styleUrls: ['./cmacs-tree.component.css'],\r\n  providers: [\r\n    CmacsTreeService,\r\n    {\r\n      provide: NzTreeBaseService,\r\n      useFactory: NzTreeServiceFactory,\r\n      deps: [[new SkipSelf(), new Optional(), NzTreeHigherOrderServiceToken], CmacsTreeService]\r\n    },\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: forwardRef(() => CmacsTreeComponent),\r\n      multi: true\r\n    }\r\n  ]\r\n})\r\nexport class CmacsTreeComponent extends NzTreeBase implements OnInit, OnDestroy, ControlValueAccessor, OnChanges {\r\n  displayDataAsyncLoading = [];\r\n  treeDataAsyncLoading = [];\r\n\r\n  @Input() @InputBoolean() showIcon = false;\r\n  @Input() @InputBoolean() showExpand = true;\r\n  @Input() @InputBoolean() showLine = false;\r\n  @Input() expandedIcon: TemplateRef<{ $implicit: NzTreeNode }>;\r\n  @Input() @InputBoolean() checkable = false;\r\n  @Input() @InputBoolean() asyncData = false;\r\n  @Input() @InputBoolean() draggable = false;\r\n  @Input() @InputBoolean() expandAll = false;\r\n  @Input() @InputBoolean() hideUnMatched = false;\r\n  @Input() @InputBoolean() selectMode = false;\r\n  @Input() @InputBoolean() nzCheckStrictly = false;\r\n  @Input() @InputBoolean() nzBlockNode = false;\r\n  @Input() @InputBoolean() inlineEdit = false;\r\n  @Input() @InputBoolean() radio = false;\r\n  @Input() @InputBoolean() cmacsAsyncData = false;\r\n  @Output() onaddchild: EventEmitter<NzTreeNode> = new EventEmitter<NzTreeNode>();\r\n\r\n  /**\r\n   * @deprecated use\r\n   * expandAll instead\r\n   */\r\n  @Input() @InputBoolean() defaultExpandAll = false;\r\n  @Input() beforeDrop: (confirm: NzFormatBeforeDropEvent) => Observable<boolean>;\r\n\r\n  @Input()\r\n  @InputBoolean()\r\n  set nzMultiple(value: boolean) {\r\n    this._nzMultiple = toBoolean(value);\r\n    (this.nzTreeService as CmacsTreeService).nzMultiple = toBoolean(value);\r\n  }\r\n\r\n  get nzMultiple(): boolean {\r\n    return this._nzMultiple;\r\n  }\r\n\r\n  @Input()\r\n  // tslint:disable-next-line:no-any\r\n  set nzData(value: any[]) {\r\n    if (this.cmacsAsyncData) {\r\n      this.treeDataAsyncLoading = value;\r\n      this.displayDataAsyncLoading = this.getFirstLevelNodes(this.treeDataAsyncLoading);\r\n      this.initNzData(this.displayDataAsyncLoading);\r\n    } else {\r\n      this.initNzData(value);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @deprecated use\r\n   * nzExpandedKeys instead\r\n   */\r\n  @Input()\r\n  set nzDefaultExpandedKeys(value: string[]) {\r\n    this.nzDefaultSubject.next({ type: 'nzExpandedKeys', keys: value });\r\n  }\r\n\r\n  /**\r\n   * @deprecated use\r\n   * nzSelectedKeys instead\r\n   */\r\n  @Input()\r\n  set nzDefaultSelectedKeys(value: string[]) {\r\n    this.nzDefaultSubject.next({ type: 'nzSelectedKeys', keys: value });\r\n  }\r\n\r\n  /**\r\n   * @deprecated use\r\n   * nzCheckedKeys instead\r\n   */\r\n  @Input()\r\n  set nzDefaultCheckedKeys(value: string[]) {\r\n    this.nzDefaultSubject.next({ type: 'nzCheckedKeys', keys: value });\r\n  }\r\n\r\n  @Input()\r\n  set nzExpandedKeys(value: string[]) {\r\n    this.nzDefaultSubject.next({ type: 'nzExpandedKeys', keys: value });\r\n  }\r\n\r\n  @Input()\r\n  set nzSelectedKeys(value: string[]) {\r\n    this.nzDefaultSubject.next({ type: 'nzSelectedKeys', keys: value });\r\n  }\r\n\r\n  @Input()\r\n  set nzCheckedKeys(value: string[]) {\r\n    this.nzDefaultSubject.next({ type: 'nzCheckedKeys', keys: value });\r\n  }\r\n\r\n  @Input()\r\n  set searchValue(value: string) {\r\n    this._searchValue = value;\r\n    this.nzTreeService.searchExpand(value);\r\n    if (!value.length && this.selectMode && this.checkable) {\r\n      this.nzNodes.forEach((node) => {\r\n        node.isExpanded = true;\r\n      });\r\n      this.cdr.detectChanges();\r\n    }\r\n    if (isNotNil(value)) {\r\n      this.searchValueChange.emit(this.nzTreeService.formatEvent('search', null, null));\r\n// tslint:disable-next-line: deprecation\r\n      this.nzOnSearchNode.emit(this.nzTreeService.formatEvent('search', null, null));\r\n    }\r\n  }\r\n\r\n  get searchValue(): string {\r\n    return this._searchValue;\r\n  }\r\n\r\n  /**\r\n   * To render nodes if root is changed\r\n   */\r\n  get nzNodes(): NzTreeNode[] {\r\n    return this.nzTreeService.rootNodes;\r\n  }\r\n\r\n  onaddchildevt($event: NzTreeNode)  {\r\n    this.onaddchild.emit($event);\r\n  }\r\n\r\n  // model bind\r\n  @Output() readonly nzExpandedKeysChange: EventEmitter<string[]> = new EventEmitter<string[]>();\r\n  @Output() readonly nzSelectedKeysChange: EventEmitter<string[]> = new EventEmitter<string[]>();\r\n  @Output() readonly nzCheckedKeysChange: EventEmitter<string[]> = new EventEmitter<string[]>();\r\n\r\n  @Output() readonly searchValueChange: EventEmitter<NzFormatEmitEvent> = new EventEmitter();\r\n  /**\r\n   * @deprecated use\r\n   * searchValueChange instead\r\n   */\r\n  @Output() readonly nzOnSearchNode: EventEmitter<NzFormatEmitEvent> = new EventEmitter();\r\n\r\n  @Output() readonly nzClick: EventEmitter<NzFormatEmitEvent> = new EventEmitter();\r\n  @Output() readonly nzDblClick: EventEmitter<NzFormatEmitEvent> = new EventEmitter();\r\n  @Output() readonly nzContextMenu: EventEmitter<NzFormatEmitEvent> = new EventEmitter();\r\n  @Output() readonly nzCheckBoxChange: EventEmitter<NzFormatEmitEvent> = new EventEmitter();\r\n  @Output() readonly nzExpandChange: EventEmitter<NzFormatEmitEvent> = new EventEmitter();\r\n\r\n  @Output() readonly nzOnDragStart: EventEmitter<NzFormatEmitEvent> = new EventEmitter();\r\n  @Output() readonly nzOnDragEnter: EventEmitter<NzFormatEmitEvent> = new EventEmitter();\r\n  @Output() readonly nzOnDragOver: EventEmitter<NzFormatEmitEvent> = new EventEmitter();\r\n  @Output() readonly nzOnDragLeave: EventEmitter<NzFormatEmitEvent> = new EventEmitter();\r\n  @Output() readonly nzOnDrop: EventEmitter<NzFormatEmitEvent> = new EventEmitter();\r\n  @Output() readonly nzOnDragEnd: EventEmitter<NzFormatEmitEvent> = new EventEmitter();\r\n  // tslint:disable-next-line:no-any\r\n  @ContentChild('treeTemplate') treeTemplate: TemplateRef<any>;\r\n// tslint:disable-next-line: variable-name\r\n  _searchValue: string;\r\n// tslint:disable-next-line: variable-name\r\n  _nzMultiple = false;\r\n  nzDefaultSubject = new ReplaySubject<{ type: string; keys: string[] }>(6);\r\n  destroy$ = new Subject();\r\n  prefixCls = 'ant-tree';\r\n  classMap = {};\r\n\r\n  onChange: (value: NzTreeNode[]) => void = () => null;\r\n  onTouched: () => void = () => null;\r\n\r\n  setClassMap(): void {\r\n    this.classMap = {\r\n      [this.prefixCls]: true,\r\n      [this.prefixCls + '-show-line']: this.showLine,\r\n      [`${this.prefixCls}-icon-hide`]: !this.showIcon,\r\n      [`${this.prefixCls}-block-node`]: this.nzBlockNode,\r\n      ['draggable-tree']: this.draggable,\r\n      ['ant-select-tree']: this.selectMode\r\n    };\r\n  }\r\n\r\n  writeValue(value: NzTreeNode[]): void {\r\n    this.initNzData(value);\r\n  }\r\n\r\n  registerOnChange(fn: (_: NzTreeNode[]) => void): void {\r\n    this.onChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: () => void): void {\r\n    this.onTouched = fn;\r\n  }\r\n\r\n  // tslint:disable-next-line:no-any\r\n  initNzData(value: any[]): void {\r\n    if (Array.isArray(value)) {\r\n      this.nzTreeService.isCheckStrictly = this.radio ? true : this.nzCheckStrictly;\r\n      this.nzTreeService.isMultiple = this.nzMultiple;\r\n      this.nzTreeService.initTree(this.coerceTreeNodes(value));\r\n    }\r\n  }\r\n\r\n  constructor(\r\n    nzTreeService: CmacsTreeService,\r\n    private cdr: ChangeDetectorRef,\r\n    @Host() @Optional() public noAnimation?: NzNoAnimationDirective\r\n  ) {\r\n    super(nzTreeService);\r\n  }\r\n\r\n  @HostListener('document:keyup.escape', ['$event'])\r\n  onKeyupHandler(event: any) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    if (!this.checkable) {\r\n      const nodesSelected = this.nzTreeService.getSelectedNodeList() as any;\r\n      if (nodesSelected.length) {\r\n        this.nzTreeService.calcSelectedKeys([], this.nzNodes, this.nzMultiple);\r\n        const eventNext = this.nzTreeService.formatEvent('escape', nodesSelected.map(n => n.key), event);\r\n// tslint:disable-next-line: no-non-null-assertion\r\n        this.nzTreeService!.triggerEventChange$!.next(eventNext);\r\n      }\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.setClassMap();\r\n    this.nzDefaultSubject.pipe(takeUntil(this.destroy$)).subscribe((data: { type: string; keys: string[] }) => {\r\n      if (!data || !data.keys) {\r\n        return;\r\n      }\r\n      switch (data.type) {\r\n        case 'nzExpandedKeys':\r\n          this.nzTreeService.calcExpandedKeys(data.keys, this.nzNodes);\r\n          this.nzExpandedKeysChange.emit(data.keys);\r\n          break;\r\n        case 'nzSelectedKeys':\r\n          this.nzTreeService.calcSelectedKeys(data.keys, this.nzNodes, this.nzMultiple);\r\n          this.nzSelectedKeysChange.emit(data.keys);\r\n          break;\r\n        case 'nzCheckedKeys':\r\n          this.nzTreeService.calcCheckedKeys(data.keys, this.nzNodes, this.nzCheckStrictly);\r\n          this.nzCheckedKeysChange.emit(data.keys);\r\n          break;\r\n      }\r\n      this.cdr.markForCheck();\r\n    });\r\n    this.nzTreeService\r\n      .eventTriggerChanged()\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe(data => {\r\n        switch (data.eventName) {\r\n          case 'expand':\r\n            if (this.cmacsAsyncData) {\r\n              this.onClickAsyncNode(data);\r\n            }\r\n            this.nzExpandChange.emit(data);\r\n            break;\r\n          case 'click':\r\n            if(this.nzMultiple && this.getSelectedNodeList().length === 1) {\r\n              this.nzTreeService.calcSelectedKeys(data.keys, this.nzNodes, this.nzMultiple);\r\n            }\r\n            this.nzClick.emit(data);\r\n            break;\r\n          case 'escape':\r\n            this.nzClick.emit(data);\r\n            break;\r\n          case 'check':\r\n            this.nzCheckBoxChange.emit(data);\r\n            break;\r\n          case 'dblclick':\r\n            this.nzDblClick.emit(data);\r\n            break;\r\n          case 'contextmenu':\r\n            this.nzContextMenu.emit(data);\r\n            break;\r\n          // drag drop\r\n          case 'dragstart':\r\n            this.nzOnDragStart.emit(data);\r\n            break;\r\n          case 'dragenter':\r\n            this.nzOnDragEnter.emit(data);\r\n            break;\r\n          case 'dragover':\r\n            this.nzOnDragOver.emit(data);\r\n            break;\r\n          case 'dragleave':\r\n            this.nzOnDragLeave.emit(data);\r\n            break;\r\n          case 'drop':\r\n            this.nzOnDrop.emit(data);\r\n            break;\r\n          case 'dragend':\r\n            this.nzOnDragEnd.emit(data);\r\n            break;\r\n          case 'selectedMultiple':\r\n            this.onSelectionMultiple(data);\r\n            break;\r\n        }\r\n      });\r\n  }\r\n\r\n  onSelectionMultiple(selectedNode: NzFormatEmitEvent) {\r\n    let nodesSelected = this.nzTreeService.getSelectedNodeList();\r\n    const nodesSelectedCount = nodesSelected.length;\r\n    let states = {startNodeFound: false, endNodeFound: false};\r\n    for (let i = 0; i < this.nzNodes.length; i ++) {\r\n      if (states.startNodeFound && states.endNodeFound) {\r\n        break;\r\n      }\r\n      states = this.convertTreeToList(\r\n        this.nzNodes[i],\r\n        selectedNode.node,\r\n        nodesSelected[nodesSelectedCount - 1],\r\n        states.startNodeFound,\r\n        states.endNodeFound\r\n      );\r\n    }\r\n    nodesSelected = this.nzTreeService.getSelectedNodeList() as any;\r\n    let emitStructure: any = {};\r\n    emitStructure = {\r\n      eventName: 'selectedMultiple',\r\n      selectedKeys: nodesSelected,\r\n      node: selectedNode.node,\r\n      event: null\r\n    };\r\n    this.nzClick.emit(emitStructure as any);\r\n  }\r\n\r\n\r\n  ngOnChanges(changes: { [propertyName: string]: SimpleChange }): void {\r\n    if (changes.nzCheckStrictly) {\r\n      this.nzTreeService.isCheckStrictly = toBoolean(changes.nzCheckStrictly.currentValue);\r\n    }\r\n    if (changes.nzMultiple) {\r\n      this._nzMultiple = toBoolean(changes.nzMultiple.currentValue);\r\n      (this.nzTreeService as CmacsTreeService).nzMultiple = toBoolean(changes.nzMultiple.currentValue);\r\n    }\r\n  }\r\n\r\n  addParent(node: any, index = null) {\r\n    let parent = this.coerceTreeNodes(node);\r\n    if (index !== undefined && index !== null) {\r\n      this.nzTreeService.rootNodes.splice( index, 0, ...parent );\r\n    } else {\r\n      this.nzTreeService.rootNodes.push(...parent);\r\n    }\r\n    this.cdr.detectChanges();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  convertTreeToList(root, endNode, startNode, startNodeFound, endNodeFound) {\r\n    let stack = [], hashMap = {};\r\n    stack.push(root);\r\n\r\n    while(stack.length !== 0) {\r\n      let node: NzTreeNode = stack.pop();\r\n      this.visitNode(node, hashMap);\r\n      if (endNode.key === node.key) {\r\n        endNodeFound = true;\r\n      }\r\n      if (startNode.key === node.key) {\r\n        startNodeFound = true;\r\n      }\r\n      if (!startNode.parentNode && !node.parentNode && (startNodeFound || endNodeFound)) {\r\n        node.isSelected = true;\r\n      }\r\n      if ((startNode.parentNode === node.parentNode) && (startNodeFound || endNodeFound)) {\r\n        node.isSelected = true;\r\n      }\r\n      if (startNodeFound && endNodeFound) {\r\n        return {\r\n          startNodeFound,\r\n          endNodeFound\r\n        };\r\n      }\r\n      if(node.children.length) {\r\n        for(let i = node.children.length - 1; i >= 0; i--) {\r\n          stack.push(node.children[i]);\r\n        }\r\n      }\r\n    }\r\n    return {\r\n      startNodeFound,\r\n      endNodeFound\r\n    };\r\n  }\r\n\r\n  visitNode(node, hashMap) {\r\n    if(!hashMap[node.key]) {\r\n      hashMap[node.key] = true;\r\n    }\r\n  }\r\n\r\n/* Cmacs Async Data Loading */\r\n  getFirstLevelNodes(subTree) {\r\n    let subTreeDeepCopy = [];\r\n    if (subTree.length) {\r\n      subTreeDeepCopy = cloneDeep(subTree);\r\n    } else {\r\n      subTreeDeepCopy = subTree.children ? cloneDeep(subTree.children) : [];\r\n    }\r\n    const firstLevelNodes = [];\r\n    for (let i = 0; i < subTreeDeepCopy.length; i++) {\r\n      let node = subTreeDeepCopy[i];\r\n      node.children = [];\r\n      firstLevelNodes.push(node);\r\n    }\r\n    return firstLevelNodes;\r\n  }\r\n\r\n  searchTree(treeData, key) {\r\n    for (let n = 0; n < treeData.length; n++) {\r\n      const root = this.treeDataAsyncLoading[n];\r\n      const node = this.searchSubTree(root, key);\r\n      if (node) {\r\n        return node;\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  searchSubTree(root, key) {\r\n    let stack = [], hashMap = {};\r\n    stack.push(root);\r\n\r\n    while (stack.length !== 0) {\r\n      let node = stack.pop();\r\n      this.visitNode(node, hashMap);\r\n      if (key === node.key) {\r\n        return node;\r\n      }\r\n      if (node.children && node.children.length) {\r\n        for (let i = 0; i < node.children.length; i++) {\r\n          stack.push(node.children[i]);\r\n        }\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  onClickAsyncNode(event: NzFormatEmitEvent): void {\r\n    console.log(event);\r\n    // load child async\r\n    if (event.eventName === 'expand') {\r\n      const node = event.node;\r\n      if (node && node.isExpanded) {\r\n        this.loadNodeChildren(node.key).then(data => {\r\n          node.addChildren(data);\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  loadNodeChildren(key): Promise<NzTreeNodeOptions[]> {\r\n    return new Promise(resolve => {\r\n      const subTree = this.searchTree(this.treeDataAsyncLoading, key);\r\n      console.log('SubTree', subTree)\r\n      const firstLevelChildren = this.getFirstLevelNodes(subTree);\r\n      console.log('First Level Children', firstLevelChildren)\r\n      setTimeout(\r\n        () => {\r\n          resolve(firstLevelChildren)\r\n        },\r\n        500\r\n      );\r\n    });\r\n  }\r\n}\r\n","import {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef, EventEmitter,\r\n  Host,\r\n  HostListener,\r\n  Input,\r\n  NgZone,\r\n  OnChanges,\r\n  OnDestroy,\r\n  OnInit,\r\n  Optional, Output,\r\n  Renderer2, SimpleChanges,\r\n  TemplateRef,\r\n  ViewChild, ViewEncapsulation\r\n} from '@angular/core';\r\nimport { fromEvent, Observable, Subject } from 'rxjs';\r\nimport { filter, takeUntil } from 'rxjs/operators';\r\n\r\nimport {\r\n  collapseMotion,\r\n  InputBoolean,\r\n  NzFormatBeforeDropEvent,\r\n  NzNoAnimationDirective,\r\n  NzTreeNode,\r\n  toBoolean\r\n} from 'ng-zorro-antd/core';\r\n\r\nimport { CmacsTreeService } from './cmacs-tree.service';\r\n\r\n@Component({\r\n// tslint:disable-next-line: component-selector\r\n  selector: 'cmacs-tree-node',\r\n  exportAs: 'cmacsTreeNode',\r\n  templateUrl: './cmacs-tree-node.component.html',\r\n  styleUrls: ['./cmacs-tree-node.component.css'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  preserveWhitespaces: false,\r\n  animations: [collapseMotion]\r\n})\r\nexport class CmacsTreeNodeComponent implements OnInit, OnChanges, OnDestroy {\r\n  @ViewChild('dragElement') dragElement: ElementRef;\r\n\r\n  @Input() treeNode: NzTreeNode;\r\n  @Input() @InputBoolean() showLine: boolean;\r\n  @Input() @InputBoolean() showExpand: boolean;\r\n  @Input() expandedIcon: TemplateRef<{ $implicit: NzTreeNode }>;\r\n  @Input() @InputBoolean() checkable: boolean;\r\n  @Input() @InputBoolean() asyncData: boolean;\r\n  @Input() @InputBoolean() hideUnMatched = false;\r\n  @Input() @InputBoolean() noAnimation = false;\r\n  @Input() @InputBoolean() selectMode = false;\r\n  @Input() @InputBoolean() showIcon = false;\r\n  @Input() @InputBoolean() inlineEdit = false;\r\n  @Input() @InputBoolean() radio = false;\r\n  @Input() index: number;\r\n  @Input() treeTemplate: TemplateRef<void>;\r\n  @Input() beforeDrop: (confirm: NzFormatBeforeDropEvent) => Observable<boolean>;\r\n\r\n  @Output() onaddchild: EventEmitter<NzTreeNode> = new EventEmitter<NzTreeNode>();\r\n\r\n  @Input()\r\n  set draggable(value: boolean) {\r\n    this._draggable = value;\r\n    this.handDragEvent();\r\n  }\r\n\r\n  get draggable(): boolean {\r\n    return this._draggable;\r\n  }\r\n\r\n  /**\r\n   * @deprecated use\r\n   * expandAll instead\r\n   */\r\n  @Input()\r\n  set defaultExpandAll(value: boolean) {\r\n    this._expandAll = value;\r\n    if (value && this.treeNode && !this.treeNode.isLeaf) {\r\n      this.treeNode.isExpanded = true;\r\n    }\r\n  }\r\n\r\n  get defaultExpandAll(): boolean {\r\n    return this._expandAll;\r\n  }\r\n\r\n  // default set\r\n  @Input()\r\n  set expandAll(value: boolean) {\r\n    this._expandAll = value;\r\n    if (value && this.treeNode && !this.treeNode.isLeaf) {\r\n      this.treeNode.isExpanded = true;\r\n    }\r\n  }\r\n\r\n  get expandAll(): boolean {\r\n    return this._expandAll;\r\n  }\r\n\r\n  @Input()\r\n  set searchValue(value: string) {\r\n    this.highlightKeys = [];\r\n// tslint:disable-next-line: no-non-null-assertion\r\n    if (value && this.treeNode.title.toLowerCase()!.includes(value.toLowerCase())) {\r\n      // match the search value\r\n      const index = this.treeNode.title.toLowerCase().indexOf(value.toLowerCase());\r\n      this.highlightKeys = [\r\n        this.treeNode.title.slice(0, index),\r\n        this.treeNode.title.slice(index, index + value.length),\r\n        this.treeNode.title.slice(index + value.length, this.treeNode.title.length)\r\n      ];\r\n    }\r\n    this._searchValue = value;\r\n  }\r\n\r\n  get searchValue(): string {\r\n    return this._searchValue;\r\n  }\r\n\r\n  // default var\r\n  prefixCls = 'ant-tree';\r\n  highlightKeys: string[] = [];\r\n  nzNodeClass = {};\r\n  nzNodeSwitcherClass = {};\r\n  nzNodeContentClass = {};\r\n  nzNodeCheckboxClass = {};\r\n  nzNodeContentIconClass = {};\r\n  nzNodeContentLoadingClass = {};\r\n\r\n  /**\r\n   * drag var\r\n   */\r\n  destroy$ = new Subject();\r\n  dragPos = 2;\r\n  dragPosClass: { [key: string]: string } = {\r\n    '0': 'drag-over',\r\n    '1': 'drag-over-gap-bottom',\r\n    '-1': 'drag-over-gap-top'\r\n  };\r\n\r\n  /**\r\n   * default set\r\n   */\r\n// tslint:disable-next-line: variable-name\r\n  _searchValue = '';\r\n// tslint:disable-next-line: variable-name\r\n  _draggable = false;\r\n// tslint:disable-next-line: variable-name\r\n  _expandAll = false;\r\n\r\n  get nzIcon(): string {\r\n    return this.treeNode.icon;\r\n  }\r\n\r\n  get canDraggable(): boolean | null {\r\n    return this.draggable && !this.treeNode.isDisabled ? true : null;\r\n  }\r\n\r\n  get isShowLineIcon(): boolean {\r\n    return !this.treeNode.isLeaf && this.showLine;\r\n  }\r\n\r\n  get isShowSwitchIcon(): boolean {\r\n    return !this.treeNode.isLeaf && !this.showLine;\r\n  }\r\n\r\n  get isSwitcherOpen(): boolean {\r\n    return this.treeNode.isExpanded && !this.treeNode.isLeaf;\r\n  }\r\n\r\n  get isSwitcherClose(): boolean {\r\n    return !this.treeNode.isExpanded && !this.treeNode.isLeaf;\r\n  }\r\n\r\n  get displayStyle(): string {\r\n    // to hide unmatched nodes\r\n    return this.searchValue && this.hideUnMatched && !this.treeNode.isMatched && !this.treeNode.isExpanded\r\n      ? 'none'\r\n      : '';\r\n  }\r\n\r\n  /**\r\n   * reset node class\r\n   */\r\n  setClassMap(): void {\r\n    this.prefixCls = this.selectMode ? 'ant-select-tree' : 'ant-tree';\r\n\r\n    this.nzNodeClass = {\r\n      [`${this.prefixCls}-treenode-disabled`]: this.treeNode.isDisabled,\r\n      [`${this.prefixCls}-treenode-switcher-open`]: this.isSwitcherOpen,\r\n      [`${this.prefixCls}-treenode-switcher-close`]: this.isSwitcherClose,\r\n      [`${this.prefixCls}-treenode-checkbox-checked`]: this.treeNode.isChecked,\r\n      [`${this.prefixCls}-treenode-checkbox-indeterminate`]: this.treeNode.isHalfChecked,\r\n      [`${this.prefixCls}-treenode-selected`]: !this.checkable && this.treeNode.isSelected,\r\n      [`${this.prefixCls}-treenode-loading`]: this.treeNode.isLoading\r\n    };\r\n    this.nzNodeSwitcherClass = {\r\n      [`${this.prefixCls}-switcher`]: true,\r\n      [`${this.prefixCls}-switcher-noop`]: this.treeNode.isLeaf,\r\n      [`${this.prefixCls}-switcher_open`]: this.isSwitcherOpen,\r\n      [`${this.prefixCls}-switcher_close`]: this.isSwitcherClose\r\n    };\r\n\r\n    this.nzNodeCheckboxClass = {\r\n      [`${this.prefixCls}-checkbox`]: true,\r\n      [`${this.prefixCls}-checkbox-checked`]: this.radio ?\r\n        this.nzTreeService.getCheckedNodeList().length && this.nzTreeService.getCheckedNodeList()[0].key === this.treeNode.key\r\n        : this.treeNode.isChecked,\r\n      [`${this.prefixCls}-checkbox-indeterminate`]: this.treeNode.isHalfChecked,\r\n      [`${this.prefixCls}-checkbox-disabled`]: this.treeNode.isDisabled || this.treeNode.isDisableCheckbox\r\n    };\r\n\r\n    this.nzNodeContentClass = {\r\n      [`${this.prefixCls}-node-content-wrapper`]: true,\r\n      [`${this.prefixCls}-node-content-wrapper-open`]: this.isSwitcherOpen,\r\n      [`${this.prefixCls}-node-content-wrapper-close`]: this.isSwitcherClose,\r\n      [`${this.prefixCls}-node-selected`]: this.treeNode.isSelected\r\n    };\r\n    this.nzNodeContentIconClass = {\r\n      [`${this.prefixCls}-iconEle`]: true,\r\n      [`${this.prefixCls}-icon__customize`]: true\r\n    };\r\n    this.nzNodeContentLoadingClass = {\r\n      [`${this.prefixCls}-iconEle`]: true\r\n    };\r\n\r\n    if (!this.cdr['destroyed']) {\r\n      this.cdr.detectChanges();\r\n    }\r\n\r\n  }\r\n\r\n  @HostListener('mousedown', ['$event'])\r\n  onMousedown(event: MouseEvent): void {\r\n    if (this.selectMode) {\r\n      event.preventDefault();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * click node to select, 200ms to dbl click\r\n   */\r\n  @HostListener('click', ['$event'])\r\n  nzClick(event: MouseEvent): void {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    if (this.nzTreeService.nzMultiple) {\r\n      this.nzTreeService.isMultiple = toBoolean(event.ctrlKey) || toBoolean(event.shiftKey);\r\n\r\n      const selectedNodes = this.nzTreeService.getSelectedNodeList();\r\n      const selectedNodesCount = selectedNodes.length;\r\n      if (toBoolean(event.shiftKey) && selectedNodesCount > 0) {\r\n        const eventNext = this.nzTreeService.formatEvent('selectedMultiple',  this.treeNode, event);\r\n        // tslint:disable-next-line: no-non-null-assertion\r\n        this.nzTreeService!.triggerEventChange$!.next(eventNext);\r\n      }\r\n\r\n      if (toBoolean(event.ctrlKey)) {\r\n        if (selectedNodesCount) {\r\n          const selectedFiltered = selectedNodes.filter(n => ((n.parentNode === this.treeNode.parentNode) || (!n.parentNode && !this.treeNode.parentNode)));\r\n          if (selectedFiltered.length) {\r\n            this.treeNode.isSelected = true;\r\n          } else {\r\n            this.treeNode.isSelected = !this.checkSubTreeSelection();\r\n          }\r\n        } else {\r\n          this.treeNode.isSelected = true;\r\n        }\r\n        const eventNext = this.nzTreeService.formatEvent('click', this.treeNode, event);\r\n// tslint:disable-next-line: no-non-null-assertion\r\n        this.nzTreeService!.triggerEventChange$!.next(eventNext);\r\n      }\r\n    }\r\n    if (this.treeNode.isSelectable &&\r\n      !(this.nzTreeService.nzMultiple && (toBoolean(event.shiftKey) || toBoolean(event.ctrlKey))))\r\n    {\r\n      if (!this.treeNode.isSelected) {\r\n        this.treeNode.isSelected = !this.treeNode.isSelected;\r\n      }\r\n      const eventNext = this.nzTreeService.formatEvent('click', this.treeNode, event);\r\n// tslint:disable-next-line: no-non-null-assertion\r\n      this.nzTreeService!.triggerEventChange$!.next(eventNext);\r\n    }\r\n\r\n    if (this.checkable) {\r\n      this._clickCheckBox(event);\r\n    }\r\n  }\r\n\r\n  checkSubTreeSelection() {\r\n    let stack = [], hashMap = {};\r\n    stack.push(this.treeNode);\r\n\r\n    while(stack.length !== 0) {\r\n      let node: NzTreeNode = stack.pop();\r\n      if (!hashMap[node.key]) {\r\n        if (node.isSelected) {\r\n          return true;\r\n        }\r\n        this.visitNode(node, hashMap);\r\n        if(node.children.length) {\r\n          for(let i = node.children.length - 1; i >= 0; i--) {\r\n            stack.push(node.children[i]);\r\n          }\r\n        }\r\n        if(node.parentNode) {\r\n          stack.push(node.parentNode);\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  visitNode(node, hashMap) {\r\n    if(!hashMap[node.key]) {\r\n      hashMap[node.key] = true;\r\n    }\r\n  }\r\n\r\n  @HostListener('dblclick', ['$event'])\r\n  nzDblClick(event: MouseEvent): void {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    const eventNext = this.nzTreeService.formatEvent('dblclick', this.treeNode, event);\r\n// tslint:disable-next-line: no-non-null-assertion\r\n    this.nzTreeService!.triggerEventChange$!.next(eventNext);\r\n  }\r\n\r\n  /**\r\n   * @param event\r\n   */\r\n  @HostListener('contextmenu', ['$event'])\r\n  nzContextMenu(event: MouseEvent): void {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    const eventNext = this.nzTreeService.formatEvent('contextmenu', this.treeNode, event);\r\n// tslint:disable-next-line: no-non-null-assertion\r\n    this.nzTreeService!.triggerEventChange$!.next(eventNext);\r\n  }\r\n\r\n  /**\r\n   * collapse node\r\n   * @param event\r\n   */\r\n  _clickExpand(event: MouseEvent): void {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    if (!this.treeNode.isLoading && !this.treeNode.isLeaf) {\r\n      // set async state\r\n      if (this.asyncData && this.treeNode.children.length === 0 && !this.treeNode.isExpanded) {\r\n        this.treeNode.isLoading = true;\r\n      }\r\n      this.treeNode.isExpanded = !this.treeNode.isExpanded;\r\n      const eventNext = this.nzTreeService.formatEvent('expand', this.treeNode, event);\r\n// tslint:disable-next-line: no-non-null-assertion\r\n      this.nzTreeService!.triggerEventChange$!.next(eventNext);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * check node\r\n   * @param event\r\n   */\r\n  _clickCheckBox(event: MouseEvent): void {\r\n    if (!this.selectMode) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n      // return if node is disabled\r\n      if (this.treeNode.isDisabled || this.treeNode.isDisableCheckbox) {\r\n        return;\r\n      }\r\n      this.treeNode.isChecked = !this.treeNode.isChecked;\r\n      this.treeNode.isHalfChecked = false;\r\n      if (!this.nzTreeService.isCheckStrictly) {\r\n        this.nzTreeService.conduct(this.treeNode);\r\n      }\r\n      const eventNext = this.nzTreeService.formatEvent('check', this.treeNode, event);\r\n// tslint:disable-next-line: no-non-null-assertion\r\n      this.nzTreeService!.triggerEventChange$!.next(eventNext);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * drag event\r\n   * @param e\r\n   */\r\n  clearDragClass(): void {\r\n    const dragClass = ['drag-over-gap-top', 'drag-over-gap-bottom', 'drag-over'];\r\n    dragClass.forEach(e => {\r\n      this.renderer.removeClass(this.dragElement.nativeElement, e);\r\n    });\r\n  }\r\n\r\n  onaddchildevt($event: Event)  {\r\n    $event.stopImmediatePropagation();\r\n    $event.preventDefault();\r\n    this.onaddchild.emit(this.treeNode);\r\n  }\r\n\r\n  handleDragStart(e: DragEvent): void {\r\n    e.stopPropagation();\r\n    try {\r\n      // ie throw error\r\n      // firefox-need-it\r\n// tslint:disable-next-line: no-non-null-assertion\r\n      e.dataTransfer!.setData('text/plain', this.treeNode.key!);\r\n    } catch (error) {\r\n      // empty\r\n    }\r\n    this.nzTreeService.setSelectedNode(this.treeNode);\r\n    this.treeNode.isExpanded = false;\r\n    const eventNext = this.nzTreeService.formatEvent('dragstart', this.treeNode, e);\r\n// tslint:disable-next-line: no-non-null-assertion\r\n    this.nzTreeService!.triggerEventChange$!.next(eventNext);\r\n  }\r\n\r\n  handleDragEnter(e: DragEvent): void {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    // reset position\r\n    this.dragPos = 2;\r\n    this.ngZone.run(() => {\r\n      const node = this.nzTreeService.getSelectedNode();\r\n      if (node && node.key !== this.treeNode.key && !this.treeNode.isExpanded && !this.treeNode.isLeaf) {\r\n        this.treeNode.isExpanded = true;\r\n      }\r\n      const eventNext = this.nzTreeService.formatEvent('dragenter', this.treeNode, e);\r\n// tslint:disable-next-line: no-non-null-assertion\r\n      this.nzTreeService!.triggerEventChange$!.next(eventNext);\r\n    });\r\n  }\r\n\r\n  handleDragOver(e: DragEvent): void {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    const dropPosition = this.nzTreeService.calcDropPosition(e);\r\n    if (this.dragPos !== dropPosition) {\r\n      this.clearDragClass();\r\n      this.dragPos = dropPosition;\r\n      // leaf node will pass\r\n      if (!(this.dragPos === 0 && this.treeNode.isLeaf)) {\r\n        this.renderer.addClass(this.dragElement.nativeElement, this.dragPosClass[this.dragPos]);\r\n      }\r\n    }\r\n    const eventNext = this.nzTreeService.formatEvent('dragover', this.treeNode, e);\r\n// tslint:disable-next-line: no-non-null-assertion\r\n    this.nzTreeService!.triggerEventChange$!.next(eventNext);\r\n  }\r\n\r\n  handleDragLeave(e: DragEvent): void {\r\n    e.stopPropagation();\r\n    this.ngZone.run(() => {\r\n      this.clearDragClass();\r\n    });\r\n    const eventNext = this.nzTreeService.formatEvent('dragleave', this.treeNode, e);\r\n// tslint:disable-next-line: no-non-null-assertion\r\n    this.nzTreeService!.triggerEventChange$!.next(eventNext);\r\n  }\r\n\r\n  handleDragDrop(e: DragEvent): void {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    this.ngZone.run(() => {\r\n      this.clearDragClass();\r\n      const node = this.nzTreeService.getSelectedNode();\r\n      if (!node || (node && node.key === this.treeNode.key) || (this.dragPos === 0 && this.treeNode.isLeaf)) {\r\n        return;\r\n      }\r\n      // pass if node is leafNo\r\n      const dropEvent = this.nzTreeService.formatEvent('drop', this.treeNode, e);\r\n      const dragEndEvent = this.nzTreeService.formatEvent('dragend', this.treeNode, e);\r\n      if (this.beforeDrop) {\r\n        this.beforeDrop({\r\n// tslint:disable-next-line: no-non-null-assertion\r\n          dragNode: this.newMethod(),\r\n          node: this.treeNode,\r\n          pos: this.dragPos\r\n        }).subscribe((canDrop: boolean) => {\r\n          if (canDrop) {\r\n            this.nzTreeService.dropAndApply(this.treeNode, this.dragPos);\r\n          }\r\n// tslint:disable-next-line: no-non-null-assertion\r\n          this.nzTreeService!.triggerEventChange$!.next(dropEvent);\r\n// tslint:disable-next-line: no-non-null-assertion\r\n          this.nzTreeService!.triggerEventChange$!.next(dragEndEvent);\r\n        });\r\n      } else if (this.treeNode) {\r\n        this.nzTreeService.dropAndApply(this.treeNode, this.dragPos);\r\n// tslint:disable-next-line: no-non-null-assertion\r\n        this.nzTreeService!.triggerEventChange$!.next(dropEvent);\r\n      }\r\n    });\r\n  }\r\n\r\n  private newMethod(): NzTreeNode {\r\n// tslint:disable-next-line: no-non-null-assertion\r\n    return this.nzTreeService.getSelectedNode()!;\r\n  }\r\n\r\n  handleDragEnd(e: DragEvent): void {\r\n    e.stopPropagation();\r\n    this.ngZone.run(() => {\r\n      // if user do not custom beforeDrop\r\n      if (!this.beforeDrop) {\r\n        const eventNext = this.nzTreeService.formatEvent('dragend', this.treeNode, e);\r\n// tslint:disable-next-line: no-non-null-assertion\r\n        this.nzTreeService!.triggerEventChange$!.next(eventNext);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * çå¬ææ½äºä»¶\r\n   */\r\n  handDragEvent(): void {\r\n    this.ngZone.runOutsideAngular(() => {\r\n      if (this.draggable) {\r\n        this.destroy$ = new Subject();\r\n        fromEvent<DragEvent>(this.elRef.nativeElement, 'dragstart')\r\n          .pipe(takeUntil(this.destroy$))\r\n          .subscribe((e: DragEvent) => this.handleDragStart(e));\r\n        fromEvent<DragEvent>(this.elRef.nativeElement, 'dragenter')\r\n          .pipe(takeUntil(this.destroy$))\r\n          .subscribe((e: DragEvent) => this.handleDragEnter(e));\r\n        fromEvent<DragEvent>(this.elRef.nativeElement, 'dragover')\r\n          .pipe(takeUntil(this.destroy$))\r\n          .subscribe((e: DragEvent) => this.handleDragOver(e));\r\n        fromEvent<DragEvent>(this.elRef.nativeElement, 'dragleave')\r\n          .pipe(takeUntil(this.destroy$))\r\n          .subscribe((e: DragEvent) => this.handleDragLeave(e));\r\n        fromEvent<DragEvent>(this.elRef.nativeElement, 'drop')\r\n          .pipe(takeUntil(this.destroy$))\r\n          .subscribe((e: DragEvent) => this.handleDragDrop(e));\r\n        fromEvent<DragEvent>(this.elRef.nativeElement, 'dragend')\r\n          .pipe(takeUntil(this.destroy$))\r\n          .subscribe((e: DragEvent) => this.handleDragEnd(e));\r\n      } else {\r\n        this.destroy$.next();\r\n        this.destroy$.complete();\r\n      }\r\n    });\r\n  }\r\n\r\n  isTemplateRef(value: {}): boolean {\r\n    return value instanceof TemplateRef;\r\n  }\r\n\r\n  markForCheck(): void {\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  constructor(\r\n    public nzTreeService: CmacsTreeService,\r\n    private ngZone: NgZone,\r\n    private renderer: Renderer2,\r\n    private elRef: ElementRef,\r\n    private cdr: ChangeDetectorRef,\r\n    @Host() @Optional() public nzNoAnimation?: NzNoAnimationDirective\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    // init expanded / selected / checked list\r\n    if(this.selectMode && this.checkable && !this.treeNode.isLeaf) {\r\n      this.treeNode.isExpanded = true;\r\n    }\r\n    if (this.treeNode.isSelected) {\r\n      this.nzTreeService.setNodeActive(this.treeNode);\r\n    }\r\n    if (this.treeNode.isExpanded) {\r\n      this.nzTreeService.setExpandedNodeList(this.treeNode);\r\n    }\r\n    if (this.treeNode.isChecked) {\r\n      this.nzTreeService.setCheckedNodeList(this.treeNode);\r\n    }\r\n    // TODO\r\n    this.treeNode.component = this;\r\n    this.nzTreeService\r\n      .eventTriggerChanged()\r\n      .pipe(\r\n// tslint:disable-next-line: no-non-null-assertion\r\n        filter(data => data.node!.key === this.treeNode.key),\r\n        takeUntil(this.destroy$)\r\n      )\r\n      .subscribe(() => {\r\n        //this.setClassMap();\r\n        this.markForCheck();\r\n      });\r\n    this.setClassMap();\r\n  }\r\n\r\n  ngOnChanges(): void {\r\n    this.setClassMap();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n}\r\n","import {\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  Input,\r\n  OnChanges,\r\n  TemplateRef,\r\n  ViewChild,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\n\r\nimport { InputBoolean } from 'ng-zorro-antd/core';\r\nimport { Subject } from 'rxjs';\r\n\r\n@Component({\r\n// tslint:disable-next-line: component-selector\r\n  selector: 'cmacs-option',\r\n  exportAs: 'cmacsOption',\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  templateUrl: './cmacs-option.component.html'\r\n})\r\nexport class CmacsOptionComponent implements OnChanges {\r\n  changes = new Subject();\r\n  @ViewChild(TemplateRef) template: TemplateRef<void>;\r\n// tslint:disable-next-line: no-input-rename\r\n  @Input('label') nzLabel: string;\r\n  @Input('divider') divider: string;\r\n  // tslint:disable-next-line:no-any\r\n  @Input('value') nzValue: any;\r\n  @Input('disabled') @InputBoolean() nzDisabled = false;\r\n  @Input('customContent') @InputBoolean() nzCustomContent = false;\r\n\r\n  ngOnChanges(): void {\r\n    this.changes.next();\r\n  }\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport { Pipe, PipeTransform } from '@angular/core';\r\nimport { CmacsOptionGroupComponent } from './cmacs-option-group.component';\r\nimport { CmacsOptionComponent } from './cmacs-option.component';\r\n\r\nexport type TFilterOption = (input: string, option: CmacsOptionComponent) => boolean;\r\n\r\n@Pipe({ name: 'nzFilterOption' })\r\nexport class NzFilterOptionPipe implements PipeTransform {\r\n  transform(\r\n    options: CmacsOptionComponent[],\r\n    searchValue: string,\r\n    filterOption: TFilterOption,\r\n    serverSearch: boolean\r\n  ): CmacsOptionComponent[] {\r\n    if (serverSearch || !searchValue) {\r\n      return options;\r\n    } else {\r\n      return (options as CmacsOptionComponent[]).filter(o => filterOption(searchValue, o));\r\n    }\r\n  }\r\n}\r\n\r\n@Pipe({ name: 'nzFilterGroupOption' })\r\nexport class NzFilterGroupOptionPipe implements PipeTransform {\r\n  transform(\r\n    groups: CmacsOptionGroupComponent[],\r\n    searchValue: string,\r\n    filterOption: TFilterOption,\r\n    serverSearch: boolean\r\n  ): CmacsOptionGroupComponent[] {\r\n    if (serverSearch || !searchValue) {\r\n      return groups;\r\n    } else {\r\n      return (groups as CmacsOptionGroupComponent[]).filter(g => {\r\n        return g.listOfNzOptionComponent.some(o => filterOption(searchValue, o));\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nexport function defaultFilterOption(searchValue: string, option: CmacsOptionComponent): boolean {\r\n  if (option && option.nzLabel) {\r\n    return option.nzLabel.toLowerCase().indexOf(searchValue.toLowerCase()) > -1;\r\n  } else {\r\n    return false;\r\n  }\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport { BACKSPACE, DOWN_ARROW, ENTER, SPACE, TAB, UP_ARROW } from '@angular/cdk/keycodes';\r\nimport { Injectable } from '@angular/core';\r\nimport { combineLatest, merge, BehaviorSubject, ReplaySubject, Subject } from 'rxjs';\r\nimport { distinctUntilChanged, filter, map, share, skip, tap } from 'rxjs/operators';\r\n\r\nimport { isNil, isNotNil } from 'ng-zorro-antd/core';\r\n\r\nimport { CmacsOptionGroupComponent } from './cmacs-option-group.component';\r\nimport { CmacsOptionComponent } from './cmacs-option.component';\r\nimport { defaultFilterOption, NzFilterOptionPipe, TFilterOption } from './cmacs-option.pipe';\r\n\r\n@Injectable()\r\nexport class CmacsSelectService {\r\n  // Input params\r\n  autoClearSearchValue = true;\r\n  serverSearch = false;\r\n  tagsOut = false;\r\n  filterOption: TFilterOption = defaultFilterOption;\r\n  mode: 'default' | 'multiple' | 'tags' | 'tagsSingleSelect' = 'default';\r\n  maxMultipleCount = Infinity;\r\n  disabled = false;\r\n  // tslint:disable-next-line:no-any\r\n  compareWith = (o1: any, o2: any) => o1 === o2;\r\n  // selectedValueChanged should emit ngModelChange or not\r\n  // tslint:disable-next-line:no-any\r\n  private listOfSelectedValueWithEmit$ = new BehaviorSubject<{ value: any[]; emit: boolean }>({\r\n    value: [],\r\n    emit: false\r\n  });\r\n  // ContentChildren Change\r\n  private mapOfTemplateOption$ = new BehaviorSubject<{\r\n    listOfNzOptionComponent: CmacsOptionComponent[];\r\n    listOfNzOptionGroupComponent: CmacsOptionGroupComponent[];\r\n  }>({\r\n    listOfNzOptionComponent: [],\r\n    listOfNzOptionGroupComponent: []\r\n  });\r\n  // searchValue Change\r\n  private searchValueRaw$ = new BehaviorSubject<string>('');\r\n  private listOfFilteredOption: CmacsOptionComponent[] = [];\r\n  private openRaw$ = new Subject<boolean>();\r\n  private checkRaw$ = new Subject();\r\n  private open = false;\r\n  clearInput$ = new Subject<boolean>();\r\n  searchValue = '';\r\n  isShowNotFound = false;\r\n  // open\r\n  open$ = this.openRaw$.pipe(\r\n    //distinctUntilChanged(),\r\n    share(),\r\n    tap(() => this.clearInput())\r\n  );\r\n  activatedOption: CmacsOptionComponent | null;\r\n  activatedOption$ = new ReplaySubject<CmacsOptionComponent | null>(1);\r\n  listOfSelectedValue$ = this.listOfSelectedValueWithEmit$.pipe(map(data => data.value));\r\n  modelChange$ = this.listOfSelectedValueWithEmit$.pipe(\r\n    filter(item => item.emit),\r\n    map(data => {\r\n      const selectedList = data.value;\r\n      let modelValue: any[] | null = null; // tslint:disable-line:no-any\r\n      if (this.isSingleMode) {\r\n        if (selectedList.length) {\r\n          modelValue = selectedList[0];\r\n        }\r\n      } else {\r\n        modelValue = selectedList;\r\n      }\r\n      return modelValue;\r\n    })\r\n  );\r\n  searchValue$ = this.searchValueRaw$.pipe(\r\n    distinctUntilChanged(),\r\n    skip(1),\r\n    share(),\r\n    tap(value => {\r\n      this.searchValue = value;\r\n      if (value) {\r\n        this.updateActivatedOption(this.listOfFilteredOption[0]);\r\n      }\r\n      this.updateListOfFilteredOption();\r\n    })\r\n  );\r\n  // tslint:disable-next-line:no-any\r\n  listOfSelectedValue: any[] = [];\r\n  // flat ViewChildren\r\n  listOfTemplateOption: CmacsOptionComponent[] = [];\r\n  // tag option\r\n  listOfTagOption: CmacsOptionComponent[] = [];\r\n  // tag option concat template option\r\n  listOfTagAndTemplateOption: CmacsOptionComponent[] = [];\r\n  // ViewChildren\r\n  listOfNzOptionComponent: CmacsOptionComponent[] = [];\r\n  listOfNzOptionGroupComponent: CmacsOptionGroupComponent[] = [];\r\n  // click or enter add tag option\r\n  addedTagOption: CmacsOptionComponent | null;\r\n  // display in top control\r\n  listOfCachedSelectedOption: CmacsOptionComponent[] = [];\r\n  // selected value or ViewChildren change\r\n  valueOrOption$ = combineLatest(this.listOfSelectedValue$, this.mapOfTemplateOption$).pipe(\r\n    tap(data => {\r\n      this.listOfSelectedValue = data[0];\r\n      this.listOfNzOptionComponent = data[1].listOfNzOptionComponent;\r\n      this.listOfNzOptionGroupComponent = data[1].listOfNzOptionGroupComponent;\r\n      this.listOfTemplateOption = this.listOfNzOptionComponent.concat(\r\n        this.listOfNzOptionGroupComponent.reduce(\r\n          (pre, cur) => [...pre, ...cur.listOfNzOptionComponent.toArray()],\r\n          [] as CmacsOptionComponent[]\r\n        )\r\n      );\r\n      this.updateListOfTagOption();\r\n      this.updateListOfFilteredOption();\r\n      this.resetActivatedOptionIfNeeded();\r\n      this.updateListOfCachedOption();\r\n    }),\r\n    share()\r\n  );\r\n  check$ = merge(\r\n    this.checkRaw$,\r\n    this.valueOrOption$,\r\n    this.searchValue$,\r\n    this.activatedOption$,\r\n    this.open$,\r\n    this.modelChange$\r\n  ).pipe(share());\r\n\r\n  clickOption(option: CmacsOptionComponent): void {\r\n    /** update listOfSelectedOption -> update listOfSelectedValue -> next listOfSelectedValue$ **/\r\n    if (!option.nzDisabled) {\r\n      this.updateActivatedOption(option);\r\n      let listOfSelectedValue = [...this.listOfSelectedValue];\r\n      if (this.isMultipleOrTags) {\r\n        const targetValue = listOfSelectedValue.find(o => this.compareWith(o, option.nzValue));\r\n        if (isNotNil(targetValue)) {\r\n          listOfSelectedValue.splice(listOfSelectedValue.indexOf(targetValue), 1);\r\n          this.updateListOfSelectedValue(listOfSelectedValue, true);\r\n        } else if (listOfSelectedValue.length < this.maxMultipleCount) {\r\n          listOfSelectedValue.push(option.nzValue);\r\n          this.updateListOfSelectedValue(listOfSelectedValue, true);\r\n        }\r\n      } else if (!this.compareWith(listOfSelectedValue[0], option.nzValue)) {\r\n        listOfSelectedValue = [option.nzValue];\r\n        this.updateListOfSelectedValue(listOfSelectedValue, true);\r\n      }\r\n      if (this.isSingleMode || this.isTagsSingleSelectMode) {\r\n        this.setOpenState(false);\r\n      } else if (this.autoClearSearchValue) {\r\n        this.clearInput();\r\n      }\r\n    }\r\n  }\r\n\r\n  updateListOfCachedOption(): void {\r\n    if (this.isSingleMode) {\r\n      const selectedOption = this.listOfTemplateOption.find(o =>\r\n        this.compareWith(o.nzValue, this.listOfSelectedValue[0])\r\n      );\r\n      if (!isNil(selectedOption)) {\r\n        this.listOfCachedSelectedOption = [selectedOption];\r\n      }\r\n    } else {\r\n      const listOfCachedSelectedOption: CmacsOptionComponent[] = [];\r\n      this.listOfSelectedValue.forEach(v => {\r\n        const listOfMixedOption = [...this.listOfTagAndTemplateOption, ...this.listOfCachedSelectedOption];\r\n        const option = listOfMixedOption.find(o => this.compareWith(o.nzValue, v));\r\n        if (option) {\r\n          listOfCachedSelectedOption.push(option);\r\n        }\r\n      });\r\n      this.listOfCachedSelectedOption = listOfCachedSelectedOption;\r\n    }\r\n  }\r\n\r\n  updateListOfTagOption(): void {\r\n    if (this.isTagsMode || this.isTagsSingleSelectMode) {\r\n      const listOfMissValue = this.listOfSelectedValue.filter(\r\n        value => !this.listOfTemplateOption.find(o => this.compareWith(o.nzValue, value))\r\n      );\r\n      this.listOfTagOption = listOfMissValue.map(value => {\r\n        const nzOptionComponent = new CmacsOptionComponent();\r\n        nzOptionComponent.nzValue = value;\r\n        nzOptionComponent.nzLabel = value;\r\n        return nzOptionComponent;\r\n      });\r\n      this.listOfTagAndTemplateOption = [...this.listOfTemplateOption.concat(this.listOfTagOption)];\r\n    } else {\r\n      this.listOfTagAndTemplateOption = [...this.listOfTemplateOption];\r\n    }\r\n  }\r\n\r\n  updateAddTagOption(): void {\r\n    const isMatch = this.listOfTagAndTemplateOption.find(item => item.nzLabel === this.searchValue);\r\n    if ((this.isTagsMode || this.isTagsSingleSelectMode) && this.searchValue && !isMatch) {\r\n      const option = new CmacsOptionComponent();\r\n      option.nzValue = this.searchValue;\r\n      option.nzLabel = this.searchValue;\r\n      this.addedTagOption = option;\r\n      this.updateActivatedOption(option);\r\n    } else {\r\n      this.addedTagOption = null;\r\n    }\r\n  }\r\n\r\n  updateListOfFilteredOption(): void {\r\n    this.updateAddTagOption();\r\n    const listOfFilteredOption = new NzFilterOptionPipe().transform(\r\n      this.listOfTagAndTemplateOption,\r\n      this.searchValue,\r\n      this.filterOption,\r\n      this.serverSearch\r\n    );\r\n    this.listOfFilteredOption = this.addedTagOption\r\n      ? [this.addedTagOption, ...listOfFilteredOption]\r\n      : [...listOfFilteredOption];\r\n    this.isShowNotFound = !this.isTagsMode && !this.isTagsSingleSelectMode && !this.listOfFilteredOption.length;\r\n  }\r\n\r\n  clearInput(): void {\r\n    this.clearInput$.next();\r\n  }\r\n\r\n  // tslint:disable-next-line:no-any\r\n  updateListOfSelectedValue(value: any[], emit: boolean): void {\r\n    this.listOfSelectedValueWithEmit$.next({ value, emit });\r\n  }\r\n\r\n  updateActivatedOption(option: CmacsOptionComponent | null): void {\r\n    this.activatedOption$.next(option);\r\n    this.activatedOption = option;\r\n  }\r\n\r\n  tokenSeparate(inputValue: string, tokenSeparators: string[]): void {\r\n    // auto tokenSeparators\r\n    if (\r\n      inputValue &&\r\n      inputValue.length &&\r\n      tokenSeparators.length &&\r\n      this.isMultipleOrTags &&\r\n      this.includesSeparators(inputValue, tokenSeparators)\r\n    ) {\r\n      const listOfLabel = this.splitBySeparators(inputValue, tokenSeparators);\r\n      this.updateSelectedValueByLabelList(listOfLabel);\r\n      this.clearInput();\r\n    }\r\n  }\r\n\r\n  includesSeparators(str: string | string[], separators: string[]): boolean {\r\n    // tslint:disable-next-line:prefer-for-of\r\n    for (let i = 0; i < separators.length; ++i) {\r\n      if (str.lastIndexOf(separators[i]) > 0) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  splitBySeparators(str: string | string[], separators: string[]): string[] {\r\n    const reg = new RegExp(`[${separators.join()}]`);\r\n    const array = (str as string).split(reg).filter(token => token);\r\n    return Array.from(new Set(array));\r\n  }\r\n\r\n  resetActivatedOptionIfNeeded(): void {\r\n    const resetActivatedOption = () => {\r\n      const activatedOption = this.listOfFilteredOption.find(item =>\r\n        this.compareWith(item.nzValue, this.listOfSelectedValue[0])\r\n      );\r\n      this.updateActivatedOption(activatedOption || null);\r\n    };\r\n    if (this.activatedOption) {\r\n      if (\r\n        !this.listOfFilteredOption.find(item => this.compareWith(item.nzValue, this.activatedOption!.nzValue)) ||\r\n        !this.listOfSelectedValue.find(item => this.compareWith(item, this.activatedOption!.nzValue))\r\n      ) {\r\n        resetActivatedOption();\r\n      }\r\n    } else {\r\n      resetActivatedOption();\r\n    }\r\n  }\r\n\r\n  updateTemplateOption(\r\n    listOfNzOptionComponent: CmacsOptionComponent[],\r\n    listOfNzOptionGroupComponent: CmacsOptionGroupComponent[]\r\n  ): void {\r\n    this.mapOfTemplateOption$.next({ listOfNzOptionComponent, listOfNzOptionGroupComponent });\r\n  }\r\n\r\n  updateSearchValue(value: string): void {\r\n    this.searchValueRaw$.next(value);\r\n  }\r\n\r\n  updateSelectedValueByLabelList(listOfLabel: string[]): void {\r\n    const listOfSelectedValue = [...this.listOfSelectedValue];\r\n    const listOfMatchOptionValue = this.listOfTagAndTemplateOption\r\n      .filter(item => listOfLabel.indexOf(item.nzLabel) !== -1)\r\n      .map(item => item.nzValue)\r\n      .filter(item => !isNotNil(this.listOfSelectedValue.find(v => this.compareWith(v, item))));\r\n    if (this.isMultipleMode) {\r\n      this.updateListOfSelectedValue([...listOfSelectedValue, ...listOfMatchOptionValue], true);\r\n    } else {\r\n      const listOfUnMatchOptionValue = listOfLabel.filter(\r\n        label => this.listOfTagAndTemplateOption.map(item => item.nzLabel).indexOf(label) === -1\r\n      );\r\n      this.updateListOfSelectedValue(\r\n        [...listOfSelectedValue, ...listOfMatchOptionValue, ...listOfUnMatchOptionValue],\r\n        true\r\n      );\r\n    }\r\n  }\r\n\r\n  onKeyDown(e: KeyboardEvent): void {\r\n    const keyCode = e.keyCode;\r\n    const eventTarget = e.target as HTMLInputElement;\r\n    const listOfFilteredOptionWithoutDisabled = this.listOfFilteredOption.filter(item => !item.nzDisabled);\r\n    const activatedIndex = listOfFilteredOptionWithoutDisabled.findIndex(item => item === this.activatedOption);\r\n    switch (keyCode) {\r\n      case UP_ARROW:\r\n        e.preventDefault();\r\n        const preIndex = activatedIndex > 0 ? activatedIndex - 1 : listOfFilteredOptionWithoutDisabled.length - 1;\r\n        this.updateActivatedOption(listOfFilteredOptionWithoutDisabled[preIndex]);\r\n        break;\r\n      case DOWN_ARROW:\r\n        e.preventDefault();\r\n        const nextIndex = activatedIndex < listOfFilteredOptionWithoutDisabled.length - 1 ? activatedIndex + 1 : 0;\r\n        this.updateActivatedOption(listOfFilteredOptionWithoutDisabled[nextIndex]);\r\n        if (!this.disabled && !this.open) {\r\n          this.setOpenState(true);\r\n        }\r\n        break;\r\n      case ENTER:\r\n        e.preventDefault();\r\n        if (this.open) {\r\n          if (this.activatedOption && !this.activatedOption.nzDisabled) {\r\n            this.clickOption(this.activatedOption);\r\n          }\r\n        } else {\r\n          this.setOpenState(true);\r\n        }\r\n        break;\r\n      case BACKSPACE:\r\n        if ((this.isMultipleOrTags || this.isTagsSingleSelectMode) && !eventTarget.value && this.listOfCachedSelectedOption.length && !this.tagsOut) {\r\n          e.preventDefault();\r\n          this.removeValueFormSelected(this.listOfCachedSelectedOption[this.listOfCachedSelectedOption.length - 1]);\r\n        }\r\n        break;\r\n      case SPACE:\r\n        if (!this.disabled && !this.open) {\r\n          this.setOpenState(true);\r\n          e.preventDefault();\r\n        }\r\n        break;\r\n      case TAB:\r\n        this.setOpenState(false);\r\n        break;\r\n    }\r\n  }\r\n\r\n  // tslint:disable-next-line:no-any\r\n  removeValueFormSelected(option: CmacsOptionComponent): void {\r\n    if (this.disabled || option.nzDisabled) {\r\n      return;\r\n    }\r\n    const listOfSelectedValue = this.listOfSelectedValue.filter(item => !this.compareWith(item, option.nzValue));\r\n    this.updateListOfSelectedValue(listOfSelectedValue, true);\r\n    this.clearInput();\r\n  }\r\n\r\n  setOpenState(value: boolean): void {\r\n    this.openRaw$.next(value);\r\n    this.open = value;\r\n  }\r\n\r\n  check(): void {\r\n    this.checkRaw$.next();\r\n  }\r\n\r\n  get isSingleMode(): boolean {\r\n    return this.mode === 'default';\r\n  }\r\n\r\n  get isTagsMode(): boolean {\r\n    return this.mode === 'tags';\r\n  }\r\n\r\n  get isTagsSingleSelectMode(): boolean {\r\n    return this.mode === 'tagsSingleSelect';\r\n  }\r\n\r\n  get isMultipleMode(): boolean {\r\n    return this.mode === 'multiple';\r\n  }\r\n\r\n  get isMultipleOrTags(): boolean {\r\n    return this.mode === 'tags' || this.mode === 'multiple';\r\n  }\r\n}\r\n","import {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  Host,\r\n  Input, OnChanges,\r\n  OnDestroy,\r\n  OnInit,\r\n  Optional,\r\n  Renderer2, SimpleChanges,\r\n  TemplateRef,\r\n  ViewChild,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport {zoomMotion, NzNoAnimationDirective, InputBoolean} from 'ng-zorro-antd/core';\r\nimport { CmacsSelectService } from './cmacs-select.service';\r\nimport { CmacsOptionComponent } from './cmacs-option.component';\r\n\r\n\r\n@Component({\r\n  selector: '[cmacs-select-top-control]',\r\n  exportAs: 'cmacsSelectTopControl',\r\n  preserveWhitespaces: false,\r\n  animations: [zoomMotion],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  templateUrl: './cmacs-select-top-control.component.html',\r\n  styleUrls: ['./cmacs-select-top-control.component.css']\r\n})\r\nexport class CmacsSelectTopControlComponent implements OnInit, OnDestroy, OnChanges {\r\n  inputValue: string;\r\n  @Input() searchValue: string = '';\r\n  isComposing = false;\r\n  private destroy$ = new Subject();\r\n  @ViewChild('inputElement') inputElement: ElementRef;\r\n  @Input() nzShowSearch = false;\r\n  @Input() showCustomSearch = false;\r\n  // tslint:disable-next-line: member-ordering\r\n  @Input() showCmacsSearch = false;\r\n  @Input() nzPlaceHolder: string;\r\n  @Input() tagsOut = false;\r\n  @Input() nzOpen = false;\r\n  @Input() cmacsOpen = false;\r\n  @Input() action = false;\r\n  @Input() nzMaxTagCount: number;\r\n  @Input() nzAllowClear = false;\r\n  @Input() nzShowArrow = true;\r\n  @Input() nzLoading = false;\r\n  @Input() nzSuffixIcon: TemplateRef<void>;\r\n  @Input() nzClearIcon: TemplateRef<void>;\r\n  @Input() nzRemoveIcon: TemplateRef<void>;\r\n  // tslint:disable-next-line:no-any\r\n  @Input() nzMaxTagPlaceholder: TemplateRef<{ $implicit: any[] }>;\r\n  @Input() nzTokenSeparators: string[] = [];\r\n\r\n  onClearSelection(e: MouseEvent): void {\r\n    e.stopPropagation();\r\n    this.nzSelectService.updateListOfSelectedValue([], true);\r\n    if (this.nzSelectService.isTagsSingleSelectMode) {\r\n      this.setInputValue('');\r\n    }\r\n  }\r\n\r\n  getSelectedValues(){\r\n    return this.nzSelectService.listOfSelectedValue;\r\n  }\r\n\r\n  setInputValue(value: string): void {\r\n    if (this.inputElement) {\r\n      this.inputElement.nativeElement.value = value;\r\n    }\r\n    this.inputValue = value;\r\n    this.updateWidth();\r\n    this.nzSelectService.updateSearchValue(value);\r\n    this.nzSelectService.tokenSeparate(this.inputValue, this.nzTokenSeparators);\r\n  }\r\n\r\n  get placeHolderDisplay(): string {\r\n    return this.inputValue || this.isComposing || this.nzSelectService.listOfSelectedValue.length ? 'none' : 'block';\r\n  }\r\n\r\n  get selectedValueStyle(): { [key: string]: string } {\r\n    let showSelectedValue = false;\r\n    let opacity = 1;\r\n    if (!this.nzShowSearch) {\r\n      showSelectedValue = true;\r\n    } else {\r\n      if (this.nzOpen) {\r\n        showSelectedValue = !(this.inputValue || this.isComposing );\r\n        if (showSelectedValue) {\r\n          opacity = 1;\r\n        }\r\n      } else {\r\n        showSelectedValue = true;\r\n      }\r\n    }\r\n\r\n    if (this.nzSelectService.isTagsSingleSelectMode && this.inputValue) {\r\n      showSelectedValue = false;\r\n    }\r\n\r\n    if (this.nzSelectService.isTagsSingleSelectMode && !this.inputValue) {\r\n      opacity = 1;\r\n    }\r\n\r\n    return {\r\n      display: showSelectedValue ? 'block' : 'none',\r\n      'margin-left.px': this.showCustomSearch ? '15' : '0',\r\n      opacity: `${opacity}`\r\n    };\r\n  }\r\n\r\n  get showCustomSearchStyle(): { [key: string]: string } {\r\n    return {\r\n      'margin-left.px': this.showCustomSearch ? '15' : '0',\r\n    };\r\n  }\r\n\r\n  // tslint:disable-next-line:no-any\r\n  trackValue(_index: number, option: CmacsOptionComponent): any {\r\n    return option.nzValue;\r\n  }\r\n\r\n  updateWidth(): void {\r\n    if (this.nzSelectService.isMultipleOrTags && this.inputElement) {\r\n      if (this.inputValue || this.isComposing) {\r\n        this.renderer.setStyle(\r\n          this.inputElement.nativeElement,\r\n          'width',\r\n          `${this.inputElement.nativeElement.scrollWidth}px`\r\n        );\r\n      } else {\r\n        this.renderer.removeStyle(this.inputElement.nativeElement, 'width');\r\n      }\r\n    }\r\n  }\r\n\r\n  removeSelectedValue(option: CmacsOptionComponent, e: MouseEvent): void {\r\n    this.nzSelectService.removeValueFormSelected(option);\r\n    e.stopPropagation();\r\n  }\r\n\r\n  constructor(\r\n    private renderer: Renderer2,\r\n    public nzSelectService: CmacsSelectService,\r\n    private cdr: ChangeDetectorRef,\r\n    @Host() @Optional() public noAnimation?: NzNoAnimationDirective\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.nzSelectService.open$.pipe(takeUntil(this.destroy$)).subscribe(open => {\r\n      if (this.inputElement && open) {\r\n        setTimeout(() => this.inputElement.nativeElement.focus());\r\n      }\r\n      if (this.inputElement && this.cmacsOpen) {\r\n        setTimeout(() => this.inputElement.nativeElement.focus());\r\n      }\r\n    });\r\n    this.nzSelectService.clearInput$.pipe(takeUntil(this.destroy$)).subscribe(() => {\r\n      if (!(this.cmacsOpen || this.nzSelectService.isTagsSingleSelectMode)) {\r\n        this.setInputValue('');\r\n      }\r\n    });\r\n    this.nzSelectService.check$.pipe(takeUntil(this.destroy$)).subscribe(() => {\r\n      this.cdr.markForCheck();\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n     if (changes.searchValue && changes.searchValue.currentValue !== undefined){\r\n       this.setInputValue(changes.searchValue.currentValue);\r\n     }\r\n  }\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  ContentChildren,\r\n  Input,\r\n  QueryList,\r\n  TemplateRef,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { CmacsOptionComponent } from './cmacs-option.component';\r\n\r\n@Component({\r\n  selector: 'nz-option-group',\r\n  exportAs: 'nzOptionGroup',\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  templateUrl: './cmacs-option-group.component.html'\r\n})\r\nexport class CmacsOptionGroupComponent {\r\n  isLabelString = false;\r\n  label: string | TemplateRef<void>;\r\n  @ContentChildren(CmacsOptionComponent) listOfNzOptionComponent: QueryList<CmacsOptionComponent>;\r\n\r\n  @Input()\r\n  set nzLabel(value: string | TemplateRef<void>) {\r\n    this.label = value;\r\n    this.isLabelString = !(this.nzLabel instanceof TemplateRef);\r\n  }\r\n\r\n  get nzLabel(): string | TemplateRef<void> {\r\n    return this.label;\r\n  }\r\n}\r\n","import { FocusMonitor } from '@angular/cdk/a11y';\r\nimport { CdkConnectedOverlay, CdkOverlayOrigin, ConnectedOverlayPositionChange } from '@angular/cdk/overlay';\r\nimport { Platform } from '@angular/cdk/platform';\r\nimport {\r\n  forwardRef,\r\n  AfterContentInit,\r\n  AfterViewInit,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ContentChildren,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Host,\r\n  Input,\r\n  OnDestroy,\r\n  OnInit,\r\n  Optional,\r\n  Output,\r\n  QueryList,\r\n  Renderer2,\r\n  TemplateRef,\r\n  ViewChild,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { merge, EMPTY, Subject } from 'rxjs';\r\nimport { flatMap, startWith, takeUntil } from 'rxjs/operators';\r\n\r\nimport {\r\n  isNotNil,\r\n  slideMotion,\r\n  toBoolean,\r\n  InputBoolean,\r\n  NzNoAnimationDirective,\r\n  NzSizeLDSType, zoomMotion,\r\n} from 'ng-zorro-antd/core';\r\n\r\nimport {\r\n  TFilterOption,\r\n} from 'ng-zorro-antd';\r\n\r\nimport { CmacsSelectTopControlComponent } from './cmacs-select-top-control.component';\r\nimport { CmacsOptionComponent } from './cmacs-option.component';\r\nimport {CmacsOptionGroupComponent} from \"./cmacs-option-group.component\";\r\nimport {CmacsSelectService} from \"./cmacs-select.service\";\r\nimport { modelGroupProvider } from '@angular/forms/src/directives/ng_model_group';\r\n\r\n@Component({\r\n// tslint:disable-next-line: component-selector\r\n  selector: 'cmacs-select',\r\n  exportAs: 'cmacsSelect',\r\n  preserveWhitespaces: false,\r\n  providers: [\r\n    CmacsSelectService,\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: forwardRef(() => CmacsSelectComponent),\r\n      multi: true\r\n    }\r\n  ],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  animations: [slideMotion, zoomMotion],\r\n  templateUrl: './cmacs-select.component.html',\r\n// tslint:disable-next-line: use-host-property-decorator\r\n  host: {\r\n    '[class.ant-select-lg]': 'size===\"large\"',\r\n    '[class.ant-select-sm]': 'size===\"small\"',\r\n    '[class.ant-select-enabled]': '!disabled',\r\n    '[class.ant-select-no-arrow]': '!showArrow',\r\n    '[class.ant-select-disabled]': 'disabled',\r\n    '[class.ant-select-allow-clear]': 'allowClear',\r\n    '[class.ant-select-open]': 'nzOpen || cmacsOpen',\r\n    '(click)': 'toggleDropDown()'\r\n  },\r\n  styles: [\r\n    `\r\n      .ant-select-dropdown {\r\n        top: 100%;\r\n        left: 0;\r\n        position: relative;\r\n        width: 100%;\r\n        margin-top: 4px;\r\n        margin-bottom: 4px;\r\n      }\r\n    `\r\n  ],\r\n  styleUrls: ['./cmacs-select.component.css']\r\n})\r\nexport class CmacsSelectComponent implements ControlValueAccessor, OnInit, AfterViewInit, OnDestroy, AfterContentInit {\r\n  nzOpen = false;\r\n  _tagsOut = false;\r\n  // tslint:disable-next-line:no-any\r\n  value: any | any[];\r\n  searchValue: string = '';\r\n  onChange: (value: string | string[]) => void = () => null;\r\n  onTouched: () => void = () => null;\r\n// tslint:disable-next-line: member-ordering\r\n  dropDownPosition: 'top' | 'center' | 'bottom' = 'bottom';\r\n// tslint:disable-next-line: member-ordering\r\n  triggerWidth: number;\r\n// tslint:disable-next-line: member-ordering\r\n// tslint:disable-next-line: variable-name\r\n// tslint:disable-next-line: member-ordering\r\n  private _disabled = false;\r\n  private _cmacsOpen = false;\r\n// tslint:disable-next-line: member-ordering\r\n  private _autoFocus = false;\r\n// tslint:disable-next-line: member-ordering\r\n  private isInit = false;\r\n// tslint:disable-next-line: member-ordering\r\n  private destroy$ = new Subject();\r\n// tslint:disable-next-line: member-ordering\r\n  @ViewChild(CdkOverlayOrigin) cdkOverlayOrigin: CdkOverlayOrigin;\r\n// tslint:disable-next-line: member-ordering\r\n  @ViewChild(CdkConnectedOverlay) cdkConnectedOverlay: CdkConnectedOverlay;\r\n// tslint:disable-next-line: member-ordering\r\n  @ViewChild(CmacsSelectTopControlComponent) selectTopControlComponent: CmacsSelectTopControlComponent;\r\n// tslint:disable-next-line: member-ordering\r\n  @ContentChildren(CmacsOptionComponent) listOfCmacsOptionComponent: QueryList<CmacsOptionComponent>;\r\n// tslint:disable-next-line: member-ordering\r\n  @ContentChildren(CmacsOptionGroupComponent) listOfCmacsOptionGroupComponent: QueryList<CmacsOptionGroupComponent>;\r\n// tslint:disable-next-line: member-ordering\r\n  @Output() readonly cmacsOnSearch = new EventEmitter<string>();\r\n// tslint:disable-next-line: member-ordering\r\n  @Output() readonly scrollToBottom = new EventEmitter<void>();\r\n// tslint:disable-next-line: member-ordering\r\n  @Output() readonly openChange = new EventEmitter<boolean>();\r\n// tslint:disable-next-line: member-ordering\r\n  @Output() readonly cmacsBlur = new EventEmitter<void>();\r\n// tslint:disable-next-line: member-ordering\r\n  @Output() readonly cmacsFocus = new EventEmitter<void>();\r\n// tslint:disable-next-line: member-ordering\r\n  @Input() size: NzSizeLDSType = 'default';\r\n// tslint:disable-next-line: member-ordering\r\n  @Input() dropdownClassName: string = 'test-class';\r\n// tslint:disable-next-line: member-ordering\r\n  @Input() dropdownMatchSelectWidth = true;\r\n  // tslint:disable-next-line: member-ordering\r\n  @Input() action = false;\r\n// tslint:disable-next-line: member-ordering\r\n  @Input() dropdownStyle: { [key: string]: string };\r\n// tslint:disable-next-line: member-ordering\r\n  @Input() notFoundContent: string;\r\n// tslint:disable-next-line: member-ordering\r\n  @Input() @InputBoolean() allowClear = false;\r\n  @Input() @InputBoolean() open = false;\r\n// tslint:disable-next-line: member-ordering\r\n  @Input() @InputBoolean() showSearch = false;\r\n  // tslint:disable-next-line: member-ordering\r\n  @Input() @InputBoolean() showCmacsSearch = false;\r\n// tslint:disable-next-line: member-ordering\r\n  @Input() @InputBoolean() showCustomSearch = false;\r\n// tslint:disable-next-line: member-ordering\r\n  @Input() @InputBoolean() loading = false;\r\n// tslint:disable-next-line: member-ordering\r\n  @Input() placeHolder: string;\r\n// tslint:disable-next-line: member-ordering\r\n  @Input() maxTagCount: number;\r\n// tslint:disable-next-line: member-ordering\r\n  @Input() dropdownRender: TemplateRef<void>;\r\n// tslint:disable-next-line: member-ordering\r\n  @Input() suffixIcon: TemplateRef<void>;\r\n// tslint:disable-next-line: member-ordering\r\n  @Input() clearIcon: TemplateRef<void>;\r\n// tslint:disable-next-line: member-ordering\r\n  @Input() removeIcon: TemplateRef<void>;\r\n// tslint:disable-next-line: member-ordering\r\n  @Input() menuItemSelectedIcon: TemplateRef<void>;\r\n// tslint:disable-next-line: member-ordering\r\n  @Input() showArrow = true;\r\n// tslint:disable-next-line: member-ordering\r\n  @Input() tokenSeparators: string[] = [];\r\n  // tslint:disable-next-line:no-any\r\n// tslint:disable-next-line: member-ordering\r\n  @Input() maxTagPlaceholder: TemplateRef<{ $implicit: any[] }>;\r\n  @Input() selectAllLabel = 'Select All';\r\n\r\n  @Input()\r\n  set autoClearSearchValue(value: boolean) {\r\n    this.nzSelectService.autoClearSearchValue = toBoolean(value);\r\n  }\r\n\r\n  @Input()\r\n  set maxMultipleCount(value: number) {\r\n    this.nzSelectService.maxMultipleCount = value;\r\n  }\r\n\r\n  @Input()\r\n  set serverSearch(value: boolean) {\r\n    this.nzSelectService.serverSearch = toBoolean(value);\r\n  }\r\n\r\n  @Input()\r\n  set mode(value: 'default' | 'multiple' | 'tags' | 'tagsSingleSelect') {\r\n    this.nzSelectService.mode = value;\r\n    this.nzSelectService.check();\r\n  }\r\n\r\n  @Input()\r\n  set filterOption(value: TFilterOption) {\r\n    this.nzSelectService.filterOption = value;\r\n  }\r\n\r\n  @Input()\r\n  set tagsOut (value: boolean) {\r\n    this._tagsOut = toBoolean(value);\r\n    this.nzSelectService.tagsOut = toBoolean(value);\r\n  }\r\n\r\n  @Input()\r\n  // tslint:disable-next-line:no-any\r\n  set compareWith(value: (o1: any, o2: any) => boolean) {\r\n    this.nzSelectService.compareWith = value;\r\n  }\r\n\r\n  @Input()\r\n  set autoFocus(value: boolean) {\r\n    this._autoFocus = toBoolean(value);\r\n    this.updateAutoFocus();\r\n  }\r\n\r\n  get autoFocus(): boolean {\r\n    return this._autoFocus;\r\n  }\r\n\r\n  @Input()\r\n  set cmacsOpen(value: boolean) {\r\n    this._cmacsOpen = toBoolean(value);\r\n  }\r\n\r\n  get cmacsOpen() {\r\n    return this._cmacsOpen;\r\n  }\r\n\r\n  @Input()\r\n  set disabled(value: boolean) {\r\n    this._disabled = toBoolean(value);\r\n    this.nzSelectService.disabled = this._disabled;\r\n    this.nzSelectService.check();\r\n    if (this.disabled && this.isInit) {\r\n      this.closeDropDown();\r\n    }\r\n  }\r\n\r\n  get disabled(): boolean {\r\n    return this._disabled;\r\n  }\r\n\r\n  updateAutoFocus(): void {\r\n    if (this.selectTopControlComponent.inputElement) {\r\n      if (this.autoFocus) {\r\n        this.renderer.setAttribute(\r\n          this.selectTopControlComponent.inputElement.nativeElement,\r\n          'autofocus',\r\n          'autofocus'\r\n        );\r\n      } else {\r\n        this.renderer.removeAttribute(this.selectTopControlComponent.inputElement.nativeElement, 'autofocus');\r\n      }\r\n    }\r\n  }\r\n\r\n  focus(): void {\r\n    if (this.selectTopControlComponent.inputElement) {\r\n      this.focusMonitor.focusVia(this.selectTopControlComponent.inputElement, 'keyboard');\r\n      this.cmacsFocus.emit();\r\n    }\r\n  }\r\n\r\n  // tslint:disable-next-line:no-any\r\n  trackValue(_index: number, option: CmacsOptionComponent): any {\r\n    return option.nzValue;\r\n  }\r\n\r\n  blur(): void {\r\n    if (this.selectTopControlComponent.inputElement) {\r\n      this.selectTopControlComponent.inputElement.nativeElement.blur();\r\n      this.cmacsBlur.emit();\r\n    }\r\n  }\r\n\r\n  removeSelectedValue(option: CmacsOptionComponent, e: MouseEvent): void {\r\n    this.nzSelectService.removeValueFormSelected(option);\r\n    e.stopPropagation();\r\n  }\r\n\r\n  onKeyDown(event: KeyboardEvent): void {\r\n    this.nzSelectService.onKeyDown(event);\r\n  }\r\n\r\n  toggleDropDown(): void {\r\n    if (!this.disabled) {\r\n        this.nzSelectService.setOpenState(!this.nzOpen);\r\n    }\r\n  }\r\n\r\n  closeDropDown(): void {\r\n    this.nzSelectService.setOpenState(false);\r\n  }\r\n\r\n  onPositionChange(position: ConnectedOverlayPositionChange): void {\r\n    this.dropDownPosition = position.connectionPair.originY;\r\n  }\r\n\r\n  updateCdkConnectedOverlayStatus(): void {\r\n    if (this.platform.isBrowser) {\r\n      this.triggerWidth = this.cdkOverlayOrigin.elementRef.nativeElement.getBoundingClientRect().width;\r\n    }\r\n  }\r\n\r\n  updateCdkConnectedOverlayPositions(): void {\r\n    setTimeout(() => {\r\n      if (this.cdkConnectedOverlay && this.cdkConnectedOverlay.overlayRef) {\r\n        this.cdkConnectedOverlay.overlayRef.updatePosition();\r\n      }\r\n    });\r\n  }\r\n\r\n  constructor(\r\n    private renderer: Renderer2,\r\n    public nzSelectService: CmacsSelectService,\r\n    private cdr: ChangeDetectorRef,\r\n    private focusMonitor: FocusMonitor,\r\n    private platform: Platform,\r\n    private elementRef: ElementRef,\r\n    @Host() @Optional() public noAnimation?: NzNoAnimationDirective\r\n  ) {\r\n    renderer.addClass(this.elementRef.nativeElement, 'ant-select');\r\n  }\r\n\r\n// tslint:disable-next-line: jsdoc-format\r\n  /** update ngModel -> update listOfSelectedValue **/\r\n  // tslint:disable-next-line:no-any\r\n  writeValue(value: any | any[]): void {\r\n    this.value = value;\r\n    let listValue: any[] = []; // tslint:disable-line:no-any\r\n    if (isNotNil(value)) {\r\n      if (Array.isArray(value)) {\r\n        listValue = value;\r\n      } else {\r\n        listValue = [value];\r\n      }\r\n    }\r\n    this.nzSelectService.updateListOfSelectedValue(listValue, false);\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  registerOnChange(fn: (value: string | string[]) => void): void {\r\n    this.onChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: () => void): void {\r\n    this.onTouched = fn;\r\n  }\r\n\r\n  setDisabledState(isDisabled: boolean): void {\r\n    this.disabled = isDisabled;\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.focusMonitor.monitor(this.elementRef, true).subscribe(focusOrigin => {\r\n      if (!focusOrigin && this.nzSelectService.isTagsSingleSelectMode) {\r\n        if (this.selectTopControlComponent.inputValue.length &&\r\n          this.nzSelectService.activatedOption &&\r\n          !this.nzSelectService.activatedOption.nzDisabled)\r\n        {\r\n          this.nzSelectService.clickOption(this.nzSelectService.activatedOption);\r\n        }\r\n      } \r\n    });\r\n    this.nzSelectService.searchValue$.pipe(takeUntil(this.destroy$)).subscribe(data => {\r\n      this.cmacsOnSearch.emit(data);\r\n      this.updateCdkConnectedOverlayPositions();\r\n    });\r\n    this.nzSelectService.modelChange$.pipe(takeUntil(this.destroy$)).subscribe(modelValue => {\r\n      if (this.value !== modelValue) {\r\n        this.value = modelValue;\r\n        this.onChange(this.value);\r\n        this.updateCdkConnectedOverlayPositions();\r\n      }\r\n    });\r\n    this.nzSelectService.open$.pipe(takeUntil(this.destroy$)).subscribe(value => {\r\n      if (this.nzSelectService.isTagsSingleSelectMode) {\r\n        if (value && this.nzSelectService.listOfCachedSelectedOption.length && this.selectTopControlComponent.inputValue.length) {\r\n          value = false;\r\n          if (this.nzOpen !== value) {\r\n            this.openChange.emit(value);\r\n          }\r\n          this.focus();\r\n          this.updateCdkConnectedOverlayStatus();\r\n          this.nzOpen = value;\r\n          return;\r\n        }\r\n      }\r\n      if (this.nzOpen !== value) {\r\n        this.openChange.emit(value);\r\n      }\r\n      if (value) {\r\n        this.focus();\r\n        this.updateCdkConnectedOverlayStatus();\r\n      } else {\r\n        this.blur();\r\n        this.onTouched();\r\n      }\r\n      this.nzOpen = value;\r\n    });\r\n    this.nzSelectService.check$.pipe(takeUntil(this.destroy$)).subscribe(() => {\r\n      this.cdr.markForCheck();\r\n    });\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.updateCdkConnectedOverlayStatus();\r\n    this.isInit = true;\r\n  }\r\n\r\n  ngAfterContentInit(): void {\r\n    this.listOfCmacsOptionGroupComponent.changes\r\n      .pipe(\r\n        startWith(true),\r\n        flatMap(() =>\r\n          merge(\r\n            this.listOfCmacsOptionGroupComponent.changes,\r\n            this.listOfCmacsOptionComponent.changes,\r\n            ...this.listOfCmacsOptionComponent.map(option => option.changes),\r\n            ...this.listOfCmacsOptionGroupComponent.map(group =>\r\n              group.listOfNzOptionComponent ? group.listOfNzOptionComponent.changes : EMPTY\r\n            )\r\n          ).pipe(startWith(true))\r\n        )\r\n      )\r\n      .subscribe(() => {\r\n        this.nzSelectService.updateTemplateOption(\r\n          this.listOfCmacsOptionComponent.toArray(),\r\n          this.listOfCmacsOptionGroupComponent.toArray()\r\n        );\r\n      });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  onSearch(value: string){\r\n    this.searchValue = value;\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  OnInit,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  forwardRef\r\n} from '@angular/core';\r\nimport { InputBoolean, NzSizeLDSType, isNotNil, NzSelectService } from 'ng-zorro-antd';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { Option } from '../core/interfaces/options';\r\n\r\n@Component({\r\n// tslint:disable-next-line: component-selector\r\n  selector: 'cmacs-search',\r\n  templateUrl: './cmacs-search.component.html',\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: forwardRef(() => CmacsSearchComponent),\r\n      multi: true\r\n    }\r\n  ],\r\n  styleUrls: ['./cmacs-search.component.css']\r\n})\r\nexport class CmacsSearchComponent implements ControlValueAccessor, OnInit {\r\n\r\n  @Input() options: Option[];\r\n  @Input() @InputBoolean() disabled = false;\r\n  @Input()  maxTagCount: number;\r\n  @Input() @InputBoolean() allowClear = false;\r\n  @Input() @InputBoolean() showSearch = false;\r\n  @Input() @InputBoolean() cmacsOpen = false;\r\n  @Input() @InputBoolean() tagsOut = false;\r\n  @Input() size: NzSizeLDSType = 'default';\r\n  @Input() placeholder = 'placeholder';\r\n  @Input() selected: any = [];\r\n  @Output() selectedChange: EventEmitter<any> = new EventEmitter<any>();\r\n  @Input() mode: 'default' | 'multiple' | 'tags' = 'default';\r\n\r\n  onChange: (value: string | string[]) => void = () => null;\r\n  onTouched: () => void = () => null;\r\n\r\n  onSelectedChange() {\r\n    this.selectedChange.emit(this.selected);\r\n  }\r\n\r\n\r\n  writeValue(value: any | any[]): void {\r\n    this.selected = value;\r\n    let listValue: any[] = []; // tslint:disable-line:no-any\r\n    if (isNotNil(value)) {\r\n      if (Array.isArray(value)) {\r\n        listValue = value;\r\n      } else {\r\n        listValue = [value];\r\n      }\r\n    }\r\n  }\r\n\r\n  registerOnChange(fn: (value: string | string[]) => void): void {\r\n    this.onChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: () => void): void {\r\n    this.onTouched = fn;\r\n  }\r\n\r\n\r\n  constructor() { }\r\n\r\n  trackByFn(index, item: Option) {\r\n    return item.value;\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","import { InjectionToken } from '@angular/core';\r\n\r\nexport interface ModalConfig {\r\n  cmacsMask?: boolean;\r\n  cmacsMaskClosable?: boolean;\r\n}\r\nexport const MODAL_CONFIG = new InjectionToken<ModalConfig>('MODAL_CONFIG');\r\n","import { Injectable, Optional, SkipSelf } from '@angular/core';\r\nimport { Subject, Subscription } from 'rxjs';\r\n\r\nimport { CmacsModalRef } from './cmacs-modal-ref.class';\r\n\r\ninterface RegisteredMeta {\r\n  modalRef: CmacsModalRef;\r\n  afterOpenSubscription: Subscription;\r\n  afterCloseSubscription: Subscription;\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ModalControlService {\r\n  // Track singleton afterAllClose through over the injection tree\r\n  get afterAllClose(): Subject<void> {\r\n    return this.parentService ? this.parentService.afterAllClose : this.rootAfterAllClose!;\r\n  }\r\n\r\n  // Track singleton openModals array through over the injection tree\r\n  get openModals(): CmacsModalRef[] {\r\n    return this.parentService ? this.parentService.openModals : this.rootOpenModals!;\r\n  }\r\n\r\n  private rootOpenModals: CmacsModalRef[] | null = this.parentService ? null : [];\r\n  private rootAfterAllClose: Subject<void> | null = this.parentService ? null : new Subject<void>();\r\n  private rootRegisteredMetaMap: Map<CmacsModalRef, RegisteredMeta> | null = this.parentService ? null : new Map();\r\n\r\n  private get registeredMetaMap(): Map<CmacsModalRef, RegisteredMeta> {\r\n    // Registered modal for later usage\r\n    return this.parentService ? this.parentService.registeredMetaMap : this.rootRegisteredMetaMap!;\r\n  }\r\n\r\n  constructor(@Optional() @SkipSelf() private parentService: ModalControlService) {}\r\n\r\n  // Register a modal to listen its open/close\r\n  registerModal(modalRef: CmacsModalRef): void {\r\n    if (!this.hasRegistered(modalRef)) {\r\n      const afterOpenSubscription = modalRef.afterOpen.subscribe(() => this.openModals.push(modalRef));\r\n      const afterCloseSubscription = modalRef.afterClose.subscribe(() => this.removeOpenModal(modalRef));\r\n\r\n      this.registeredMetaMap.set(modalRef, { modalRef, afterOpenSubscription, afterCloseSubscription });\r\n    }\r\n  }\r\n\r\n  // deregister modals\r\n  deregisterModal(modalRef: CmacsModalRef): void {\r\n    const registeredMeta = this.registeredMetaMap.get(modalRef);\r\n    if (registeredMeta) {\r\n      // Remove this modal if it is still in the opened modal list (NOTE: it may trigger \"afterAllClose\")\r\n      this.removeOpenModal(registeredMeta.modalRef);\r\n      registeredMeta.afterOpenSubscription.unsubscribe();\r\n      registeredMeta.afterCloseSubscription.unsubscribe();\r\n      this.registeredMetaMap.delete(modalRef);\r\n    }\r\n  }\r\n\r\n  hasRegistered(modalRef: CmacsModalRef): boolean {\r\n    return this.registeredMetaMap.has(modalRef);\r\n  }\r\n\r\n  // Close all registered opened modals\r\n  closeAll(): void {\r\n    let i = this.openModals.length;\r\n\r\n    while (i--) {\r\n      this.openModals[i].close();\r\n    }\r\n  }\r\n\r\n  private removeOpenModal(modalRef: CmacsModalRef): void {\r\n    const index = this.openModals.indexOf(modalRef);\r\n\r\n    if (index > -1) {\r\n      this.openModals.splice(index, 1);\r\n\r\n      if (!this.openModals.length) {\r\n        this.afterAllClose.next();\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { Observable } from 'rxjs';\r\n\r\nimport {CmacsModalComponent} from './cmacs-modal.component';\r\n\r\n/**\r\n * API class that public to users to handle the modal instance.\r\n * NzModalRef is aim to avoid accessing to the modal instance directly by users.\r\n */\r\n// tslint:disable-next-line:no-any\r\nexport abstract class CmacsModalRef<T = any, R = any> {\r\n  abstract afterOpen: Observable<void>;\r\n  abstract afterClose: Observable<R>;\r\n\r\n  abstract open(): void;\r\n  abstract close(result?: R): void;\r\n  abstract destroy(result?: R): void;\r\n\r\n  /**\r\n   * Trigger the nzOnOk/nzOnCancel by manual\r\n   */\r\n  abstract triggerOk(): void;\r\n  abstract triggerCancel(): void;\r\n\r\n  // /**\r\n  //  * Return the ComponentRef of nzContent when specify nzContent as a Component\r\n  //  * Note: this method may return undefined if the Component has not ready yet. (it only available after Modal's ngOnInit)\r\n  //  */\r\n  // abstract getContentComponentRef(): ComponentRef<{}>;\r\n\r\n  /**\r\n   * Return the component instance of nzContent when specify nzContent as a Component\r\n   * Note: this method may return undefined if the Component has not ready yet. (it only available after Modal's ngOnInit)\r\n   */\r\n  abstract getContentComponent(): T;\r\n\r\n  /**\r\n   * Get the dom element of this Modal\r\n   */\r\n  abstract getElement(): HTMLElement;\r\n\r\n  /**\r\n   * Get the instance of the Modal itself\r\n   */\r\n  abstract getInstance(): CmacsModalComponent;\r\n}\r\n","import { FocusTrap, FocusTrapFactory } from '@angular/cdk/a11y';\r\n\r\nimport { ESCAPE } from '@angular/cdk/keycodes';\r\nimport { BlockScrollStrategy, Overlay, OverlayRef } from '@angular/cdk/overlay';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport {\r\n  AfterViewInit,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ComponentFactoryResolver,\r\n  ComponentRef,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Inject,\r\n  Injector,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  OnInit,\r\n  Optional,\r\n  Output, QueryList,\r\n  SimpleChanges,\r\n  TemplateRef,\r\n  Type,\r\n  ViewChild, ViewChildren,\r\n  ViewContainerRef\r\n} from '@angular/core';\r\n\r\nimport { fromEvent, Observable, Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport { getElementOffset, isPromise, InputBoolean } from 'ng-zorro-antd/core';\r\nimport { NzI18nService } from 'ng-zorro-antd/i18n';\r\n\r\nimport { MODAL_CONFIG, ModalConfig } from './cmacs-modal-config';\r\nimport { ModalControlService } from './cmacs-modal-control.service';\r\nimport { CmacsModalRef } from './cmacs-modal-ref.class';\r\nimport { ModalButtonOptions, ModalOptions, ModalType, OnClickCallback } from './cmacs-modal.type';\r\n\r\nexport const MODAL_ANIMATE_DURATION = 200; // Duration when perform animations (ms)\r\n\r\ntype AnimationState = 'enter' | 'leave' | null;\r\n\r\n@Component({\r\n  selector: 'cmacs-modal',\r\n  exportAs: 'cmacsModal',\r\n  templateUrl: './cmacs-modal.component.html',\r\n  styleUrls: ['./cmacs-modal.component.css'],\r\n  // Using OnPush for modal caused footer can not to detect changes. we can fix it when 8.x.\r\n  changeDetection: ChangeDetectionStrategy.Default\r\n})\r\n\r\n// tslint:disable-next-line:no-any\r\nexport class CmacsModalComponent<T = any, R = any> extends CmacsModalRef<T, R>\r\n  implements OnInit, OnChanges, AfterViewInit, OnDestroy, ModalOptions<T> {\r\n  @Input() @InputBoolean() visible: boolean = false;\r\n  @Input() @InputBoolean() closable: boolean = true;\r\n  @Input() @InputBoolean() okLoading: boolean = false;\r\n  @Input() @InputBoolean() okDisabled: boolean = false;\r\n  @Input() @InputBoolean() cancelDisabled: boolean = false;\r\n  @Input() @InputBoolean() cancelLoading: boolean = false;\r\n  @Input() @InputBoolean() keyboard: boolean = true;\r\n  @Input() @InputBoolean() noAnimation = false;\r\n  @Input() @InputBoolean() cmacsMask: boolean;\r\n  @Input() @InputBoolean() cmacsMaskClosable: boolean;\r\n  @Input() @InputBoolean() showHelpfulTips = true;\r\n  @Input() @InputBoolean() useCmacsDefaultSizes = true;\r\n  @Input() content: string | TemplateRef<{}> | Type<T>; // [STATIC] If not specified, will use <ng-content>\r\n  @Input() componentParams: T; // [STATIC] ONLY avaliable when content is a component\r\n  @Input() footer: string | TemplateRef<{}> | Array<ModalButtonOptions<T>> | null; // [STATIC] Default Modal ONLY\r\n  @Input() getContainer: HTMLElement | OverlayRef | (() => HTMLElement | OverlayRef) = () => this.overlay.create(); // [STATIC]\r\n  @Input() zIndex: number = 1000;\r\n  @Input() leftPanelCols: number;\r\n  @Input() centerPanelCols: number;\r\n  @Input() rightPanelCols: number;\r\n  @Input() width: number | string = 400;\r\n  @Input() wrapClassName: string;\r\n  @Input() className: string;\r\n  @Input() cmacsStyle: object;\r\n  @Input() title: string | TemplateRef<{}>;\r\n  @Input() cmacsTitle: string | TemplateRef<{}>;\r\n  @Input() maskStyle: object;\r\n  @Input() bodyStyle: object;\r\n  @Input() cmacsOkText: string | null;\r\n  @Input() cmacsCancelText: string | null;\r\n  @Input() okType = 'primary';\r\n  @Input() iconType: string = 'question-circle'; // Confirm Modal ONLY\r\n  @Input() modalType: ModalType = 'transactional';\r\n\r\n  @Input() @Output() readonly onOk: EventEmitter<T> | OnClickCallback<T> = new EventEmitter<T>();\r\n  @Input() @Output() readonly onCancel: EventEmitter<T> | OnClickCallback<T> = new EventEmitter<T>();\r\n\r\n  @Output() readonly cmacsAfterOpen = new EventEmitter<void>(); // Trigger when modal open(visible) after animations\r\n  @Output() readonly cmacsAfterClose = new EventEmitter<R>(); // Trigger when modal leave-animation over\r\n  @Output() readonly visibleChange = new EventEmitter<boolean>();\r\n\r\n  @ViewChild('modalContainer') modalContainer: ElementRef;\r\n  @ViewChild('bodyContainer', { read: ViewContainerRef }) bodyContainer: ViewContainerRef;\r\n  @ViewChild('autoFocusButtonOk', { read: ElementRef }) autoFocusButtonOk: ElementRef; // Only aim to focus the ok button that needs to be auto focused\r\n  @ViewChildren('tipsCreationWizard') tipsCreationWizard: QueryList<any>;\r\n\r\n  get afterOpen(): Observable<void> {\r\n    // Observable alias for cmacsAfterOpen\r\n    return this.cmacsAfterOpen.asObservable();\r\n  }\r\n\r\n  get afterClose(): Observable<R> {\r\n    // Observable alias for afterClose\r\n    return this.cmacsAfterClose.asObservable();\r\n  }\r\n\r\n  get cancelText(): string {\r\n    return this.cmacsCancelText || this.locale.cancelText!;\r\n  }\r\n\r\n  get okText(): string {\r\n    return this.cmacsOkText || this.locale.okText!;\r\n  }\r\n\r\n  get hidden(): boolean {\r\n    return !this.visible && !this.animationState;\r\n  } // Indicate whether this dialog should hidden\r\n\r\n  /**\r\n   * @description\r\n   * The calculated highest weight of mask value\r\n   *\r\n   * Weight of different mask input:\r\n   * component default value < global configuration < component input value\r\n   */\r\n  get mask(): boolean {\r\n    if (this.cmacsMask != null) {\r\n      return this.cmacsMask;\r\n    } else if (this.modalGlobalConfig && this.modalGlobalConfig.cmacsMask != null) {\r\n      return this.modalGlobalConfig.cmacsMask;\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @description\r\n   * The calculated highest weight of maskClosable value\r\n   *\r\n   * Weight of different maskClosable input:\r\n   * component default value < global configuration < component input value\r\n   */\r\n  get maskClosable(): boolean {\r\n    if (this.cmacsMaskClosable != null) {\r\n      return this.cmacsMaskClosable;\r\n    } else if (this.modalGlobalConfig && this.modalGlobalConfig.cmacsMaskClosable != null) {\r\n      return this.modalGlobalConfig.cmacsMaskClosable;\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  locale: { okText?: string; cancelText?: string } = {};\r\n  maskAnimationClassMap: object | null;\r\n  modalAnimationClassMap: object | null;\r\n  transformOrigin = '0px 0px 0px'; // The origin point that animation based on\r\n\r\n  private contentComponentRef: ComponentRef<T>; // Handle the reference when using content as Component\r\n  private animationState: AnimationState; // Current animation state\r\n  private container: HTMLElement | OverlayRef;\r\n  private unsubscribe$ = new Subject<void>();\r\n  private previouslyFocusedElement: HTMLElement;\r\n  private focusTrap: FocusTrap;\r\n  private scrollStrategy: BlockScrollStrategy;\r\n\r\n  [key: string]: any; // tslint:disable-line:no-any\r\n\r\n  constructor(\r\n    private overlay: Overlay,\r\n    private i18n: NzI18nService,\r\n    private cfr: ComponentFactoryResolver,\r\n    private elementRef: ElementRef,\r\n    private viewContainer: ViewContainerRef,\r\n    private modalControl: ModalControlService,\r\n    private focusTrapFactory: FocusTrapFactory,\r\n    private cdr: ChangeDetectorRef,\r\n    @Optional() @Inject(MODAL_CONFIG) private modalGlobalConfig: ModalConfig,\r\n    @Inject(DOCUMENT) private document: any // tslint:disable-line:no-any\r\n  ) {\r\n    super();\r\n    this.scrollStrategy = this.overlay.scrollStrategies.block();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.i18n.localeChange.pipe(takeUntil(this.unsubscribe$)).subscribe(() => {\r\n      this.locale = this.i18n.getLocaleData('Modal') as { okText: string; cancelText: string };\r\n    });\r\n\r\n    fromEvent<KeyboardEvent>(this.document.body, 'keydown')\r\n      .pipe(takeUntil(this.unsubscribe$))\r\n      .subscribe(e => this.keydownListener(e));\r\n\r\n    if (this.isComponent(this.content)) {\r\n      this.createDynamicComponent(this.content as Type<T>); // Create component along without View\r\n    }\r\n\r\n    if (this.isModalButtons(this.footer)) {\r\n      // Setup default button options\r\n      this.footer = this.formatModalButtons(this.footer as Array<ModalButtonOptions<T>>);\r\n    }\r\n\r\n    // Place the modal dom to elsewhere\r\n    this.container = typeof this.getContainer === 'function' ? this.getContainer() : this.getContainer;\r\n    if (this.container instanceof HTMLElement) {\r\n      this.container.appendChild(this.elementRef.nativeElement);\r\n    } else if (this.container instanceof OverlayRef) {\r\n      // NOTE: only attach the dom to overlay, the view container is not changed actually\r\n      this.container.overlayElement.appendChild(this.elementRef.nativeElement);\r\n    }\r\n\r\n    // Creation modal settings\r\n    if (this.isModalType('creation') || this.isModalType('helpfulTips') || this.isModalType('helpfulTipsNoPanel')) {\r\n      this.cmacsCancelText = null;\r\n      this.cmacsOkText = null;\r\n    }\r\n\r\n    if(this.isModalType('helpfulTips')){\r\n      this.width = this.width ? this.width : 835;\r\n    }\r\n\r\n    if(this.isModalType('helpfulTipsNoPanel') || this.isModalType('basic')){\r\n      this.width = this.width ? this.width : 570;\r\n    }\r\n\r\n    if (this.useCmacsDefaultSizes) {\r\n      this.transformToDefaultSizes();\r\n    }\r\n\r\n    // Register modal when afterOpen/afterClose is stable\r\n    this.modalControl.registerModal(this);\r\n  }\r\n\r\n  // [NOTE] NOT available when using by service!\r\n  // Because ngOnChanges never be called when using by service,\r\n  // here we can't support \"content\"(Component) etc. as inputs that initialized dynamically.\r\n  // BUT: User also can change \"content\" dynamically to trigger UI changes (provided you don't use \bComponent that needs initializations)\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes.visible) {\r\n      this.handleVisibleStateChange(this.visible, !changes.visible.firstChange); // Do not trigger animation while initializing\r\n    }\r\n    if (changes.showHelpfulTips !== undefined || changes.useCmacsDefaultSizes !== undefined) {\r\n      if (this.useCmacsDefaultSizes) { this.transformToDefaultSizes(); }\r\n    }\r\n  }\r\n\r\n  transformToDefaultSizes() {\r\n    switch (this.modalType) {\r\n      case 'creation':\r\n        this.width = this.showHelpfulTips ? 1100 : 835;\r\n        break;\r\n        case 'helpfulTips':\r\n        this.width = 835;\r\n        break;\r\n        case 'helpfulTipsNoPanel':\r\n        this.width = 570;\r\n        break;\r\n        case 'basic':\r\n        this.width = 570;\r\n        break;\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    // If using Component, it is the time to attach View while bodyContainer is ready\r\n    if (this.contentComponentRef) {\r\n      this.bodyContainer.insert(this.contentComponentRef.hostView);\r\n    }\r\n\r\n    if (this.autoFocusButtonOk) {\r\n      (this.autoFocusButtonOk.nativeElement as HTMLButtonElement).focus();\r\n    }\r\n\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    // Close self before destructing\r\n    if (!this.isModalType('interaction')) {\r\n      this.changeVisibleFromInside(false).then(() => {\r\n        this.destroyModal();\r\n      });\r\n    } else {\r\n      this.closeInteraction();\r\n      this.destroyModal();\r\n    }\r\n\r\n  }\r\n\r\n  destroyModal() {\r\n    this.modalControl.deregisterModal(this);\r\n\r\n    if (this.container instanceof OverlayRef) {\r\n      this.container.dispose();\r\n    }\r\n    this.unsubscribe$.next();\r\n    this.unsubscribe$.complete();\r\n  }\r\n\r\n  keydownListener(event: KeyboardEvent): void {\r\n    if (event.keyCode === ESCAPE && this.keyboard) {\r\n      this.onClickOkCancel('cancel');\r\n    }\r\n  }\r\n\r\n  open(): void {\r\n    this.changeVisibleFromInside(true);\r\n  }\r\n\r\n  close(result?: R): void {\r\n    this.changeVisibleFromInside(false, result);\r\n  }\r\n\r\n  destroy(result?: R): void {\r\n    // Destroy equals Close\r\n    this.close(result);\r\n  }\r\n\r\n  triggerOk(): void {\r\n    this.onClickOkCancel('ok');\r\n  }\r\n\r\n  triggerCancel(): void {\r\n    this.onClickOkCancel('cancel');\r\n  }\r\n\r\n  getInstance(): CmacsModalComponent {\r\n    return this;\r\n  }\r\n\r\n  getContentComponentRef(): ComponentRef<T> {\r\n    return this.contentComponentRef;\r\n  }\r\n\r\n  getContentComponent(): T {\r\n    return this.contentComponentRef && this.contentComponentRef.instance;\r\n  }\r\n\r\n  getElement(): HTMLElement {\r\n    return this.elementRef && this.elementRef.nativeElement;\r\n  }\r\n\r\n  onClickMask($event: MouseEvent): void {\r\n    if (\r\n      this.cmacsMask &&\r\n      this.cmacsMaskClosable &&\r\n      ($event.target as HTMLElement).classList.contains('ant-modal-wrap') &&\r\n      this.visible\r\n    ) {\r\n      this.onClickOkCancel('cancel');\r\n    }\r\n  }\r\n\r\n  isModalType(type: ModalType): boolean {\r\n    return this.modalType === type;\r\n  }\r\n\r\n  public onClickCloseBtn(): void {\r\n    if (this.visible) {\r\n      this.onClickOkCancel('cancel');\r\n    }\r\n  }\r\n\r\n  public closeInteraction(): void {\r\n    this.visible = !this.visible;\r\n    this.visibleChange.emit(this.visible);\r\n  }\r\n\r\n  public onClickOkCancel(type: 'ok' | 'cancel'): void {\r\n    const trigger = { ok: this.onOk, cancel: this.onCancel }[type];\r\n    const loadingKey = { ok: 'okLoading', cancel: 'cancelLoading' }[type];\r\n    if (trigger instanceof EventEmitter) {\r\n      trigger.emit(this.getContentComponent());\r\n    } else if (typeof trigger === 'function') {\r\n      const result = trigger(this.getContentComponent());\r\n      const caseClose = (doClose: boolean | void | {}) => doClose !== false && this.close(doClose as R); // Users can return \"false\" to prevent closing by default\r\n      if (isPromise(result)) {\r\n        this[loadingKey] = true;\r\n        const handleThen = (doClose: boolean | void | {}) => {\r\n          this[loadingKey] = false;\r\n          caseClose(doClose);\r\n        };\r\n        (result as Promise<void>).then(handleThen).catch(handleThen);\r\n      } else {\r\n        caseClose(result);\r\n      }\r\n    }\r\n  }\r\n\r\n  public isNonEmptyString(value: {}): boolean {\r\n    return typeof value === 'string' && value !== '';\r\n  }\r\n\r\n  public isTemplateRef(value: {}): boolean {\r\n    return value instanceof TemplateRef;\r\n  }\r\n\r\n  public isComponent(value: {}): boolean {\r\n    return value instanceof Type;\r\n  }\r\n\r\n  public isModalButtons(value: string | TemplateRef<{}> | Array<ModalButtonOptions<T>> | null): boolean {\r\n    return Array.isArray(value) && value.length > 0;\r\n  }\r\n\r\n  // Do rest things when visible state changed\r\n  private handleVisibleStateChange(visible: boolean, animation: boolean = true, closeResult?: R): Promise<void> {\r\n    if (!this.isModalType('interaction')) {\r\n      if (visible) {\r\n        // Hide scrollbar at the first time when shown up\r\n        this.scrollStrategy.enable();\r\n        this.savePreviouslyFocusedElement();\r\n        this.trapFocus();\r\n      }\r\n\r\n      return Promise.resolve(animation ? this.animateTo(visible) : undefined).then(() => {\r\n        // Emit open/close event after animations over\r\n        if (visible) {\r\n          this.cmacsAfterOpen.emit();\r\n        } else {\r\n          this.cmacsAfterClose.emit(closeResult);\r\n          this.restoreFocus();\r\n          this.scrollStrategy.disable();\r\n          // Mark the for check so it can react if the view container is using OnPush change detection.\r\n          this.cdr.markForCheck();\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  // Lookup a button's property, if the prop is a function, call & then return the result, otherwise, return itself.\r\n  public getButtonCallableProp(options: ModalButtonOptions<T>, prop: string): {} {\r\n    const value = options[prop];\r\n    const args: T[] = [];\r\n    if (this.contentComponentRef) {\r\n      args.push(this.contentComponentRef.instance);\r\n    }\r\n    return typeof value === 'function' ? value.apply(options, args) : value;\r\n  }\r\n\r\n  // On footer's modal button click\r\n  public onButtonClick(button: ModalButtonOptions<T>): void {\r\n    const result = this.getButtonCallableProp(button, 'onClick'); // Call onClick directly\r\n    if (isPromise(result)) {\r\n      button.loading = true;\r\n      (result as Promise<{}>).then(() => (button.loading = false)).catch(() => (button.loading = false));\r\n    }\r\n  }\r\n\r\n  // Change visible from inside\r\n  private changeVisibleFromInside(visible: boolean, closeResult?: R): Promise<void> {\r\n    if (this.visible !== visible) {\r\n      // Change visible value immediately\r\n      this.visible = visible;\r\n      this.visibleChange.emit(visible);\r\n      return this.handleVisibleStateChange(visible, true, closeResult);\r\n    }\r\n    return Promise.resolve();\r\n  }\r\n\r\n  private changeAnimationState(state: AnimationState): void {\r\n    this.animationState = state;\r\n    if (state) {\r\n      this.maskAnimationClassMap = {\r\n        [`fade-${state}`]: true,\r\n        [`fade-${state}-active`]: true\r\n      };\r\n      this.modalAnimationClassMap = {\r\n        [`zoom-${state}`]: true,\r\n        [`zoom-${state}-active`]: true\r\n      };\r\n    } else {\r\n      this.maskAnimationClassMap = this.modalAnimationClassMap = null;\r\n    }\r\n  }\r\n\r\n  private animateTo(isVisible: boolean): Promise<void> {\r\n    if (isVisible) {\r\n      // Figure out the lastest click position when shows up\r\n      setTimeout(() => this.updateTransformOrigin()); // [NOTE] Using timeout due to the document.click event is fired later than visible change, so if not postponed to next event-loop, we can't get the lastest click position\r\n    }\r\n\r\n    this.changeAnimationState(isVisible ? 'enter' : 'leave');\r\n    return new Promise(resolve =>\r\n      setTimeout(\r\n        () => {\r\n          // Return when animation is over\r\n          this.changeAnimationState(null);\r\n          resolve();\r\n        },\r\n        this.noAnimation ? 0 : MODAL_ANIMATE_DURATION\r\n      )\r\n    );\r\n  }\r\n\r\n  private formatModalButtons(buttons: Array<ModalButtonOptions<T>>): Array<ModalButtonOptions<T>> {\r\n    return buttons.map(button => {\r\n      return {\r\n        ...{\r\n          type: 'default',\r\n          size: 'default',\r\n          autoLoading: true,\r\n          show: true,\r\n          loading: false,\r\n          disabled: false\r\n        },\r\n        ...button\r\n      };\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Create a component dynamically but not attach to any View (this action will be executed when bodyContainer is ready)\r\n   * @param component Component class\r\n   */\r\n  private createDynamicComponent(component: Type<T>): void {\r\n    const factory = this.cfr.resolveComponentFactory(component);\r\n    const childInjector = Injector.create({\r\n      providers: [{ provide: CmacsModalRef, useValue: this }],\r\n      parent: this.viewContainer.parentInjector\r\n    });\r\n    this.contentComponentRef = factory.create(childInjector);\r\n    if (this.componentParams) {\r\n      Object.assign(this.contentComponentRef.instance, this.componentParams);\r\n    }\r\n    // Do the first change detection immediately (or we do detection at ngAfterViewInit, multi-changes error will be thrown)\r\n    this.contentComponentRef.changeDetectorRef.detectChanges();\r\n  }\r\n\r\n  // Update transform-origin to the last click position on document\r\n  private updateTransformOrigin(): void {\r\n    const modalElement = this.modalContainer.nativeElement as HTMLElement;\r\n    if (this.previouslyFocusedElement) {\r\n      const previouslyDOMRect = this.previouslyFocusedElement.getBoundingClientRect();\r\n      const lastPosition = getElementOffset(this.previouslyFocusedElement);\r\n      const x = lastPosition.left + previouslyDOMRect.width / 2;\r\n      const y = lastPosition.top + previouslyDOMRect.height / 2;\r\n      this.transformOrigin = `${x - modalElement.offsetLeft}px ${y - modalElement.offsetTop}px 0px`;\r\n    }\r\n  }\r\n\r\n  private savePreviouslyFocusedElement(): void {\r\n    if (this.document) {\r\n      this.previouslyFocusedElement = this.document.activeElement as HTMLElement;\r\n    }\r\n  }\r\n\r\n  private trapFocus(): void {\r\n    if (!this.focusTrap) {\r\n      this.focusTrap = this.focusTrapFactory.create(this.elementRef.nativeElement);\r\n    }\r\n    this.focusTrap.focusInitialElementWhenReady();\r\n  }\r\n\r\n  private restoreFocus(): void {\r\n    // We need the extra check, because IE can set the `activeElement` to null in some cases.\r\n    if (this.previouslyFocusedElement && typeof this.previouslyFocusedElement.focus === 'function') {\r\n      this.previouslyFocusedElement.focus();\r\n    }\r\n    if (this.focusTrap) {\r\n      this.focusTrap.destroy();\r\n    }\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'cmacsToCssUnit'\r\n})\r\nexport class CmacsToCssUnitPipe implements PipeTransform {\r\n  transform(value: number | string, defaultUnit: string = 'px'): string {\r\n    const formatted = +value; // force convert\r\n    return isNaN(formatted) ? `${value}` : `${formatted}${defaultUnit}`;\r\n  }\r\n}\r\n","import {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  Injector,\r\n  Input,\r\n  NgZone,\r\n  OnDestroy,\r\n  OnInit,\r\n  Renderer2,\r\n  TemplateRef,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { ActivatedRoute, Params, PRIMARY_OUTLET, Router } from '@angular/router';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport { InputBoolean } from 'ng-zorro-antd/core';\r\n\r\nexport const CMACS_ROUTE_DATA_BREADCRUMB = 'breadcrumb';\r\n\r\nexport interface BreadcrumbOption {\r\n  label: string;\r\n  params: Params;\r\n  url: string;\r\n}\r\n\r\n@Component({\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  selector: 'cmacs-breadcrumb',\r\n  exportAs: 'cmacsBreadcrumb',\r\n  preserveWhitespaces: false,\r\n  templateUrl: './cmacs-breadcrumb.component.html',\r\n  styles: [\r\n    `\r\n      cmacs-breadcrumb {\r\n        display: block;\r\n      }\r\n\r\n      cmacs-breadcrumb-item {\r\n        font-size: 12px;\r\n        font-weight: normal;\r\n        font-style: normal;\r\n        font-stretch: normal;\r\n        line-height: 1.5;\r\n        letter-spacing: normal;\r\n        color: #acb3bf;\r\n        white-space: nowrap;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        Display: inline-block;\r\n        cursor: default;\r\n\r\n      }\r\n    `\r\n  ]\r\n})\r\nexport class CmacsBreadcrumbComponent implements OnInit, OnDestroy {\r\n  @Input() @InputBoolean() cmacsAutoGenerate = false;\r\n  @Input() cmacsSeparator: string | TemplateRef<void> = '/';\r\n\r\n  breadcrumbs: BreadcrumbOption[] | undefined = [];\r\n\r\n  private destroy$ = new Subject<void>();\r\n\r\n  constructor(\r\n    private injector: Injector,\r\n    private ngZone: NgZone,\r\n    private cd: ChangeDetectorRef,\r\n    elementRef: ElementRef,\r\n    renderer: Renderer2\r\n  ) {\r\n    renderer.addClass(elementRef.nativeElement, 'ant-breadcrumb');\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    if (this.cmacsAutoGenerate) {\r\n      try {\r\n        const activatedRoute = this.injector.get(ActivatedRoute);\r\n        activatedRoute.url.pipe(takeUntil(this.destroy$)).subscribe(() => {\r\n          this.breadcrumbs = this.getBreadcrumbs(activatedRoute.root);\r\n          this.cd.markForCheck();\r\n        });\r\n      } catch (e) {\r\n        throw new Error('[NG-ZORRO] You should import RouterModule if you want to use cmacsAutoGenerate');\r\n      }\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  navigate(url: string, e: MouseEvent): void {\r\n    e.preventDefault();\r\n    this.ngZone\r\n      .run(() =>\r\n        this.injector\r\n          .get(Router)\r\n          .navigateByUrl(url)\r\n          .then()\r\n      )\r\n      .then();\r\n  }\r\n\r\n  private getBreadcrumbs(\r\n    route: ActivatedRoute,\r\n    url: string = '',\r\n    breadcrumbs: BreadcrumbOption[] = []\r\n  ): BreadcrumbOption[] | undefined {\r\n    const children: ActivatedRoute[] = route.children;\r\n    // If there's no sub root, then stop the recurse and returns the generated breadcrumbs.\r\n    if (children.length === 0) {\r\n      return breadcrumbs;\r\n    }\r\n    for (const child of children) {\r\n      if (child.outlet === PRIMARY_OUTLET) {\r\n        // Only parse components in primary router-outlet (in another word, router-outlet without a specific name).\r\n        // Parse this layer and generate a breadcrumb item.\r\n        const routeURL: string = child.snapshot.url.map(segment => segment.path).join('/');\r\n        const nextUrl = url + `/${routeURL}`;\r\n        // If have data, go to generate a breadcrumb for it.\r\n        if (child.snapshot.data.hasOwnProperty(CMACS_ROUTE_DATA_BREADCRUMB)) {\r\n          const breadcrumb: BreadcrumbOption = {\r\n            label: child.snapshot.data[CMACS_ROUTE_DATA_BREADCRUMB] || 'Breadcrumb',\r\n            params: child.snapshot.params,\r\n            url: nextUrl\r\n          };\r\n          breadcrumbs.push(breadcrumb);\r\n        }\r\n        return this.getBreadcrumbs(child, nextUrl, breadcrumbs);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n","import { ChangeDetectionStrategy, Component, ViewEncapsulation } from '@angular/core';\r\n\r\nimport {CmacsBreadcrumbComponent} from './cmacs-breadcrumb.component';\r\n\r\n@Component({\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  selector: 'cmacs-breadcrumb-item',\r\n  exportAs: 'cmacsBreadcrumbItem',\r\n  preserveWhitespaces: false,\r\n  templateUrl: 'cmacs-breadcrumb-item.component.html',\r\n  styleUrls: ['./cmacs-breadcrumb-item.component.css'],\r\n  styles: [\r\n    `\r\n      cmacs-breadcrumb-item:last-child {\r\n        color: #656c79;\r\n      }\r\n\r\n      cmacs-breadcrumb-item:last-child .ant-breadcrumb-separator {\r\n        display: none;\r\n      }\r\n    `\r\n  ]\r\n})\r\nexport class CmacsBreadcrumbItemComponent {\r\n  constructor(public cmacsBreadcrumbComponent: CmacsBreadcrumbComponent) {}\r\n}\r\n","import { ChangeDetectionStrategy, Component, TemplateRef, ViewChild, ViewEncapsulation } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'cmacs-card-tab',\r\n  exportAs: 'cmacsCardTab',\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  templateUrl: './cmacs-card-tab.component.html'\r\n})\r\nexport class CmacsCardTabComponent {\r\n  @ViewChild(TemplateRef) template: TemplateRef<void>;\r\n}\r\n","import {\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ContentChild,\r\n  ElementRef, EventEmitter, forwardRef, HostListener,\r\n  Input, OnChanges, OnInit, Output,\r\n  Renderer2, SimpleChanges,\r\n  TemplateRef, ViewChild,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { InputBoolean } from 'ng-zorro-antd/core';\r\nimport { CmacsCardTabComponent } from './cmacs-card-tab.component';\r\nimport { VgAPI } from \"videogular2/compiled/src/core/services/vg-api\";\r\nimport { Source } from \"../cmacs-video-player/cmacs-video-player.component\";\r\nimport { DomSanitizer } from \"@angular/platform-browser\";\r\n\r\nexport type CmacsCardType = 'file' | 'selection' |\r\n  'action' | 'team' | 'project' | 'folder' | 'measure' | 'weather' |\r\n  'big-file' | 'none' | 'video' | 'todo';\r\n\r\nexport interface BigFile {\r\n  title?: string;\r\n  extension?: string;\r\n  created_at?: string;\r\n}\r\n\r\nexport interface Weather {\r\n  temp?: number,\r\n  temp_min?: number,\r\n  temp_max?: number,\r\n  humidity?: number,\r\n  description?: string,\r\n  icon?: string,\r\n  clouds_all?: number,\r\n  wind_speed?: number\r\n}\r\n\r\n@Component({\r\n  selector: 'cmacs-card',\r\n  exportAs: 'cmacsCard',\r\n  preserveWhitespaces: false,\r\n  encapsulation: ViewEncapsulation.None,\r\n  templateUrl: './cmacs-card.component.html',\r\n  styles: [\r\n    `cmacs-card {\r\n        display: block;\r\n      }\r\n    `\r\n  ],\r\n  host: {\r\n    '[class.ant-card-loading]': 'loading',\r\n    '[class.ant-card-bordered]': 'bordered',\r\n    '[class.ant-card-hoverable]': \"hoverable || cmacsType === 'selection'\",\r\n    '[class.ant-card-type-inner]': `type === 'inner'`,\r\n    '[class.ant-card-contain-tabs]': '!!tab',\r\n    '[class.cmacs-card-files-wrapper]': \"cmacsType === 'file'\",\r\n    '[class.cmacs-card-measure-wrapper]': \"cmacsType === 'measure'\",\r\n    '[class.cmacs-card-measure-wrapper-selected]': \"cmacsType === 'measure' && selected\",\r\n    '[class.cmacs-selection-card]': \"cmacsType === 'selection'\",\r\n    '[class.cmacs-card-selected]': \"cmacsType === 'selection' && selected\",\r\n    '[class.cmacs-card-disabled]': \"cmacsType === 'selection' && disabled\",\r\n    '[class.cmacs-action-card]': \"cmacsType === 'action'\",\r\n    '[class.cmacs-weather-card]': \"cmacsType === 'weather'\",\r\n    '[class.cmacs-big-file-card]': \"cmacsType === 'big-file'\",\r\n    '[class.cmacs-big-file-card-selected]': \"cmacsType === 'big-file' && selected\",\r\n    '[class.cmacs-action-card-disabled]': \"cmacsType === 'action' && disabled\",\r\n    '[class.cmacs-information-card]': \"cmacsType === 'team'\",\r\n    '[class.cmacs-team-card]': \"cmacsType === 'project'\",\r\n    '[class.cmacs-video-player-card]': \"cmacsType === 'video'\",\r\n    '[class.cmacs-todo-card]': \"cmacsType === 'todo'\",\r\n    '[class.cmacs-todo-card-selected]': \"cmacsType === 'todo' && selected\",\r\n    '[class.cmacs-team-card-selected]': \"cmacsType === 'project' && selected\",\r\n    '[class.cmacs-card-files-folders-wrapper]': \"cmacsType === 'folder'\",\r\n    '[class.file-card-selected]': \"cmacsType === 'folder' && selected\"\r\n  },\r\n  styleUrls: ['./cmacs-card.component.css'],\r\n})\r\nexport class CmacsCardComponent implements OnInit {\r\n  folderIcon = '';\r\n  isEditable = false;\r\n  @Input() @InputBoolean() bordered = true;\r\n  @Input() @InputBoolean() opened = false;\r\n  @Input() @InputBoolean() editable = false;\r\n  @Input() @InputBoolean() isRadio = false;\r\n  @Input() @InputBoolean() loading = false;\r\n  @Input() @InputBoolean() disabled = false;\r\n  @Input() @InputBoolean() hoverable = false;\r\n  @Input() @InputBoolean() useDefaultContent = false;\r\n  @Input() sources: Source[];\r\n  @Output() playerReady: EventEmitter<VgAPI> = new EventEmitter<VgAPI>();\r\n  @Input() bodyStyle: { [key: string]: string };\r\n  @Input() cover: TemplateRef<void>;\r\n  @Input() body: TemplateRef<void>;\r\n  @Input() actions: Array<TemplateRef<void>> = [];\r\n  @Input() team: any = [];\r\n  @Input() file: BigFile = null;\r\n  @Input() project: any = [];\r\n  @Input() todo: any;\r\n  @Input() weather: Weather;\r\n  @Input() celcius = true;\r\n  @Input() type: string;\r\n  @Input() cmacsType: CmacsCardType = 'none';\r\n  @Input() cmacsIcon: string = '';\r\n  @Input() cmacsIconOpenedFolder: string = 'iconUILarge-Folder';\r\n  @Input() cmacsIconClosedFolder: string = 'iconUILarge-Folder';\r\n  @Input() title: string | TemplateRef<void>;\r\n  @Input() labelTitle: string;\r\n  @Output() titleChange: EventEmitter<string> = new EventEmitter<string>();\r\n  @Input() extra: string | TemplateRef<void>;\r\n  @ContentChild(CmacsCardTabComponent) tab: CmacsCardTabComponent;\r\n  @Output() ondlclickCard = new EventEmitter<any>();\r\n  @Output() open = new EventEmitter<any>();\r\n  @Output() close = new EventEmitter<any>();\r\n  @Input() selected = false;\r\n  @Input() value: any;\r\n  @Output() selectedChange: EventEmitter<boolean> = new EventEmitter<boolean>();\r\n  @Output() goToModule = new EventEmitter<string>();\r\n  @Input() todoUserAssigned: TemplateRef<void>;\r\n\r\n  @Output() iconToDoClick = new EventEmitter<any>();\r\n\r\n  constructor(private cdr: ChangeDetectorRef,\r\n    renderer: Renderer2,\r\n    private sanitizer: DomSanitizer,\r\n    elementRef: ElementRef) {\r\n    renderer.addClass(elementRef.nativeElement, 'ant-card');\r\n  }\r\n\r\n  openMail($event: Event) {\r\n    $event.stopImmediatePropagation();\r\n    $event.preventDefault();\r\n    const link = `mailto: ${this.project.teamLead.email}`;\r\n    location.href = link;\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (this.cmacsType === 'folder') {\r\n      this.folderIcon = this.opened ? this.cmacsIconOpenedFolder : this.cmacsIconClosedFolder;\r\n    }\r\n    this.isEditable = this.editable;\r\n  }\r\n\r\n  onPlayerReady(api: VgAPI) {\r\n    this.playerReady.emit(api);\r\n  }\r\n\r\n\r\n  checkRadio() {\r\n    this.selectedChange.emit(this.selected);\r\n  }\r\n\r\n  @HostListener('click', ['$event']) onClick(event: Event) {\r\n    if (!this.useDefaultContent || this.cmacsType === 'big-file') {\r\n      this.select(event);\r\n    }\r\n  }\r\n\r\n  @HostListener('dblclick', ['$event']) onDblClick(event: Event) {\r\n    if (this.cmacsType === 'folder' && !this.useDefaultContent) {\r\n      this.opened = !this.opened;\r\n      this.folderIcon = this.opened ? this.cmacsIconOpenedFolder : this.cmacsIconClosedFolder;\r\n      if (this.opened) {\r\n        this.open.emit();\r\n      } else {\r\n        this.close.emit();\r\n      }\r\n    }\r\n    if (this.cmacsType === 'project') {\r\n      this.ondlclickCard.emit(this.project);\r\n    }\r\n  }\r\n\r\n  tapTimeoutHandler = null;\r\n\r\n  @HostListener('touchstart', ['$event']) onTouchStart($event: Event) {\r\n    $event.preventDefault();\r\n    if (!this.tapTimeoutHandler) {\r\n      this.tapTimeoutHandler = setTimeout(() => {\r\n        this.onClick($event);\r\n        this.tapTimeoutHandler = null;\r\n      }, 300);\r\n    } else {\r\n      clearTimeout(this.tapTimeoutHandler);\r\n      this.tapTimeoutHandler = null;\r\n      this.onDblClick($event);\r\n    }\r\n  }\r\n\r\n  markForCheck(): void {\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  select(event: Event) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    if (!this.disabled) {\r\n      if (!this.isRadio) {\r\n        this.selected = !this.selected;\r\n      } else {\r\n        this.selected = this.selected ? this.selected : !this.selected;\r\n      }\r\n      this.selectedChange.emit(this.selected);\r\n    }\r\n  }\r\n\r\n  handleEnter(event: KeyboardEvent, titleContainer, titleSpan) {\r\n    event.preventDefault();\r\n    event.stopImmediatePropagation();\r\n    titleContainer.style.textOverflow = 'ellipsis';\r\n    const text = titleSpan.innerText.replace(/(\\r\\n|\\n|\\r)/gm, \"\");\r\n    titleSpan.innerText = text;\r\n    this.isEditable = false;\r\n    this.titleChange.emit(text);\r\n  }\r\n\r\n  handleEdit(event: KeyboardEvent, titleSpan) {\r\n    const text = titleSpan.innerText.replace(/(\\r\\n|\\n|\\r)/gm, \"\");\r\n    this.titleChange.emit(text);\r\n  }\r\n\r\n  toggleEdit(titleContainer) {\r\n    this.isEditable = this.editable;\r\n    if (this.isEditable) {\r\n      titleContainer.style.textOverflow = 'initial';\r\n    }\r\n  }\r\n\r\n  getInitials(name: any) {\r\n    let initials = name.match(/\\b\\w/g) || [];\r\n    initials = ((initials.shift() || '') + (initials.pop() || '')).toUpperCase();\r\n    return initials;\r\n  }\r\n\r\n  getBackgroundImage() {\r\n    return this.sanitizer.bypassSecurityTrustStyle('url(\\'' + this.project.projectImage + '\\')');\r\n  }\r\n\r\n  iconsToDoClick(icon: string) {\r\n    this.iconToDoClick.next({ icon, id: this.todo.UniqueId });\r\n  }\r\n\r\n  goToModuleToDo(event: any, url: string) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n\r\n    this.goToModule.emit(url);\r\n  }\r\n\r\n  buildLabel(value: string): string {\r\n    let result = '&nbsp;';\r\n    if (value.length > 20) {\r\n      result = `${value.slice(0, 20)}...`;\r\n    } else if (value !== undefined && value !== null && value !== '' && value.length > 0) {\r\n      result = value;\r\n    }\r\n    return result;\r\n  }\r\n}\r\n","import { ChangeDetectionStrategy, Component, ElementRef, Renderer2, ViewEncapsulation } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'cmacs-card-loading',\r\n  exportAs: 'cmacsCardLoading',\r\n  templateUrl: './cmacs-card-loading.component.html',\r\n  preserveWhitespaces: false,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  styles: [\r\n    `\r\n      cmacs-card-loading {\r\n        display: block;\r\n      }\r\n    `\r\n  ]\r\n})\r\nexport class CmacsCardLoadingComponent {\r\n  constructor(elementRef: ElementRef, renderer: Renderer2) {\r\n    renderer.addClass(elementRef.nativeElement, 'ant-card-loading-content');\r\n  }\r\n}\r\n","import {\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  ElementRef,\r\n  Input,\r\n  Renderer2,\r\n  TemplateRef,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'cmacs-card-meta',\r\n  exportAs: 'cmacsCardMeta',\r\n  preserveWhitespaces: false,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  templateUrl: './cmacs-card-meta.component.html',\r\n  styles: [\r\n    `\r\n      cmacs-card-meta {\r\n        display: block;\r\n      }\r\n    `\r\n  ]\r\n})\r\nexport class CmacsCardMetaComponent {\r\n  @Input() title: string | TemplateRef<void>;\r\n  @Input() description: string | TemplateRef<void>;\r\n  @Input() avatar: TemplateRef<void>;\r\n\r\n  constructor(elementRef: ElementRef, renderer: Renderer2) {\r\n    renderer.addClass(elementRef.nativeElement, 'ant-card-meta');\r\n  }\r\n}\r\n","import { Directive, ElementRef, Renderer2 } from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[cmacs-card-grid]',\r\n  exportAs: 'cmacsCardGrid'\r\n})\r\nexport class CmacsCardGridDirective {\r\n  constructor(elementRef: ElementRef, renderer: Renderer2) {\r\n    renderer.addClass(elementRef.nativeElement, 'ant-card-grid');\r\n  }\r\n}\r\n","\r\nimport { Directive } from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[cmacsDateCell]',\r\n  exportAs: 'cmacsDateCell'\r\n})\r\nexport class CmacsDateCellDirective {}\r\n\r\n@Directive({\r\n  selector: '[cmacsMonthCell]',\r\n  exportAs: 'cmacsMonthCell'\r\n})\r\nexport class CmacsMonthCellDirective {}\r\n\r\n@Directive({\r\n  selector: '[cmacsDateFullCell]',\r\n  exportAs: 'cmacsDateFullCell'\r\n})\r\nexport class CmacsDateFullCellDirective {}\r\n\r\n@Directive({\r\n  selector: '[cmacsMonthFullCell]',\r\n  exportAs: 'cmacsMonthFullCell'\r\n})\r\nexport class CmacsMonthFullCellDirective {}\r\n\r\n","\r\nimport {\r\n    ChangeDetectionStrategy,\r\n    Component,\r\n    EventEmitter,\r\n    Input,\r\n    OnInit,\r\n    Output,\r\n    ViewEncapsulation\r\n} from '@angular/core';\r\nimport { setMonth } from 'date-fns';\r\n\r\nimport { DateHelperService, NzI18nService as I18n } from 'ng-zorro-antd/i18n';\r\n \r\n@Component({\r\n    encapsulation: ViewEncapsulation.None,\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n    selector: 'cmacs-calendar-header',\r\n    exportAs: 'cmacsCalendarHeader',\r\n    templateUrl: './cmacs-calendar-header.component.html',\r\n    host: {\r\n        '[style.display]': `'block'`,\r\n        '[class.ant-fullcalendar-header]': `true`\r\n    }\r\n})\r\nexport class CmacsCalendarHeaderComponent implements OnInit {\r\n    @Input() mode: 'month' | 'year' = 'month';\r\n    @Output() readonly modeChange: EventEmitter<'month' | 'year'> = new EventEmitter();\r\n\r\n    @Input() fullscreen = true;\r\n\r\n    @Input()\r\n    set activeDate(value: Date) {\r\n        this._activeDate = value;\r\n        this.setUpYears();\r\n    }\r\n\r\n    get activeDate(): Date {\r\n        return this._activeDate;\r\n    }\r\n\r\n    @Output() readonly yearChange: EventEmitter<number> = new EventEmitter();\r\n    @Output() readonly monthChange: EventEmitter<number> = new EventEmitter();\r\n\r\n    _activeDate = new Date();\r\n    yearOffset: number = 10;\r\n    yearTotal: number = 20;\r\n    years: Array<{ label: string; value: number }>;\r\n    months: Array<{ label: string; value: number }>;\r\n\r\n    get activeYear(): number {\r\n        return this.activeDate.getFullYear();\r\n    }\r\n\r\n    get activeMonth(): number {\r\n        return this.activeDate.getMonth();\r\n    }\r\n\r\n    get size(): string {\r\n        return this.fullscreen ? 'default' : 'small';\r\n    }\r\n\r\n    get yearTypeText(): string {\r\n        return this.i18n.getLocale().Calendar.year;\r\n    }\r\n\r\n    get monthTypeText(): string {\r\n        return this.i18n.getLocale().Calendar.month;\r\n    }\r\n\r\n    constructor(private i18n: I18n, private dateHelper: DateHelperService) {}\r\n\r\n    ngOnInit(): void {\r\n        this.setUpYears();\r\n        this.setUpMonths();\r\n    }\r\n\r\n    updateYear(year: number): void {\r\n        this.yearChange.emit(year);\r\n        this.setUpYears(year);\r\n    }\r\n\r\n    private setUpYears(year?: number): void {\r\n        const start = (year || this.activeYear) - this.yearOffset;\r\n        const end = start + this.yearTotal;\r\n\r\n        this.years = [];\r\n        for (let i = start; i < end; i++) {\r\n        this.years.push({ label: `${i}`, value: i });\r\n        }\r\n    }\r\n\r\n    private setUpMonths(): void {\r\n        this.months = [];\r\n\r\n        for (let i = 0; i < 12; i++) {\r\n        const dateInMonth = setMonth(this.activeDate, i);\r\n        const monthText = this.dateHelper.format(dateInMonth, 'MMM');\r\n        this.months.push({ label: monthText, value: i });\r\n        }\r\n    }\r\n}\r\n","\r\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\r\nimport {\r\n  forwardRef,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ContentChild,\r\n  EventEmitter,\r\n  HostBinding,\r\n  Input,\r\n  OnInit,\r\n  Output,\r\n  TemplateRef,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport {\r\n  addDays,\r\n  differenceInCalendarDays,\r\n  differenceInCalendarMonths,\r\n  differenceInCalendarWeeks,\r\n  endOfMonth,\r\n  isSameDay,\r\n  isSameMonth,\r\n  isSameYear,\r\n  isThisMonth,\r\n  isThisYear,\r\n  setMonth,\r\n  setYear,\r\n  startOfMonth,\r\n  startOfWeek,\r\n  startOfYear\r\n} from 'date-fns';\r\n\r\nimport { DateHelperService, NzI18nService } from 'ng-zorro-antd/i18n';\r\n\r\nimport {\r\n  CmacsDateCellDirective as DateCell,\r\n  CmacsDateFullCellDirective as DateFullCell,\r\n  CmacsMonthCellDirective as MonthCell,\r\n  CmacsMonthFullCellDirective as MonthFullCell\r\n} from './cmacs-calendar-cell.directive';\r\n\r\nexport type ModeType = 'month' | 'year';\r\n\r\n@Component({\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  selector: 'cmacs-calendar',\r\n  exportAs: 'cmacsCalendar',\r\n  templateUrl: './cmacs-calendar.component.html',\r\n  providers: [{ provide: NG_VALUE_ACCESSOR, useExisting: forwardRef(() => CmacsCalendarComponent), multi: true }]\r\n})\r\nexport class CmacsCalendarComponent implements ControlValueAccessor, OnInit {\r\n  @Input('mode') nzMode: ModeType = 'month';\r\n  @Output('modeChange') readonly nzModeChange: EventEmitter<ModeType> = new EventEmitter();\r\n  @Output('panelChange') readonly nzPanelChange: EventEmitter<{ date: Date; mode: ModeType }> = new EventEmitter();\r\n\r\n  @Output('selectChange') readonly nzSelectChange: EventEmitter<Date> = new EventEmitter();\r\n\r\n  @Input('value') set nzValue(value: Date) {\r\n    this.updateDate(value, false);\r\n  }\r\n  @Output('valueChange') readonly nzValueChange: EventEmitter<Date> = new EventEmitter();\r\n\r\n  @Input('dateCell')\r\n  set nzDateCell(value: TemplateRef<{ $implicit: Date }>) {\r\n    this.dateCell = value;\r\n  }\r\n\r\n  @Input('dateFullCell')\r\n  set nzDateFullCell(value: TemplateRef<{ $implicit: Date }>) {\r\n    this.dateFullCell = value;\r\n  }\r\n\r\n  @Input('monthCell')\r\n  set nzMonthCell(value: TemplateRef<{ $implicit: Date }>) {\r\n    this.monthCell = value;\r\n  }\r\n\r\n  @Input('monthFullCell')\r\n  set nzMonthFullCell(value: TemplateRef<{ $implicit: Date }>) {\r\n    this.monthFullCell = value;\r\n  }\r\n\r\n  @Input('fullScreen')\r\n  set nzFullscreen(value: boolean) {\r\n    this.fullscreen = coerceBooleanProperty(value);\r\n  }\r\n  get nzFullscreen(): boolean {\r\n    return this.fullscreen;\r\n  }\r\n\r\n  @Input('card')\r\n  set nzCard(value: boolean) {\r\n    this.fullscreen = !coerceBooleanProperty(value);\r\n  }\r\n  get nzCard(): boolean {\r\n    return !this.fullscreen;\r\n  }\r\n\r\n  @ContentChild(DateCell, { read: TemplateRef })\r\n  set dateCellChild(value: TemplateRef<{ $implicit: Date }>) {\r\n    if (value) {\r\n      this.dateCell = value;\r\n    }\r\n  }\r\n\r\n  @ContentChild(DateFullCell, { read: TemplateRef })\r\n  set dateFullCellChild(value: TemplateRef<{ $implicit: Date }>) {\r\n    if (value) {\r\n      this.dateFullCell = value;\r\n    }\r\n  }\r\n\r\n  @ContentChild(MonthCell, { read: TemplateRef })\r\n  set monthCellChild(value: TemplateRef<{ $implicit: Date }>) {\r\n    if (value) {\r\n      this.monthCell = value;\r\n    }\r\n  }\r\n\r\n  @ContentChild(MonthFullCell, { read: TemplateRef })\r\n  set monthFullCellChild(value: TemplateRef<{ $implicit: Date }>) {\r\n    if (value) {\r\n      this.monthFullCell = value;\r\n    }\r\n  }\r\n\r\n  @HostBinding('class.ant-fullcalendar--fullscreen')\r\n  fullscreen = true;\r\n\r\n  daysInWeek: DayCellContext[] = [];\r\n  monthsInYear: MonthCellContext[] = [];\r\n  dateMatrix: DateCellContext[][] = [];\r\n  activeDate: Date = new Date();\r\n  currentDateRow: number = -1;\r\n  currentDateCol: number = -1;\r\n  activeDateRow: number = -1;\r\n  activeDateCol: number = -1;\r\n  currentMonthRow: number = -1;\r\n  currentMonthCol: number = -1;\r\n  activeMonthRow: number = -1;\r\n  activeMonthCol: number = -1;\r\n  dateCell: TemplateRef<{ $implicit: Date }> | null = null;\r\n  dateFullCell: TemplateRef<{ $implicit: Date }> | null = null;\r\n  monthCell: TemplateRef<{ $implicit: Date }> | null = null;\r\n  monthFullCell: TemplateRef<{ $implicit: Date }> | null = null;\r\n\r\n  private currentDate = new Date();\r\n  private onChangeFn: (date: Date) => void = () => { };\r\n  private onTouchFn: () => void = () => { };\r\n\r\n  private get calendarStart(): Date {\r\n    return startOfWeek(startOfMonth(this.activeDate), { weekStartsOn: this.dateHelper.getFirstDayOfWeek() });\r\n  }\r\n\r\n  constructor(private i18n: NzI18nService, private cdr: ChangeDetectorRef, private dateHelper: DateHelperService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.setUpDaysInWeek();\r\n    this.setUpMonthsInYear();\r\n    this.setUpDateMatrix();\r\n    this.calculateCurrentDate();\r\n    this.calculateActiveDate();\r\n    this.calculateCurrentMonth();\r\n    this.calculateActiveMonth();\r\n  }\r\n\r\n  onModeChange(mode: ModeType): void {\r\n    this.nzModeChange.emit(mode);\r\n    this.nzPanelChange.emit({ date: this.activeDate, mode });\r\n  }\r\n\r\n  onDateSelect(date: Date): void {\r\n    this.updateDate(date);\r\n    this.nzSelectChange.emit(date);\r\n  }\r\n\r\n  onYearSelect(year: number): void {\r\n    const date = setYear(this.activeDate, year);\r\n    this.updateDate(date);\r\n    this.nzSelectChange.emit(date);\r\n  }\r\n\r\n  onMonthSelect(month: number): void {\r\n    const date = setMonth(this.activeDate, month);\r\n    this.updateDate(date);\r\n    this.nzSelectChange.emit(date);\r\n  }\r\n\r\n  writeValue(value: Date | null): void {\r\n    this.updateDate(value || new Date(), false);\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  registerOnChange(fn: (date: Date) => void): void {\r\n    this.onChangeFn = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: () => void): void {\r\n    this.onTouchFn = fn;\r\n  }\r\n\r\n  private updateDate(date: Date, touched: boolean = true): void {\r\n    const dayChanged = !isSameDay(date, this.activeDate);\r\n    const monthChanged = !isSameMonth(date, this.activeDate);\r\n    const yearChanged = !isSameYear(date, this.activeDate);\r\n\r\n    this.activeDate = date;\r\n\r\n    if (dayChanged) {\r\n      this.calculateActiveDate();\r\n    }\r\n    if (monthChanged) {\r\n      this.setUpDateMatrix();\r\n      this.calculateCurrentDate();\r\n      this.calculateActiveMonth();\r\n    }\r\n    if (yearChanged) {\r\n      this.calculateCurrentMonth();\r\n    }\r\n\r\n    if (touched) {\r\n      this.onChangeFn(date);\r\n      this.onTouchFn();\r\n      this.nzValueChange.emit(date);\r\n    }\r\n  }\r\n\r\n  private setUpDaysInWeek(): void {\r\n    this.daysInWeek = [];\r\n    const weekStart = startOfWeek(this.activeDate, { weekStartsOn: this.dateHelper.getFirstDayOfWeek() });\r\n    for (let i = 0; i < 7; i++) {\r\n      const date = addDays(weekStart, i);\r\n      const title = this.dateHelper.format(date, this.dateHelper.relyOnDatePipe ? 'E' : 'ddd');\r\n      const label = this.dateHelper.format(date, this.dateHelper.relyOnDatePipe ? 'EEEEEE' : 'dd');\r\n      this.daysInWeek.push({ title, label });\r\n    }\r\n  }\r\n\r\n  private setUpMonthsInYear(): void {\r\n    this.monthsInYear = [];\r\n    for (let i = 0; i < 12; i++) {\r\n      const date = setMonth(this.activeDate, i);\r\n      const title = this.dateHelper.format(date, 'MMM');\r\n      const label = this.dateHelper.format(date, 'MMM');\r\n      const start = startOfMonth(date);\r\n      this.monthsInYear.push({ title, label, start });\r\n    }\r\n  }\r\n\r\n  private setUpDateMatrix(): void {\r\n    this.dateMatrix = [];\r\n    const monthStart = startOfMonth(this.activeDate);\r\n    const monthEnd = endOfMonth(this.activeDate);\r\n    const weekDiff =\r\n      differenceInCalendarWeeks(monthEnd, monthStart, { weekStartsOn: this.dateHelper.getFirstDayOfWeek() }) + 2;\r\n\r\n    for (let week = 0; week < weekDiff; week++) {\r\n      const row: DateCellContext[] = [];\r\n      const weekStart = addDays(this.calendarStart, week * 7);\r\n\r\n      for (let day = 0; day < 7; day++) {\r\n        const date = addDays(weekStart, day);\r\n        const monthDiff = differenceInCalendarMonths(date, this.activeDate);\r\n        const dateFormat = this.dateHelper.relyOnDatePipe\r\n          ? 'longDate'\r\n          : this.i18n.getLocaleData('DatePicker.lang.dateFormat', 'YYYY-MM-DD');\r\n        const title = this.dateHelper.format(date, dateFormat);\r\n        const label = this.dateHelper.format(date, this.dateHelper.relyOnDatePipe ? 'dd' : 'DD');\r\n        const rel = monthDiff === 0 ? 'current' : monthDiff < 0 ? 'last' : 'next';\r\n        row.push({ title, label, rel, value: date });\r\n      }\r\n      this.dateMatrix.push(row);\r\n    }\r\n  }\r\n\r\n  private calculateCurrentDate(): void {\r\n    if (isThisMonth(this.activeDate)) {\r\n      this.currentDateRow = differenceInCalendarWeeks(this.currentDate, this.calendarStart, {\r\n        weekStartsOn: this.dateHelper.getFirstDayOfWeek()\r\n      });\r\n      this.currentDateCol = differenceInCalendarDays(\r\n        this.currentDate,\r\n        addDays(this.calendarStart, this.currentDateRow * 7)\r\n      );\r\n    } else {\r\n      this.currentDateRow = -1;\r\n      this.currentDateCol = -1;\r\n    }\r\n  }\r\n\r\n  private calculateActiveDate(): void {\r\n    this.activeDateRow = differenceInCalendarWeeks(this.activeDate, this.calendarStart, {\r\n      weekStartsOn: this.dateHelper.getFirstDayOfWeek()\r\n    });\r\n    this.activeDateCol = differenceInCalendarDays(this.activeDate, addDays(this.calendarStart, this.activeDateRow * 7));\r\n  }\r\n\r\n  private calculateCurrentMonth(): void {\r\n    if (isThisYear(this.activeDate)) {\r\n      const yearStart = startOfYear(this.currentDate);\r\n      const monthDiff = differenceInCalendarMonths(this.currentDate, yearStart);\r\n      this.currentMonthRow = Math.floor(monthDiff / 3);\r\n      this.currentMonthCol = monthDiff % 3;\r\n    } else {\r\n      this.currentMonthRow = -1;\r\n      this.currentMonthCol = -1;\r\n    }\r\n  }\r\n\r\n  private calculateActiveMonth(): void {\r\n    this.activeMonthRow = Math.floor(this.activeDate.getMonth() / 3);\r\n    this.activeMonthCol = this.activeDate.getMonth() % 3;\r\n  }\r\n}\r\n\r\nexport interface DayCellContext {\r\n  title: string;\r\n  label: string;\r\n}\r\n\r\nexport interface MonthCellContext {\r\n  title: string;\r\n  label: string;\r\n  start: Date;\r\n}\r\n\r\nexport interface DateCellContext {\r\n  title: string;\r\n  label: string;\r\n  rel: 'last' | 'current' | 'next';\r\n  value: Date;\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  EventEmitter,\r\n  Input,\r\n  Output,\r\n  TemplateRef,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\n\r\nimport { isNonEmptyString, isTemplateRef } from 'ng-zorro-antd/core';\r\nimport { NzCalendarI18nInterface } from 'ng-zorro-antd/i18n';\r\nimport { CandyDate } from '../candy-date/candy-date';\r\n\r\n@Component({\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  // tslint:disable-next-line:component-selector\r\n  selector: 'calendar-footer',\r\n  exportAs: 'calendarFooter',\r\n  templateUrl: 'calendar-footer.component.html'\r\n})\r\nexport class CalendarFooterComponent {\r\n  @Input() locale: NzCalendarI18nInterface;\r\n  @Input() showToday: boolean = false;\r\n  @Input() hasTimePicker: boolean = false;\r\n  @Input() isRange: boolean = false;\r\n\r\n  @Input() showTimePicker: boolean = false;\r\n  @Output() readonly showTimePickerChange = new EventEmitter<boolean>();\r\n\r\n  @Input() timePickerDisabled: boolean = false;\r\n  @Input() okDisabled: boolean = false;\r\n  @Input() disabledDate: (d: Date) => boolean;\r\n  @Input() extraFooter: TemplateRef<void> | string;\r\n  @Input() rangeQuickSelector: TemplateRef<void>;\r\n\r\n  @Output() readonly clickOk = new EventEmitter<void>();\r\n  @Output() readonly clickToday = new EventEmitter<CandyDate>();\r\n\r\n  prefixCls: string = 'ant-calendar';\r\n  isTemplateRef = isTemplateRef;\r\n  isNonEmptyString = isNonEmptyString;\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  EventEmitter,\r\n  Input,\r\n  OnChanges,\r\n  OnInit,\r\n  Output,\r\n  SimpleChanges,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\n\r\nimport { DateHelperByDatePipe, DateHelperService, NzCalendarI18nInterface } from 'ng-zorro-antd/i18n';\r\n\r\nimport { PanelMode } from '../../standard-types';\r\nimport { CandyDate } from '../candy-date/candy-date';\r\n\r\n@Component({\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  // tslint:disable-next-line:component-selector\r\n  selector: 'calendar-header',\r\n  exportAs: 'calendarHeader',\r\n  templateUrl: 'calendar-header.component.html'\r\n})\r\nexport class CalendarHeaderComponent implements OnInit, OnChanges {\r\n  @Input() locale: NzCalendarI18nInterface;\r\n  @Input() enablePrev: boolean = true;\r\n  @Input() enableNext: boolean = true;\r\n  @Input() disabledMonth: (date: Date) => boolean;\r\n  @Input() disabledYear: (date: Date) => boolean;\r\n  @Input() showTimePicker: boolean = false;\r\n\r\n  @Input() value: CandyDate;\r\n  @Output() readonly valueChange = new EventEmitter<CandyDate>();\r\n\r\n  @Input() panelMode: PanelMode;\r\n  @Output() readonly panelModeChange = new EventEmitter<PanelMode>();\r\n\r\n  @Output() readonly chooseDecade = new EventEmitter<CandyDate>();\r\n  @Output() readonly chooseYear = new EventEmitter<CandyDate>();\r\n  @Output() readonly chooseMonth = new EventEmitter<CandyDate>();\r\n\r\n  prefixCls: string = 'ant-calendar';\r\n  yearMonthDaySelectors: YearMonthDaySelector[];\r\n\r\n  private yearToMonth: boolean = false; // Indicate whether should change to month panel when current is year panel (if referer=month, it should show month panel when choosed a year)\r\n\r\n  constructor(private dateHelper: DateHelperService) {}\r\n\r\n  ngOnInit(): void {\r\n    if (!this.value) {\r\n      this.value = new CandyDate(); // Show today by default\r\n    }\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes.value || changes.showTimePicker || changes.panelMode) {\r\n      this.render();\r\n    }\r\n  }\r\n\r\n  previousYear(): void {\r\n    this.gotoYear(-1);\r\n  }\r\n\r\n  nextYear(): void {\r\n    this.gotoYear(1);\r\n  }\r\n\r\n  previousMonth(): void {\r\n    this.gotoMonth(-1);\r\n  }\r\n\r\n  nextMonth(): void {\r\n    this.gotoMonth(1);\r\n  }\r\n\r\n  changePanel(mode: PanelMode, value?: CandyDate): void {\r\n    this.panelModeChange.emit(mode);\r\n    if (value) {\r\n      this.changeValueFromInside(value);\r\n    }\r\n  }\r\n\r\n  onChooseDecade(value: CandyDate): void {\r\n    this.changePanel('year', value);\r\n    this.chooseDecade.emit(value);\r\n  }\r\n\r\n  onChooseYear(value: CandyDate): void {\r\n    this.changePanel(this.yearToMonth ? 'month' : 'date', value);\r\n    this.yearToMonth = false; // Clear\r\n    this.chooseYear.emit(value);\r\n  }\r\n\r\n  onChooseMonth(value: CandyDate): void {\r\n    this.changePanel('date', value);\r\n    this.yearToMonth = false; // Clear\r\n    this.chooseMonth.emit(value);\r\n  }\r\n\r\n  changeToMonthPanel(): void {\r\n    this.changePanel('month');\r\n    this.yearToMonth = true;\r\n  }\r\n\r\n  private render(): void {\r\n    if (this.value) {\r\n      this.yearMonthDaySelectors = this.createYearMonthDaySelectors();\r\n    }\r\n  }\r\n\r\n  private gotoMonth(amount: number): void {\r\n    this.changeValueFromInside(this.value.addMonths(amount));\r\n  }\r\n\r\n  private gotoYear(amount: number): void {\r\n    this.changeValueFromInside(this.value.addYears(amount));\r\n  }\r\n\r\n  private changeValueFromInside(value: CandyDate): void {\r\n    if (this.value !== value) {\r\n      this.value = value;\r\n      this.valueChange.emit(this.value);\r\n      this.render();\r\n    }\r\n  }\r\n\r\n  private formatDateTime(localeFormat: string): string {\r\n    return this.dateHelper.format(this.value.nativeDate, localeFormat);\r\n  }\r\n\r\n  private createYearMonthDaySelectors(): YearMonthDaySelector[] {\r\n    let year: YearMonthDaySelector;\r\n    let month: YearMonthDaySelector;\r\n    let day: YearMonthDaySelector;\r\n\r\n    // NOTE: Compat for DatePipe formatting rules\r\n    let yearFormat: string = this.locale.yearFormat;\r\n    if (this.dateHelper.relyOnDatePipe) {\r\n      yearFormat = (this.dateHelper as DateHelperByDatePipe).transCompatFormat(yearFormat);\r\n    }\r\n    year = {\r\n      className: `${this.prefixCls}-year-select`,\r\n      title: this.locale.yearSelect,\r\n      onClick: () => (this.showTimePicker ? null : this.changePanel('year')),\r\n      label: this.formatDateTime(yearFormat)\r\n    };\r\n\r\n    month = {\r\n      className: `${this.prefixCls}-month-select`,\r\n      title: this.locale.monthSelect,\r\n      onClick: () => (this.showTimePicker ? null : this.changeToMonthPanel()),\r\n      label: this.formatDateTime(this.locale.monthFormat || 'MMM')\r\n    };\r\n\r\n    // NOTE: Compat for DatePipe formatting rules\r\n    let dayFormat: string = this.locale.dayFormat;\r\n    if (this.dateHelper.relyOnDatePipe) {\r\n      dayFormat = (this.dateHelper as DateHelperByDatePipe).transCompatFormat(dayFormat);\r\n    }\r\n    if (this.showTimePicker) {\r\n      day = {\r\n        className: `${this.prefixCls}-day-select`,\r\n        label: this.formatDateTime(dayFormat)\r\n      };\r\n    }\r\n\r\n    let result: YearMonthDaySelector[];\r\n\r\n    if (this.locale.monthBeforeYear) {\r\n      result = [month, day!, year];\r\n    } else {\r\n      result = [year, month, day!];\r\n    }\r\n\r\n    return result.filter(selector => !!selector);\r\n  }\r\n}\r\n\r\nexport interface YearMonthDaySelector {\r\n  className: string;\r\n  title?: string;\r\n  label: string;\r\n  onClick?(): void;\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  EventEmitter,\r\n  Input,\r\n  OnInit,\r\n  Output,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\n\r\nimport { DateHelperService, NzCalendarI18nInterface } from 'ng-zorro-antd/i18n';\r\nimport { CandyDate } from '../candy-date/candy-date';\r\n\r\n@Component({\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  // tslint:disable-next-line:component-selector\r\n  selector: 'calendar-input',\r\n  exportAs: 'calendarInput',\r\n  templateUrl: 'calendar-input.component.html'\r\n})\r\nexport class CalendarInputComponent implements OnInit {\r\n  @Input() locale: NzCalendarI18nInterface;\r\n  @Input() format: string;\r\n  @Input() placeholder: string;\r\n  @Input() disabledDate: (d: Date) => boolean;\r\n\r\n  @Input() value: CandyDate;\r\n  @Output() readonly valueChange = new EventEmitter<CandyDate>();\r\n\r\n  prefixCls: string = 'ant-calendar';\r\n  invalidInputClass: string = '';\r\n\r\n  constructor(private dateHelper: DateHelperService) {}\r\n\r\n  ngOnInit(): void {}\r\n\r\n  onInputKeyup(event: Event): void {\r\n    const date = this.checkValidInputDate(event);\r\n\r\n    if (!date || (this.disabledDate && this.disabledDate(date.nativeDate))) {\r\n      return;\r\n    }\r\n\r\n    if (!date.isSame(this.value, 'second')) {\r\n      // Not same with original value\r\n      this.value = date;\r\n      this.valueChange.emit(this.value);\r\n    }\r\n  }\r\n\r\n  toReadableInput(value: CandyDate): string {\r\n    return value ? this.dateHelper.format(value.nativeDate, this.format) : '';\r\n  }\r\n\r\n  private checkValidInputDate(event: Event): CandyDate | null {\r\n    const input = (event.target as HTMLInputElement).value;\r\n    const date = new CandyDate(input);\r\n\r\n    this.invalidInputClass = '';\r\n    if (date.isInvalid() || input !== this.toReadableInput(date)) {\r\n      // Should also match the input format exactly\r\n      this.invalidInputClass = `${this.prefixCls}-input-invalid`;\r\n      return null;\r\n    }\r\n\r\n    return date;\r\n  }\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport { ChangeDetectionStrategy, Component, EventEmitter, Input, Output, ViewEncapsulation } from '@angular/core';\r\n\r\nimport { NzCalendarI18nInterface } from 'ng-zorro-antd/i18n';\r\n\r\n@Component({\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  // tslint:disable-next-line:component-selector\r\n  selector: 'ok-button',\r\n  exportAs: 'okButton',\r\n  templateUrl: 'ok-button.component.html'\r\n})\r\nexport class OkButtonComponent {\r\n  @Input() locale: NzCalendarI18nInterface;\r\n  @Input() okDisabled: boolean = false;\r\n  @Output() readonly clickOk = new EventEmitter<void>();\r\n\r\n  prefixCls: string = 'ant-calendar';\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport { ChangeDetectionStrategy, Component, EventEmitter, Input, Output, ViewEncapsulation } from '@angular/core';\r\n\r\nimport { NzCalendarI18nInterface } from 'ng-zorro-antd/i18n';\r\n\r\n@Component({\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  // tslint:disable-next-line:component-selector\r\n  selector: 'time-picker-button',\r\n  exportAs: 'timePickerButton',\r\n  templateUrl: 'time-picker-button.component.html'\r\n})\r\nexport class TimePickerButtonComponent {\r\n  @Input() locale: NzCalendarI18nInterface;\r\n  @Input() timePickerDisabled: boolean = false;\r\n\r\n  @Input() showTimePicker: boolean = false;\r\n  @Output() readonly showTimePickerChange = new EventEmitter<boolean>();\r\n\r\n  prefixCls: string = 'ant-calendar';\r\n\r\n  onClick(): void {\r\n    this.showTimePicker = !this.showTimePicker;\r\n    this.showTimePickerChange.emit(this.showTimePicker);\r\n  }\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  EventEmitter,\r\n  Input,\r\n  OnChanges,\r\n  OnInit,\r\n  Output,\r\n  SimpleChanges,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\n\r\nimport { DateHelperByDatePipe, DateHelperService, NzCalendarI18nInterface } from 'ng-zorro-antd/i18n';\r\nimport { CandyDate } from '../candy-date/candy-date';\r\n\r\n@Component({\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  // tslint:disable-next-line:component-selector\r\n  selector: 'today-button',\r\n  exportAs: 'todayButton',\r\n  templateUrl: 'today-button.component.html'\r\n})\r\nexport class TodayButtonComponent implements OnInit, OnChanges {\r\n  @Input() locale: NzCalendarI18nInterface;\r\n  @Input() hasTimePicker: boolean = false;\r\n  @Input() disabledDate: (d: Date) => boolean;\r\n\r\n  @Output() readonly clickToday = new EventEmitter<CandyDate>();\r\n\r\n  prefixCls: string = 'ant-calendar';\r\n  isDisabled: boolean = false;\r\n  title: string;\r\n\r\n  private now: CandyDate = new CandyDate();\r\n\r\n  constructor(private dateHelper: DateHelperService) {}\r\n\r\n  ngOnInit(): void {}\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes.disabledDate) {\r\n      this.isDisabled = this.disabledDate && this.disabledDate(this.now.nativeDate);\r\n    }\r\n    if (changes.locale) {\r\n      // NOTE: Compat for DatePipe formatting rules\r\n      let dateFormat: string = this.locale.dateFormat;\r\n      if (this.dateHelper.relyOnDatePipe) {\r\n        dateFormat = (this.dateHelper as DateHelperByDatePipe).transCompatFormat(dateFormat);\r\n      }\r\n      this.title = this.dateHelper.format(this.now.nativeDate, dateFormat);\r\n    }\r\n  }\r\n\r\n  onClickToday(): void {\r\n    this.clickToday.emit(this.now.clone()); // To prevent the \"now\" being modified from outside, we use clone\r\n  }\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  EventEmitter,\r\n  Input,\r\n  OnChanges,\r\n  OnInit,\r\n  Output,\r\n  SimpleChange,\r\n  SimpleChanges,\r\n  TemplateRef,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\n\r\nimport { isNonEmptyString, isTemplateRef, valueFunctionProp, FunctionProp } from 'ng-zorro-antd/core';\r\nimport { DateHelperByDatePipe, DateHelperService, NzCalendarI18nInterface, NzI18nService } from 'ng-zorro-antd/i18n';\r\nimport { CandyDate } from '../candy-date/candy-date';\r\n\r\nconst DATE_ROW_NUM = 6;\r\nconst DATE_COL_NUM = 7;\r\n\r\n@Component({\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  // tslint:disable-next-line:component-selector\r\n  selector: 'date-table',\r\n  exportAs: 'dateTable',\r\n  templateUrl: 'date-table.component.html'\r\n})\r\nexport class DateTableComponent implements OnInit, OnChanges {\r\n  @Input() locale: NzCalendarI18nInterface;\r\n  @Input() selectedValue: CandyDate[]; // Range ONLY\r\n  @Input() hoverValue: CandyDate[]; // Range ONLY\r\n\r\n  @Input() value: CandyDate;\r\n  @Output() readonly valueChange = new EventEmitter<CandyDate>();\r\n\r\n  @Input() showWeek: boolean;\r\n  @Input() disabledDate: (d: Date) => boolean;\r\n  @Input() dateRender: FunctionProp<TemplateRef<Date> | string>; // Customize date content while rendering\r\n\r\n  @Output() readonly dayHover = new EventEmitter<CandyDate>(); // Emitted when hover on a day by mouse enter\r\n\r\n  prefixCls = 'ant-calendar';\r\n  headWeekDays: WeekDayLabel[];\r\n  weekRows: WeekRow[];\r\n\r\n  isTemplateRef = isTemplateRef;\r\n  isNonEmptyString = isNonEmptyString;\r\n\r\n  constructor(private i18n: NzI18nService, private dateHelper: DateHelperService) {}\r\n\r\n  ngOnInit(): void {}\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (\r\n      this.isDateRealChange(changes.value) ||\r\n      this.isDateRealChange(changes.selectedValue) ||\r\n      this.isDateRealChange(changes.hoverValue)\r\n    ) {\r\n      this.render();\r\n    }\r\n  }\r\n\r\n  private isDateRealChange(change: SimpleChange): boolean {\r\n    if (change) {\r\n      const previousValue: CandyDate | CandyDate[] = change.previousValue;\r\n      const currentValue: CandyDate | CandyDate[] = change.currentValue;\r\n      if (Array.isArray(currentValue)) {\r\n        return (\r\n          !Array.isArray(previousValue) ||\r\n          currentValue.length !== previousValue.length ||\r\n          currentValue.some((value, index) => !this.isSameDate(previousValue[index], value))\r\n        );\r\n      } else {\r\n        return !this.isSameDate(previousValue as CandyDate, currentValue);\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  private isSameDate(left: CandyDate, right: CandyDate): boolean {\r\n    return (!left && !right) || (left && right && right.isSame(left, 'day'));\r\n  }\r\n\r\n  private render(): void {\r\n    if (this.value) {\r\n      this.headWeekDays = this.makeHeadWeekDays();\r\n      this.weekRows = this.makeWeekRows();\r\n    }\r\n  }\r\n\r\n  private changeValueFromInside(value: CandyDate): void {\r\n    if (this.value !== value) {\r\n      this.valueChange.emit(value);\r\n    }\r\n  }\r\n\r\n  private makeHeadWeekDays(): WeekDayLabel[] {\r\n    const weekDays: WeekDayLabel[] = [];\r\n    const firstDayOfWeek = this.dateHelper.getFirstDayOfWeek();\r\n    for (let colIndex = 0; colIndex < DATE_COL_NUM; colIndex++) {\r\n      const day = (firstDayOfWeek + colIndex) % DATE_COL_NUM;\r\n      const tempDate = this.value.setDay(day);\r\n      weekDays[colIndex] = {\r\n        short: this.dateHelper.format(tempDate.nativeDate, this.dateHelper.relyOnDatePipe ? 'E' : 'ddd'), // eg. Tue\r\n        veryShort: this.dateHelper.format(tempDate.nativeDate, this.getVeryShortWeekFormat()) // eg. Tu\r\n      };\r\n    }\r\n    return weekDays;\r\n  }\r\n\r\n  private getVeryShortWeekFormat(): string {\r\n    if (this.dateHelper.relyOnDatePipe) {\r\n      return this.i18n\r\n        .getLocaleId()\r\n        .toLowerCase()\r\n        .indexOf('zh') === 0\r\n        ? 'EEEEE'\r\n        : 'EEEEEE'; // Use extreme short for chinese\r\n    }\r\n    return 'dd';\r\n  }\r\n\r\n  private makeWeekRows(): WeekRow[] {\r\n    const weekRows: WeekRow[] = [];\r\n    const firstDayOfWeek = this.dateHelper.getFirstDayOfWeek();\r\n    const firstDateOfMonth = this.value.setDate(1);\r\n    const firstDateOffset = (firstDateOfMonth.getDay() + 7 - firstDayOfWeek) % 7;\r\n    const firstDateToShow = firstDateOfMonth.addDays(0 - firstDateOffset);\r\n\r\n    let increased = 0;\r\n    for (let rowIndex = 0; rowIndex < DATE_ROW_NUM; rowIndex++) {\r\n      const week: WeekRow = (weekRows[rowIndex] = {\r\n        isActive: false,\r\n        isCurrent: false,\r\n        dateCells: []\r\n      });\r\n\r\n      for (let colIndex = 0; colIndex < DATE_COL_NUM; colIndex++) {\r\n        const current = firstDateToShow.addDays(increased++);\r\n        const isBeforeMonthYear = this.isBeforeMonthYear(current, this.value);\r\n        const isAfterMonthYear = this.isAfterMonthYear(current, this.value);\r\n        const cell: DateCell = {\r\n          value: current,\r\n          isSelected: false,\r\n          isDisabled: false,\r\n          isToday: false,\r\n          title: this.getDateTitle(current),\r\n          customContent: valueFunctionProp(this.dateRender, current), // Customized content\r\n          content: `${current.getDate()}`,\r\n          onClick: () => this.changeValueFromInside(current),\r\n          onMouseEnter: () => this.dayHover.emit(cell.value)\r\n        };\r\n\r\n        if (this.showWeek && !week.weekNum) {\r\n          week.weekNum = this.getWeekNum(current);\r\n        }\r\n\r\n        if (current.isToday()) {\r\n          cell.isToday = true;\r\n          week.isCurrent = true;\r\n        }\r\n\r\n        if (Array.isArray(this.selectedValue) && !isBeforeMonthYear && !isAfterMonthYear) {\r\n          // Range selections\r\n          const rangeValue = this.hoverValue && this.hoverValue.length ? this.hoverValue : this.selectedValue;\r\n          const start = rangeValue[0];\r\n          const end = rangeValue[1];\r\n          if (start) {\r\n            if (current.isSame(start, 'day')) {\r\n              cell.isSelectedStartDate = true;\r\n              cell.isSelected = true;\r\n              week.isActive = true;\r\n            }\r\n            if (end) {\r\n              if (current.isSame(end, 'day')) {\r\n                cell.isSelectedEndDate = true;\r\n                cell.isSelected = true;\r\n                week.isActive = true;\r\n              } else if (current.isAfter(start, 'day') && current.isBefore(end, 'day')) {\r\n                cell.isInRange = true;\r\n              }\r\n            }\r\n          }\r\n        } else if (current.isSame(this.value, 'day')) {\r\n          cell.isSelected = true;\r\n          week.isActive = true;\r\n        }\r\n\r\n        if (this.disabledDate && this.disabledDate(current.nativeDate)) {\r\n          cell.isDisabled = true;\r\n        }\r\n\r\n        cell.classMap = {\r\n          [`${this.prefixCls}-cell`]: true,\r\n          // [`${this.prefixCls}-selected-date`]: false,\r\n          [`${this.prefixCls}-today`]: cell.isToday,\r\n          [`${this.prefixCls}-last-month-cell`]: isBeforeMonthYear,\r\n          [`${this.prefixCls}-next-month-btn-day`]: isAfterMonthYear,\r\n          [`${this.prefixCls}-selected-day`]: cell.isSelected,\r\n          [`${this.prefixCls}-disabled-cell`]: cell.isDisabled,\r\n          [`${this.prefixCls}-selected-start-date`]: !!cell.isSelectedStartDate,\r\n          [`${this.prefixCls}-selected-end-date`]: !!cell.isSelectedEndDate,\r\n          [`${this.prefixCls}-in-range-cell`]: !!cell.isInRange\r\n        };\r\n\r\n        week.dateCells.push(cell);\r\n      }\r\n\r\n      week.classMap = {\r\n        [`${this.prefixCls}-current-week`]: week.isCurrent,\r\n        [`${this.prefixCls}-active-week`]: week.isActive\r\n      };\r\n    }\r\n    return weekRows;\r\n  }\r\n\r\n  private getDateTitle(date: CandyDate): string {\r\n    // NOTE: Compat for DatePipe formatting rules\r\n    let dateFormat: string = (this.locale && this.locale.dateFormat) || 'YYYY-MM-DD';\r\n    if (this.dateHelper.relyOnDatePipe) {\r\n// tslint:disable-next-line: deprecation\r\n      dateFormat = (this.dateHelper as DateHelperByDatePipe).transCompatFormat(dateFormat);\r\n    }\r\n    return this.dateHelper.format(date.nativeDate, dateFormat);\r\n  }\r\n\r\n  private getWeekNum(date: CandyDate): number {\r\n    return this.dateHelper.getISOWeek(date.nativeDate);\r\n  }\r\n\r\n  private isBeforeMonthYear(current: CandyDate, target: CandyDate): boolean {\r\n    if (current.getYear() < target.getYear()) {\r\n      return true;\r\n    }\r\n    return current.getYear() === target.getYear() && current.getMonth() < target.getMonth();\r\n  }\r\n\r\n  private isAfterMonthYear(current: CandyDate, target: CandyDate): boolean {\r\n    if (current.getYear() > target.getYear()) {\r\n      return true;\r\n    }\r\n    return current.getYear() === target.getYear() && current.getMonth() > target.getMonth();\r\n  }\r\n}\r\n\r\nexport interface WeekDayLabel {\r\n  short: string;\r\n  veryShort: string;\r\n}\r\n\r\nexport interface DateCell {\r\n  value: CandyDate;\r\n  title: string;\r\n  customContent: TemplateRef<Date> | string;\r\n  content: string;\r\n  isSelected?: boolean;\r\n  isToday?: boolean;\r\n  isDisabled?: boolean;\r\n  isSelectedStartDate?: boolean;\r\n  isSelectedEndDate?: boolean;\r\n  isInRange?: boolean;\r\n  classMap?: object;\r\n  onClick(date: CandyDate): void;\r\n  onMouseEnter(): void;\r\n}\r\n\r\nexport interface WeekRow {\r\n  isCurrent?: boolean; // Is the week that today stays in\r\n  isActive?: boolean; // Is the week that current setting date stays in\r\n  weekNum?: number;\r\n  classMap?: object;\r\n  dateCells: DateCell[];\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  EventEmitter,\r\n  Input,\r\n  OnChanges,\r\n  Output,\r\n  SimpleChanges,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\n\r\nimport { NzCalendarI18nInterface } from 'ng-zorro-antd/i18n';\r\nimport { CandyDate } from '../candy-date/candy-date';\r\n\r\nconst MAX_ROW = 4;\r\nconst MAX_COL = 3;\r\n\r\n@Component({\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  // tslint:disable-next-line:component-selector\r\n  selector: 'decade-panel',\r\n  exportAs: 'decadePanel',\r\n  templateUrl: 'decade-panel.component.html'\r\n})\r\nexport class DecadePanelComponent implements OnChanges {\r\n  @Input() locale: NzCalendarI18nInterface;\r\n\r\n  @Input() value: CandyDate;\r\n  @Output() readonly valueChange = new EventEmitter<CandyDate>();\r\n\r\n  get startYear(): number {\r\n    return parseInt(`${this.value.getYear() / 100}`, 10) * 100;\r\n  }\r\n  get endYear(): number {\r\n    return this.startYear + 99;\r\n  }\r\n\r\n  prefixCls: string = 'ant-calendar-decade-panel';\r\n  panelDecades: PanelDecadeData[][];\r\n\r\n  constructor() {}\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes.value) {\r\n      this.render();\r\n    }\r\n  }\r\n\r\n  previousCentury(): void {\r\n    this.gotoYear(-100);\r\n  }\r\n\r\n  nextCentury(): void {\r\n    this.gotoYear(100);\r\n  }\r\n\r\n  trackPanelDecade(_index: number, decadeData: PanelDecadeData): string {\r\n    return decadeData.content;\r\n  }\r\n\r\n  private render(): void {\r\n    if (this.value) {\r\n      this.panelDecades = this.makePanelDecades();\r\n    }\r\n  }\r\n\r\n  // Re-render panel content by the header's buttons (NOTE: Do not try to trigger final value change)\r\n  private gotoYear(amount: number): void {\r\n    this.value = this.value.addYears(amount);\r\n    // this.valueChange.emit(this.value); // Do not try to trigger final value change\r\n    this.render();\r\n  }\r\n\r\n  private chooseDecade(startYear: number): void {\r\n    this.value = this.value.setYear(startYear);\r\n    this.valueChange.emit(this.value);\r\n  }\r\n\r\n  private makePanelDecades(): PanelDecadeData[][] {\r\n    const decades: PanelDecadeData[][] = [];\r\n    const currentYear = this.value.getYear();\r\n    const startYear = this.startYear;\r\n    const endYear = this.endYear;\r\n    const previousYear = startYear - 10;\r\n\r\n    let index = 0;\r\n    for (let rowIndex = 0; rowIndex < MAX_ROW; rowIndex++) {\r\n      decades[rowIndex] = [];\r\n      for (let colIndex = 0; colIndex < MAX_COL; colIndex++) {\r\n        const start = previousYear + index * 10;\r\n        const end = previousYear + index * 10 + 9;\r\n        const content = `${start}-${end}`;\r\n\r\n        const cell: PanelDecadeData = (decades[rowIndex][colIndex] = {\r\n          content,\r\n          title: content,\r\n          isCurrent: currentYear >= start && currentYear <= end,\r\n          isLowerThanStart: end < startYear,\r\n          isBiggerThanEnd: start > endYear,\r\n          classMap: null,\r\n          onClick: null\r\n        });\r\n\r\n        cell.classMap = {\r\n          [`${this.prefixCls}-cell`]: true,\r\n          [`${this.prefixCls}-selected-cell`]: cell.isCurrent,\r\n          [`${this.prefixCls}-last-century-cell`]: cell.isLowerThanStart,\r\n          [`${this.prefixCls}-next-century-cell`]: cell.isBiggerThanEnd\r\n        };\r\n\r\n        if (cell.isLowerThanStart) {\r\n          cell.onClick = () => this.previousCentury();\r\n        } else if (cell.isBiggerThanEnd) {\r\n          cell.onClick = () => this.nextCentury();\r\n        } else {\r\n          cell.onClick = () => this.chooseDecade(start);\r\n        }\r\n\r\n        index++;\r\n      }\r\n    }\r\n    return decades;\r\n  }\r\n}\r\n\r\nexport interface PanelDecadeData {\r\n  content: string;\r\n  title: string;\r\n  isCurrent: boolean;\r\n  isLowerThanStart: boolean;\r\n  isBiggerThanEnd: boolean;\r\n  classMap?: object | null;\r\n  onClick: VoidFunction | null;\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport { ChangeDetectionStrategy, Component, EventEmitter, Input, Output, ViewEncapsulation } from '@angular/core';\r\n\r\nimport { NzCalendarI18nInterface } from 'ng-zorro-antd/i18n';\r\nimport { CandyDate } from '../candy-date/candy-date';\r\n\r\n@Component({\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  selector: 'month-panel', // tslint:disable-line:component-selector\r\n  exportAs: 'monthPanel',\r\n  templateUrl: 'month-panel.component.html'\r\n})\r\nexport class MonthPanelComponent {\r\n  @Input() locale: NzCalendarI18nInterface;\r\n  @Input() value: CandyDate;\r\n  @Input() disabledDate: (date: Date) => boolean;\r\n\r\n  @Output() readonly valueChange = new EventEmitter<CandyDate>();\r\n  @Output() readonly yearPanelShow = new EventEmitter<void>();\r\n\r\n  prefixCls: string = 'ant-calendar-month-panel';\r\n\r\n  previousYear(): void {\r\n    this.gotoYear(-1);\r\n  }\r\n\r\n  nextYear(): void {\r\n    this.gotoYear(1);\r\n  }\r\n\r\n  // Re-render panel content by the header's buttons (NOTE: Do not try to trigger final value change)\r\n  private gotoYear(amount: number): void {\r\n    this.value = this.value.addYears(amount);\r\n    // this.valueChange.emit(this.value); // Do not try to trigger final value change\r\n  }\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  EventEmitter,\r\n  Input,\r\n  OnChanges,\r\n  OnInit,\r\n  Output,\r\n  SimpleChanges,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\n\r\nimport { DateHelperService } from 'ng-zorro-antd/i18n';\r\nimport { CandyDate } from '../candy-date/candy-date';\r\n\r\nconst MAX_ROW = 4;\r\nconst MAX_COL = 3;\r\n\r\n@Component({\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  // tslint:disable-next-line:component-selector\r\n  selector: 'month-table',\r\n  exportAs: 'monthTable',\r\n  templateUrl: 'month-table.component.html'\r\n})\r\nexport class MonthTableComponent implements OnInit, OnChanges {\r\n  @Input() value: CandyDate;\r\n  @Output() readonly valueChange = new EventEmitter<CandyDate>();\r\n\r\n  @Input() disabledDate: (date: Date) => boolean;\r\n\r\n  prefixCls: string = 'ant-calendar-month-panel';\r\n  panelMonths: PanelMonthData[][];\r\n\r\n  constructor(private dateHelper: DateHelperService) {}\r\n\r\n  ngOnInit(): void {}\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes.value || changes.disabledDate) {\r\n      this.render();\r\n    }\r\n  }\r\n\r\n  trackPanelMonth(_index: number, monthData: PanelMonthData): number {\r\n    return monthData.month;\r\n  }\r\n\r\n  private render(): void {\r\n    if (this.value) {\r\n      this.panelMonths = this.makePanelMonths();\r\n    }\r\n  }\r\n\r\n  private makePanelMonths(): PanelMonthData[][] {\r\n    const months: PanelMonthData[][] = [];\r\n    const currentMonth = this.value.getMonth();\r\n    const today = new CandyDate();\r\n\r\n    let monthValue = 0;\r\n    for (let rowIndex = 0; rowIndex < MAX_ROW; rowIndex++) {\r\n      months[rowIndex] = [];\r\n      for (let colIndex = 0; colIndex < MAX_COL; colIndex++) {\r\n        const month = this.value.setMonth(monthValue);\r\n        const disabled = this.disabledDate ? this.disabledDate(this.value.setMonth(monthValue).nativeDate) : false;\r\n        const content = this.dateHelper.format(month.nativeDate, 'MMM');\r\n\r\n        const cell: PanelMonthData = (months[rowIndex][colIndex] = {\r\n          disabled,\r\n          content,\r\n          month: monthValue,\r\n          title: content,\r\n          classMap: null,\r\n          onClick: () => this.chooseMonth(cell.month)\r\n        });\r\n\r\n        cell.classMap = {\r\n          [`${this.prefixCls}-cell`]: true,\r\n          [`${this.prefixCls}-cell-disabled`]: disabled,\r\n          [`${this.prefixCls}-selected-cell`]: cell.month === currentMonth,\r\n          [`${this.prefixCls}-current-cell`]:\r\n            today.getYear() === this.value.getYear() && cell.month === today.getMonth()\r\n        };\r\n\r\n        monthValue++;\r\n      }\r\n    }\r\n    return months;\r\n  }\r\n\r\n  private chooseMonth(month: number): void {\r\n    this.value = this.value.setMonth(month);\r\n    this.valueChange.emit(this.value);\r\n    this.render();\r\n  }\r\n}\r\n\r\nexport interface PanelMonthData {\r\n  disabled: boolean;\r\n  content: string;\r\n  month: number;\r\n  title: string;\r\n  classMap: object | null;\r\n  onClick: VoidFunction | null;\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport { DisabledDateFn, DisabledTimeConfig, DisabledTimeFn } from '../standard-types';\r\nimport { CandyDate } from './candy-date/candy-date';\r\n\r\nconst defaultDisabledTime: DisabledTimeConfig = {\r\n  nzDisabledHours(): number[] {\r\n    return [];\r\n  },\r\n  nzDisabledMinutes(): number[] {\r\n    return [];\r\n  },\r\n  nzDisabledSeconds(): number[] {\r\n    return [];\r\n  }\r\n};\r\n\r\nexport function getTimeConfig(value: CandyDate, disabledTime: DisabledTimeFn): DisabledTimeConfig {\r\n  let disabledTimeConfig = disabledTime ? disabledTime(value && value.nativeDate) : ({} as DisabledTimeConfig);\r\n  disabledTimeConfig = {\r\n    ...defaultDisabledTime,\r\n    ...disabledTimeConfig\r\n  };\r\n  return disabledTimeConfig;\r\n}\r\n\r\nexport function isTimeValidByConfig(value: CandyDate, disabledTimeConfig: DisabledTimeConfig): boolean {\r\n  let invalidTime = false;\r\n  if (value) {\r\n    const hour = value.getHours();\r\n    const minutes = value.getMinutes();\r\n    const seconds = value.getSeconds();\r\n    const disabledHours = disabledTimeConfig.nzDisabledHours();\r\n    if (disabledHours.indexOf(hour) === -1) {\r\n      const disabledMinutes = disabledTimeConfig.nzDisabledMinutes(hour);\r\n      if (disabledMinutes.indexOf(minutes) === -1) {\r\n        const disabledSeconds = disabledTimeConfig.nzDisabledSeconds(hour, minutes);\r\n        invalidTime = disabledSeconds.indexOf(seconds) !== -1;\r\n      } else {\r\n        invalidTime = true;\r\n      }\r\n    } else {\r\n      invalidTime = true;\r\n    }\r\n  }\r\n  return !invalidTime;\r\n}\r\n\r\nexport function isTimeValid(value: CandyDate, disabledTime: DisabledTimeFn): boolean {\r\n  const disabledTimeConfig = getTimeConfig(value, disabledTime);\r\n  return isTimeValidByConfig(value, disabledTimeConfig);\r\n}\r\n\r\nexport function isAllowedDate(value: CandyDate, disabledDate?: DisabledDateFn, disabledTime?: DisabledTimeFn): boolean {\r\n  if (disabledDate) {\r\n    if (disabledDate(value.nativeDate)) {\r\n      return false;\r\n    }\r\n  }\r\n  if (disabledTime) {\r\n    if (!isTimeValid(value, disabledTime)) {\r\n      return false;\r\n    }\r\n  }\r\n  return true;\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  EventEmitter,\r\n  Input,\r\n  OnChanges,\r\n  OnInit,\r\n  Output,\r\n  SimpleChanges,\r\n  TemplateRef,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\n\r\nimport { FunctionProp } from 'ng-zorro-antd/core';\r\nimport { NzCalendarI18nInterface } from 'ng-zorro-antd/i18n';\r\nimport {\r\n  DisabledDateFn,\r\n  DisabledTimeConfig,\r\n  DisabledTimeFn,\r\n  DisabledTimePartial,\r\n  PanelMode,\r\n  PresetRanges,\r\n  SupportTimeOptions\r\n} from '../../standard-types';\r\nimport { CandyDate } from '../candy-date/candy-date';\r\nimport { getTimeConfig, isAllowedDate } from '../util';\r\n\r\n@Component({\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  // tslint:disable-next-line:component-selector\r\n  selector: 'date-range-popup',\r\n  exportAs: 'dateRangePopup',\r\n  templateUrl: 'date-range-popup.component.html'\r\n})\r\nexport class DateRangePopupComponent implements OnInit, OnChanges {\r\n  @Input() isRange: boolean;\r\n  @Input() showWeek: boolean;\r\n\r\n  @Input() locale: NzCalendarI18nInterface;\r\n  @Input() format: string;\r\n  @Input() placeholder: string | string[];\r\n  @Input() disabledDate: DisabledDateFn;\r\n  @Input() disabledTime: DisabledTimeFn; // This will lead to rebuild time options\r\n  @Input() showToday: boolean;\r\n  @Input() showTime: SupportTimeOptions | boolean;\r\n  @Input() extraFooter: TemplateRef<void> | string;\r\n  @Input() ranges: PresetRanges;\r\n  @Input() dateRender: FunctionProp<TemplateRef<Date> | string>;\r\n  @Input() popupStyle: object;\r\n  @Input() dropdownClassName: string;\r\n\r\n  @Input() panelMode: PanelMode | PanelMode[];\r\n  @Output() readonly panelModeChange = new EventEmitter<PanelMode | PanelMode[]>();\r\n\r\n  @Output() readonly calendarChange = new EventEmitter<CandyDate | CandyDate[]>();\r\n  @Input() value: CandyDate | CandyDate[] | null;\r\n  @Output() readonly valueChange = new EventEmitter<CandyDate | CandyDate[]>();\r\n\r\n  @Output() readonly resultOk = new EventEmitter<void>(); // Emitted when done with date selecting\r\n  @Output() readonly closePicker = new EventEmitter<void>(); // Notify outside to close the picker panel\r\n\r\n  prefixCls = 'ant-calendar';\r\n  showTimePicker = false;\r\n  timeOptions: SupportTimeOptions | SupportTimeOptions[] | null;\r\n  valueForRangeShow: CandyDate[]; // Range ONLY\r\n  selectedValue: CandyDate[]; // Range ONLY\r\n  hoverValue: CandyDate[]; // Range ONLY\r\n\r\n  get hasTimePicker(): boolean {\r\n    return !!this.showTime;\r\n  }\r\n\r\n  get hasFooter(): boolean {\r\n    return this.showToday || this.hasTimePicker || !!this.extraFooter || !!this.ranges;\r\n  }\r\n\r\n  private partTypeMap: { [key: string]: number } = { left: 0, right: 1 };\r\n\r\n  [property: string]: any; // tslint:disable-line:no-any\r\n\r\n  ngOnInit(): void {\r\n    // Initialization for range properties to prevent errors while later assignment\r\n    if (this.isRange) {\r\n      ['placeholder', 'panelMode', 'selectedValue', 'hoverValue'].forEach(prop => this.initialArray(prop));\r\n    }\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (this.isRange) {\r\n      if (changes.value) {\r\n        // Re-initialize all related values\r\n        this.clearHoverValue();\r\n        this.selectedValue = this.value as CandyDate[];\r\n        this.valueForRangeShow = this.normalizeRangeValue(this.value as CandyDate[]);\r\n      }\r\n    }\r\n\r\n    // Parse showTime options\r\n    if (changes.showTime || changes.disabledTime) {\r\n      if (this.showTime) {\r\n        this.buildTimeOptions();\r\n      }\r\n    }\r\n\r\n    // Show time picker when assigned panel mode as \"time\"\r\n    if (changes.panelMode && this.hasTimePicker) {\r\n      this.showTimePicker = this.panelMode === 'time';\r\n    }\r\n  }\r\n\r\n  onShowTimePickerChange(show: boolean): void {\r\n    // this.panelMode = show ? 'time' : 'date';\r\n    // this.panelModeChange.emit(this.panelMode);\r\n    this.panelModeChange.emit(show ? 'time' : 'date');\r\n  }\r\n\r\n  onClickToday(value: CandyDate): void {\r\n    // if (this.isRange) { // Show today is not support by range\r\n    //   throw new Error('\"nzShowToday\" is not support for \"RangePicker\"!');\r\n    // } else {\r\n    if (!this.isRange) {\r\n      this.value = null; // Clear current value to not sync time by next step\r\n      this.changeValue(value);\r\n    }\r\n    this.closePickerPanel();\r\n  }\r\n\r\n  onDayHover(value: CandyDate): void {\r\n    if (this.isRange && this.selectedValue[0] && !this.selectedValue[1]) {\r\n      // When right value is selected, don't do hover\r\n      const base = this.selectedValue[0]; // Use the left of selected value as the base to decide later hoverValue\r\n      if (base.isBefore(value, 'day')) {\r\n        this.hoverValue = [base, value];\r\n      } else {\r\n        this.hoverValue = [value, base];\r\n      }\r\n    }\r\n  }\r\n\r\n  onPanelModeChange(mode: PanelMode, partType?: RangePartType): void {\r\n    if (this.isRange) {\r\n      (this.panelMode as PanelMode[])[this.getPartTypeIndex(partType)] = mode;\r\n    } else {\r\n      this.panelMode = mode;\r\n    }\r\n    this.panelModeChange.emit(this.panelMode);\r\n  }\r\n\r\n  onHeaderChange(value: CandyDate, partType?: RangePartType): void {\r\n    if (this.isRange) {\r\n      this.valueForRangeShow[this.getPartTypeIndex(partType)] = value;\r\n      this.valueForRangeShow = this.normalizeRangeValue(this.valueForRangeShow); // Should always take care of start/end\r\n    }\r\n  }\r\n\r\n  onSelectTime(value: CandyDate, partType?: RangePartType): void {\r\n    if (this.isRange) {\r\n      const newValue = this.cloneRangeDate(this.value as CandyDate[]);\r\n      const index = this.getPartTypeIndex(partType);\r\n// tslint:disable-next-line: no-non-null-assertion\r\n      newValue[index] = this.overrideHms(value, newValue[index])!;\r\n      this.setValue(newValue);\r\n    } else {\r\n// tslint:disable-next-line: no-non-null-assertion\r\n      this.setValue(this.overrideHms(value, (this.value as CandyDate) || new CandyDate())!); // If not select a date currently, use today\r\n    }\r\n  }\r\n\r\n  changeValue(value: CandyDate, partType?: RangePartType): void {\r\n    if (this.isRange) {\r\n      const index = this.getPartTypeIndex(partType);\r\n      this.selectedValue[index] = value;\r\n      if (this.isValidRange(this.selectedValue)) {\r\n        this.valueForRangeShow = this.normalizeRangeValue(this.selectedValue);\r\n        this.setValue(this.cloneRangeDate(this.selectedValue));\r\n      }\r\n    } else {\r\n      this.setValue(value);\r\n    }\r\n  }\r\n\r\n  changeValueFromSelect(value: CandyDate): void {\r\n    if (this.isRange) {\r\n      const [left, right] = this.selectedValue as CandyDate[]; // NOTE: the left/right maybe not the sequence it select at the date panels\r\n\r\n      if ((!left && !right) || (left && right)) {\r\n        // If totally full or empty, clean up && re-assign left first\r\n        this.hoverValue = this.selectedValue = [value];\r\n        this.calendarChange.emit([value.clone()]);\r\n      } else if (left && !right) {\r\n        // If one of them is empty, assign the other one and sort, then set the final values\r\n        this.clearHoverValue(); // Clean up\r\n        this.setRangeValue('selectedValue', 'right', value);\r\n        this.sortRangeValue('selectedValue'); // Sort\r\n        this.valueForRangeShow = this.normalizeRangeValue(this.selectedValue);\r\n        this.setValue(this.cloneRangeDate(this.selectedValue));\r\n        this.calendarChange.emit(this.cloneRangeDate(this.selectedValue));\r\n      }\r\n    } else {\r\n      this.setValue(value);\r\n    }\r\n    // this.selectDate.emit(value);\r\n  }\r\n\r\n  enablePrevNext(direction: 'prev' | 'next', partType?: RangePartType): boolean {\r\n    if (this.isRange) {\r\n      const [start, end] = this.valueForRangeShow;\r\n      const showMiddle = !start.addMonths(1).isSame(end, 'month'); // One month diff then don't show middle prev/next\r\n      if ((partType === 'left' && direction === 'next') || (partType === 'right' && direction === 'prev')) {\r\n        return showMiddle;\r\n      }\r\n      return true;\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  getPanelMode(partType?: RangePartType): PanelMode {\r\n    if (this.isRange) {\r\n      return this.panelMode[this.getPartTypeIndex(partType)] as PanelMode;\r\n    } else {\r\n      return this.panelMode as PanelMode;\r\n    }\r\n  }\r\n\r\n  // Get single value or part value of a range\r\n  getValue(partType?: RangePartType): CandyDate {\r\n    if (this.isRange) {\r\n      return (this.value as CandyDate[])[this.getPartTypeIndex(partType)];\r\n    } else {\r\n      return this.value as CandyDate;\r\n    }\r\n  }\r\n\r\n  getValueBySelector(partType?: RangePartType): CandyDate {\r\n    if (this.isRange) {\r\n// tslint:disable-next-line: max-line-length\r\n      const valueShow = this.showTimePicker ? this.value : this.valueForRangeShow; // Use the real time value that without decorations when timepicker is shown up\r\n      return (valueShow as CandyDate[])[this.getPartTypeIndex(partType)];\r\n    } else {\r\n      return this.value as CandyDate;\r\n    }\r\n  }\r\n\r\n  getPartTypeIndex(partType?: RangePartType): number {\r\n// tslint:disable-next-line: no-non-null-assertion\r\n    return this.partTypeMap[partType!];\r\n  }\r\n\r\n  getPlaceholder(partType?: RangePartType): string {\r\n    return this.isRange ? this.placeholder[this.getPartTypeIndex(partType)] : (this.placeholder as string);\r\n  }\r\n\r\n  hasSelectedValue(): boolean {\r\n    return this.selectedValue && !!this.selectedValue[1] && !!this.selectedValue[0];\r\n  }\r\n\r\n  disabledStartTime = (value: Date | Date[]): DisabledTimeConfig => {\r\n    return this.disabledTime && this.disabledTime(value, 'start');\r\n  }\r\n\r\n  disabledEndTime = (value: Date | Date[]): DisabledTimeConfig => {\r\n    return this.disabledTime && this.disabledTime(value, 'end');\r\n  }\r\n\r\n  isAllowedSelectedValue(): boolean {\r\n    const selectedValue = this.selectedValue;\r\n    if (selectedValue && selectedValue[0] && selectedValue[1]) {\r\n      return (\r\n        isAllowedDate(selectedValue[0], this.disabledDate, this.disabledStartTime) &&\r\n        isAllowedDate(selectedValue[1], this.disabledDate, this.disabledEndTime)\r\n      );\r\n    }\r\n    return false;\r\n  }\r\n\r\n  timePickerDisabled(): boolean {\r\n    if (!this.hasTimePicker) {\r\n      return true;\r\n    }\r\n\r\n    if (this.isRange) {\r\n      return !this.hasSelectedValue() || !!this.hoverValue.length;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  okDisabled(): boolean {\r\n    if (!this.hasTimePicker) {\r\n      return true;\r\n    }\r\n\r\n    if (this.isRange) {\r\n      return !this.isAllowedSelectedValue() || !this.hasSelectedValue() || !!this.hoverValue.length;\r\n    } else {\r\n      return this.value ? !isAllowedDate(this.value as CandyDate, this.disabledDate, this.disabledTime) : false;\r\n    }\r\n  }\r\n\r\n  getTimeOptions(partType?: RangePartType): SupportTimeOptions | null {\r\n    if (this.showTime && this.timeOptions) {\r\n      return this.timeOptions instanceof Array ? this.timeOptions[this.getPartTypeIndex(partType)] : this.timeOptions;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  onClickPresetRange(val: PresetRanges[keyof PresetRanges]): void {\r\n    const value = typeof val === 'function' ? val() : val;\r\n    this.setValue([new CandyDate(value[0]), new CandyDate(value[1])]);\r\n    this.resultOk.emit();\r\n  }\r\n\r\n  onPresetRangeMouseLeave(): void {\r\n    this.clearHoverValue();\r\n  }\r\n\r\n  onHoverPresetRange(val: PresetRanges[keyof PresetRanges]): void {\r\n    if (typeof val !== 'function') {\r\n      this.hoverValue = [new CandyDate(val[0]), new CandyDate(val[1])];\r\n    }\r\n  }\r\n\r\n  getObjectKeys(obj: object): string[] {\r\n    return obj ? Object.keys(obj) : [];\r\n  }\r\n\r\n  private closePickerPanel(): void {\r\n    this.closePicker.emit();\r\n  }\r\n\r\n  private clearHoverValue(): void {\r\n    this.hoverValue = [];\r\n  }\r\n\r\n  private buildTimeOptions(): void {\r\n    if (this.showTime) {\r\n      const showTime = typeof this.showTime === 'object' ? this.showTime : {};\r\n      if (this.isRange) {\r\n        const value = this.value as CandyDate[];\r\n        this.timeOptions = [\r\n          this.overrideTimeOptions(showTime, value[0], 'start'),\r\n          this.overrideTimeOptions(showTime, value[1], 'end')\r\n        ];\r\n      } else {\r\n        this.timeOptions = this.overrideTimeOptions(showTime, this.value as CandyDate);\r\n      }\r\n    } else {\r\n      this.timeOptions = null;\r\n    }\r\n  }\r\n\r\n  private overrideTimeOptions(\r\n    origin: SupportTimeOptions,\r\n    value: CandyDate,\r\n    partial?: DisabledTimePartial\r\n  ): SupportTimeOptions {\r\n    let disabledTimeFn;\r\n    if (partial) {\r\n      disabledTimeFn = partial === 'start' ? this.disabledStartTime : this.disabledEndTime;\r\n    } else {\r\n      disabledTimeFn = this.disabledTime;\r\n    }\r\n    return { ...origin, ...getTimeConfig(value, disabledTimeFn) };\r\n  }\r\n\r\n  // Set value and trigger change event\r\n  private setValue(value: CandyDate | CandyDate[]): void {\r\n    const newValue = value;\r\n\r\n    // TODO: Sync original time (NOTE: this should take more care of beacuse it may depend on many change sources)\r\n    // if (this.isRange) {\r\n    //   // TODO: Sync time\r\n    // } else {\r\n    //   if (this.value) { // Sync time from the original one if it's available\r\n    //     newValue = this.overrideHms(this.value as CandyDate, newValue as CandyDate);\r\n    //   }\r\n    // }\r\n\r\n    this.value = newValue;\r\n    this.valueChange.emit(this.value);\r\n\r\n    this.buildTimeOptions();\r\n  }\r\n\r\n  private overrideHms(from: CandyDate, to: CandyDate): CandyDate | null {\r\n    if (!from || !to) {\r\n      return null;\r\n    }\r\n    return to.setHms(from.getHours(), from.getMinutes(), from.getSeconds());\r\n  }\r\n\r\n  // Check if it's a valid range value\r\n  private isValidRange(value: CandyDate[]): boolean {\r\n    if (Array.isArray(value)) {\r\n      const [start, end] = value;\r\n      const grain = this.hasTimePicker ? 'second' : 'day';\r\n      return start && end && (start.isBefore(end, grain) || start.isSame(end, grain));\r\n    }\r\n    return false;\r\n  }\r\n\r\n  private normalizeRangeValue(value: CandyDate[]): CandyDate[] {\r\n    const [start, end] = value;\r\n    const newStart = start || new CandyDate();\r\n    const newEnd = end && end.isSame(newStart, 'month') ? end.addMonths(1) : end || newStart.addMonths(1);\r\n    return [newStart, newEnd];\r\n  }\r\n\r\n  // private isEmptyRangeValue(value: CandyDate[]): boolean {\r\n  //   return !value || !Array.isArray(value) || value.every((val) => !val);\r\n  // }\r\n\r\n  // Sort a range value (accurate to second)\r\n  private sortRangeValue(key: 'selectedValue'): void {\r\n    if (Array.isArray(this[key])) {\r\n      const [start, end] = this[key];\r\n      if (start && end && start.isAfter(end, 'day')) {\r\n        this[key] = [end, start];\r\n      }\r\n    }\r\n  }\r\n\r\n  // Renew and set a range value to trigger sub-component's change detection\r\n  private setRangeValue(key: 'value' | 'selectedValue', partType: RangePartType, value: CandyDate): void {\r\n    const ref = (this[key] = this.cloneRangeDate(this[key] as CandyDate[]));\r\n    ref[this.getPartTypeIndex(partType)] = value;\r\n  }\r\n\r\n  private cloneRangeDate(value: CandyDate[]): CandyDate[] {\r\n    return [value[0] && value[0].clone(), value[1] && value[1].clone()] as CandyDate[];\r\n  }\r\n\r\n  private initialArray(key: string): void {\r\n    if (!this[key] || !Array.isArray(this[key])) {\r\n      this[key] = [];\r\n    }\r\n  }\r\n}\r\n\r\nexport type RangePartType = 'left' | 'right';\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  EventEmitter,\r\n  Input,\r\n  OnChanges,\r\n  OnInit,\r\n  Output,\r\n  SimpleChanges,\r\n  TemplateRef,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\n\r\nimport { FunctionProp } from 'ng-zorro-antd/core';\r\nimport { NzCalendarI18nInterface } from 'ng-zorro-antd/i18n';\r\nimport { DisabledDateFn, PanelMode } from '../../standard-types';\r\nimport { CandyDate } from '../candy-date/candy-date';\r\n\r\n@Component({\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  // tslint:disable-next-line:component-selector\r\n  selector: 'inner-popup',\r\n  exportAs: 'innerPopup',\r\n  templateUrl: 'inner-popup.component.html'\r\n})\r\nexport class InnerPopupComponent implements OnInit, OnChanges {\r\n  @Input() showWeek: boolean;\r\n\r\n  @Input() locale: NzCalendarI18nInterface;\r\n  @Input() showTimePicker: boolean;\r\n  // tslint:disable-next-line:no-any\r\n  @Input() timeOptions: any;\r\n  @Input() enablePrev: boolean;\r\n  @Input() enableNext: boolean;\r\n  @Input() disabledDate: DisabledDateFn;\r\n  @Input() dateRender: FunctionProp<TemplateRef<Date> | string>;\r\n  @Input() selectedValue: CandyDate[]; // Range ONLY\r\n  @Input() hoverValue: CandyDate[]; // Range ONLY\r\n\r\n  @Input() panelMode: PanelMode;\r\n  @Output() readonly panelModeChange = new EventEmitter<PanelMode>();\r\n\r\n  @Input() value: CandyDate;\r\n\r\n  @Output() readonly headerChange = new EventEmitter<CandyDate>(); // Emitted when user changed the header's value\r\n  @Output() readonly selectDate = new EventEmitter<CandyDate>(); // Emitted when the date is selected by click the date panel\r\n  @Output() readonly selectTime = new EventEmitter<CandyDate>();\r\n  @Output() readonly dayHover = new EventEmitter<CandyDate>(); // Emitted when hover on a day by mouse enter\r\n\r\n  prefixCls: string = 'ant-calendar';\r\n\r\n  constructor() {}\r\n\r\n  ngOnInit(): void {}\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes.value && !this.value) {\r\n      this.value = new CandyDate();\r\n    }\r\n  }\r\n\r\n  onSelectTime(date: Date): void {\r\n    this.selectTime.emit(new CandyDate(date));\r\n  }\r\n\r\n  // The value real changed to outside\r\n  onSelectDate(date: CandyDate | Date): void {\r\n    const value = date instanceof CandyDate ? date : new CandyDate(date);\r\n    this.selectDate.emit(value);\r\n  }\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  EventEmitter,\r\n  Input,\r\n  OnChanges,\r\n  Output,\r\n  SimpleChanges,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\n\r\nimport { NzCalendarI18nInterface } from 'ng-zorro-antd/i18n';\r\n\r\nimport { CandyDate } from '../candy-date/candy-date';\r\n\r\nconst MAX_ROW = 4;\r\nconst MAX_COL = 3;\r\n\r\n@Component({\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  // tslint:disable-next-line:component-selector\r\n  selector: 'year-panel',\r\n  exportAs: 'yearPanel',\r\n  templateUrl: 'year-panel.component.html',\r\n  styles: [\r\n    // Support disabledDate\r\n    `\r\n      .ant-calendar-year-panel-cell-disabled .ant-calendar-year-panel-year,\r\n      .ant-calendar-year-panel-cell-disabled .ant-calendar-year-panel-year:hover {\r\n        color: rgba(0, 0, 0, 0.25);\r\n        background: #f5f5f5;\r\n        cursor: not-allowed;\r\n      }\r\n    `\r\n  ]\r\n})\r\nexport class YearPanelComponent implements OnChanges {\r\n  @Input() locale: NzCalendarI18nInterface;\r\n\r\n  @Input() value: CandyDate;\r\n  @Output() readonly valueChange = new EventEmitter<CandyDate>();\r\n\r\n  @Input() disabledDate: (date: Date) => boolean;\r\n\r\n  @Output() readonly decadePanelShow = new EventEmitter<void>();\r\n\r\n  get currentYear(): number {\r\n    return this.value.getYear();\r\n  }\r\n  get startYear(): number {\r\n    return parseInt(`${this.currentYear / 10}`, 10) * 10;\r\n  }\r\n  get endYear(): number {\r\n    return this.startYear + 9;\r\n  }\r\n\r\n  prefixCls: string = 'ant-calendar-year-panel';\r\n  panelYears: PanelYearData[][];\r\n\r\n  constructor() {}\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes.value || changes.disabledDate) {\r\n      this.render();\r\n    }\r\n  }\r\n\r\n  previousDecade(): void {\r\n    this.gotoYear(-10);\r\n  }\r\n\r\n  nextDecade(): void {\r\n    this.gotoYear(10);\r\n  }\r\n\r\n  trackPanelYear(_index: number, yearData: PanelYearData): string {\r\n    return yearData.content;\r\n  }\r\n\r\n  private render(): void {\r\n    if (this.value) {\r\n      this.panelYears = this.makePanelYears();\r\n    }\r\n  }\r\n\r\n  // Re-render panel content by the header's buttons (NOTE: Do not try to trigger final value change)\r\n  private gotoYear(amount: number): void {\r\n    this.value = this.value.addYears(amount);\r\n    // this.valueChange.emit(this.value); // Do not trigger final value change\r\n    this.render();\r\n  }\r\n\r\n  private chooseYear(year: number): void {\r\n    this.value = this.value.setYear(year);\r\n    this.valueChange.emit(this.value);\r\n    this.render();\r\n  }\r\n\r\n  private makePanelYears(): PanelYearData[][] {\r\n    const years: PanelYearData[][] = [];\r\n    const currentYear = this.currentYear;\r\n    const startYear = this.startYear;\r\n    const endYear = this.endYear;\r\n    const previousYear = startYear - 1;\r\n    let index = 0;\r\n    for (let rowIndex = 0; rowIndex < MAX_ROW; rowIndex++) {\r\n      years[rowIndex] = [];\r\n      for (let colIndex = 0; colIndex < MAX_COL; colIndex++) {\r\n        const year = previousYear + index;\r\n        const content = String(year);\r\n        const disabled = this.disabledDate ? this.disabledDate(this.value.setYear(year).nativeDate) : false;\r\n\r\n        const cell: PanelYearData = (years[rowIndex][colIndex] = {\r\n          disabled,\r\n          content,\r\n          year,\r\n          title: content,\r\n          isCurrent: year === currentYear,\r\n          isLowerThanStart: year < startYear,\r\n          isBiggerThanEnd: year > endYear,\r\n          classMap: null,\r\n          onClick: null\r\n        });\r\n\r\n        cell.classMap = {\r\n          [`${this.prefixCls}-cell`]: true,\r\n          [`${this.prefixCls}-selected-cell`]: cell.isCurrent,\r\n          [`${this.prefixCls}-cell-disabled`]: disabled,\r\n          [`${this.prefixCls}-last-decade-cell`]: cell.isLowerThanStart,\r\n          [`${this.prefixCls}-next-decade-cell`]: cell.isBiggerThanEnd\r\n        };\r\n\r\n        if (cell.isLowerThanStart) {\r\n          cell.onClick = () => this.previousDecade();\r\n        } else if (cell.isBiggerThanEnd) {\r\n          cell.onClick = () => this.nextDecade();\r\n        } else {\r\n          cell.onClick = () => this.chooseYear(cell.year);\r\n        }\r\n\r\n        index++;\r\n      }\r\n    }\r\n    return years;\r\n  }\r\n}\r\n\r\nexport interface PanelYearData {\r\n  disabled: boolean;\r\n  content: string;\r\n  year: number;\r\n  title: string;\r\n  isCurrent: boolean;\r\n  isLowerThanStart: boolean;\r\n  isBiggerThanEnd: boolean;\r\n  classMap: object | null;\r\n  onClick: VoidFunction | null;\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\n/**\r\n * A collection module of standard output for all lib components\r\n */\r\n\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { NzI18nModule } from 'ng-zorro-antd/i18n';\r\nimport { NzTimePickerModule } from 'ng-zorro-antd/time-picker';\r\n\r\nimport { CalendarFooterComponent } from './calendar/calendar-footer.component';\r\nimport { CalendarHeaderComponent } from './calendar/calendar-header.component';\r\nimport { CalendarInputComponent } from './calendar/calendar-input.component';\r\nimport { OkButtonComponent } from './calendar/ok-button.component';\r\nimport { TimePickerButtonComponent } from './calendar/time-picker-button.component';\r\nimport { TodayButtonComponent } from './calendar/today-button.component';\r\n\r\nimport { DateTableComponent } from './date/date-table.component';\r\nimport { DecadePanelComponent } from './decade/decade-panel.component';\r\nimport { MonthPanelComponent } from './month/month-panel.component';\r\nimport { MonthTableComponent } from './month/month-table.component';\r\nimport { DateRangePopupComponent } from './popups/date-range-popup.component';\r\nimport { InnerPopupComponent } from './popups/inner-popup.component';\r\nimport { YearPanelComponent } from './year/year-panel.component';\r\n\r\n@NgModule({\r\n  imports: [CommonModule, FormsModule, NzI18nModule, NzTimePickerModule],\r\n  exports: [\r\n    CalendarHeaderComponent,\r\n    CalendarInputComponent,\r\n    CalendarFooterComponent,\r\n    OkButtonComponent,\r\n    TimePickerButtonComponent,\r\n    TodayButtonComponent,\r\n\r\n    DateTableComponent,\r\n    YearPanelComponent,\r\n    MonthPanelComponent,\r\n    MonthTableComponent,\r\n    DecadePanelComponent,\r\n    InnerPopupComponent,\r\n    DateRangePopupComponent\r\n  ],\r\n  declarations: [\r\n    CalendarHeaderComponent,\r\n    CalendarInputComponent,\r\n    CalendarFooterComponent,\r\n    OkButtonComponent,\r\n    TimePickerButtonComponent,\r\n    TodayButtonComponent,\r\n\r\n    DateTableComponent,\r\n    YearPanelComponent,\r\n    MonthPanelComponent,\r\n    MonthTableComponent,\r\n    DecadePanelComponent,\r\n    InnerPopupComponent,\r\n    DateRangePopupComponent\r\n  ]\r\n})\r\nexport class LibPackerModule {}\r\n","import { Component, OnInit, Input, AfterViewInit, ChangeDetectionStrategy, Output, EventEmitter, OnChanges } from '@angular/core';\r\nimport { ChartDataMulti } from '../core/interfaces/chart-data-interface';\r\nimport { UtilService } from '../core/services/util.service';\r\nimport { WidgetActionType } from '../core/enums/widget-action-type.enum';\r\n\r\n@Component({\r\n  selector: 'cmacs-normalized-horizontal-bar-grouped',\r\n  templateUrl: './cmacs-normalized-horizontal-bar-grouped.component.html',\r\n  styleUrls: ['./cmacs-normalized-horizontal-bar-grouped.component.css'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class CmacsNormalizedHorizontalBarGroupedComponent implements OnInit, OnChanges {\r\n\r\n  @Output() clickMenu = new EventEmitter<any>();\r\n\r\n  // content\r\n  @Input() data!: ChartDataMulti[];\r\n\r\n  // otpions\r\n  @Input() colorScheme = {\r\n    domain: ['#00CE7D', '#FFC634', '#F6503C']\r\n  };\r\n\r\n  id;\r\n\r\n  legend!: string[];\r\n  selectList: string[];\r\n  selectedValue!: string;\r\n\r\n  // chart\r\n  chartWidth = 250;\r\n  chartHeight = 100;\r\n  minWidth = 300;\r\n  minHeight = 200;\r\n  pw = 1;\r\n  ph = 1;\r\n  @Input() view!: number[];\r\n\r\n  constructor(\r\n    private util: UtilService\r\n  ) {\r\n    this.id = util.uuidv4();\r\n  }\r\n\r\n  ngOnInit() {\r\n    // set legend values\r\n    let temp: any[] = [];\r\n    this.data.map(d => d.series.map(x => x.name)).forEach((x) => temp = [...temp, ...x]);\r\n    this.legend  = Array.from(new Set([...temp]));\r\n\r\n    // set select data\r\n    this.selectList = this.data.map(x => x.name);\r\n    if (this.selectList.length > 0) {\r\n      this.selectedValue = this.selectList[0];\r\n    }\r\n  }\r\n\r\n  ngOnChanges() {\r\n    this.pw = 1;\r\n    if (this.view && this.view.length === 2) {\r\n      this.pw = this.view[0] > this.minWidth ? this.view[0] / this.minWidth : 1;\r\n    }\r\n    this.ph = 1;\r\n    if (this.view && this.view.length === 2) {\r\n      this.ph = this.view[1] > this.minHeight ? this.view[1] / this.minHeight : 1;\r\n    }\r\n    //\r\n    setTimeout(() => {\r\n      this.drawCanvas();\r\n    }, 0);\r\n  }\r\n\r\n  menuClick(type: WidgetActionType): void {\r\n    this.clickMenu.emit(type);\r\n  }\r\n\r\n  drawCanvas(): void {\r\n    const canvas = document.getElementById('canvas-' + this.id)  as HTMLCanvasElement;\r\n    if (canvas.getContext) {\r\n      const context = canvas.getContext('2d');\r\n      canvas.width = this.chartWidth * this.pw;\r\n      canvas.height = this.chartHeight * this.ph;\r\n\r\n      context.clearRect(0, 0, canvas.width, canvas.height);\r\n      if (this.selectedValue) {\r\n        const elems = this.data.find(x => x.name === this.selectedValue).series.sort((a, b) =>\r\n          this.legend.findIndex(y => y === a.name) - this.legend.findIndex(y => y === b.name)\r\n        );\r\n        const total = elems.map(x => x.value).reduce((a, b) => a + b, 0);\r\n        let move = 0;\r\n        for (let i = 0; i < elems.length; i++) {\r\n          context.beginPath();\r\n          context.moveTo(move, canvas.height / 2);\r\n          context.lineWidth = 8;\r\n          const val = elems[i].value;\r\n          move += val / total * canvas.width;\r\n          context.strokeStyle = this.colorScheme.domain[i];\r\n          context.lineTo(move - 5, canvas.height / 2);\r\n          context.stroke();\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { Component, OnInit, Input, AfterViewInit, Output, EventEmitter, OnChanges, Renderer2, ElementRef, ViewChild } from '@angular/core';\r\nimport { WidgetActionType } from '../core/enums/widget-action-type.enum';\r\nimport { ChartDataMulti } from '../core/interfaces/chart-data-interface';\r\nimport { UtilService } from '../core/services/util.service';\r\n\r\n@Component({\r\n  selector: 'cmacs-normalized-horizontal-bar-chart',\r\n  templateUrl: './cmacs-normalized-horizontal-bar-chart.component.html',\r\n  styleUrls: ['./cmacs-normalized-horizontal-bar-chart.component.css']\r\n})\r\nexport class CmacsNormalizedHorizontalBarChartComponent implements OnInit, OnChanges {\r\n\r\n  @Output() clickMenu = new EventEmitter<any>();\r\n  @ViewChild('legendContent', { read: ElementRef }) public legendContent: ElementRef<any>;\r\n\r\n  // content\r\n  @Input() data!: ChartDataMulti[];\r\n  @Input() view!: number[];\r\n  width = 275;\r\n  height = 300;\r\n\r\n  displayArrowBtns = true;\r\n\r\n  // otpions\r\n  @Input() colorScheme = {\r\n    domain: ['#00CE7D', '#FFC634', '#F6503C']\r\n  };\r\n\r\n  id;\r\n\r\n  legend!: string[];\r\n\r\n  constructor(\r\n    private renderer: Renderer2,\r\n    private elementRef: ElementRef,\r\n    private util: UtilService\r\n  ) {\r\n    this.id = util.uuidv4();\r\n  }\r\n\r\n  ngOnInit() {\r\n    let temp: any[] = [];\r\n    this.data.map(d => d.series.map(x => x.name)).forEach((x) => temp = [...temp, ...x]);\r\n    this.legend  = Array.from(new Set([...temp]));\r\n  }\r\n\r\n  ngOnChanges() {\r\n    if (this.view && this.view.length === 2) {\r\n      this.width = this.view[0];\r\n      this.height = this.view[1] - 70;\r\n\r\n      if(this.renderer) {\r\n        this.resize();\r\n      }\r\n    }\r\n\r\n    setTimeout(() => {\r\n      for (let index = 0; index < this.data.length; index++) {\r\n        const canvas = document.getElementById('canvas-' + this.id + '-' + index)  as HTMLCanvasElement;\r\n        if (canvas.getContext) {\r\n          //\r\n          const context = canvas.getContext('2d');\r\n          const val = this.view[0] - 146;\r\n          canvas.width = (val > 0) ? val : 0;\r\n          canvas.height = 20;\r\n          const total = this.data[index].series.map(s => s.value).reduce((a, b) => a + b, 0);\r\n          let move = 0;\r\n          //\r\n          const elems = this.data[index].series.sort((a, b) =>\r\n            this.legend.findIndex(y => y === a.name) - this.legend.findIndex(y => y === b.name)\r\n          );\r\n          for (let j = 0; j < elems.length; j++) {\r\n            // Reset the current path\r\n            context.beginPath();\r\n            context.moveTo(move, 0);\r\n            context.lineWidth = 15;\r\n            const val = elems[j].value;\r\n            move += val / total * canvas.width;\r\n            context.strokeStyle = this.colorScheme.domain[j];\r\n            context.lineTo(move - 5, 0);\r\n            context.stroke();\r\n          }\r\n        }\r\n      }\r\n    }, 0);\r\n\r\n    this.showArrowBtns();\r\n  }\r\n\r\n  resize() {\r\n    const width = this.view[0] - 15;\r\n    this.renderer.setStyle(this.elementRef.nativeElement, 'width', `${width}px`);\r\n  }\r\n\r\n  scrollRight(): void {\r\n    this.legendContent.nativeElement.scrollTo({ left: (this.legendContent.nativeElement.scrollLeft - 40), behavior: 'smooth' });\r\n  }\r\n\r\n  scrollLeft(): void {\r\n    this.legendContent.nativeElement.scrollTo({ left: (this.legendContent.nativeElement.scrollLeft + 40), behavior: 'smooth' });\r\n  }\r\n\r\n\r\n  menuClick(type: WidgetActionType): void {\r\n    this.clickMenu.emit(type);\r\n  }\r\n\r\n  showArrowBtns(): void {\r\n    if (this.legend) {\r\n      const text = this.legend.map(i => i + 'space');\r\n      const tsize = this.util.get_tex_size(text, '12px Roboto-Regular');\r\n      this.displayArrowBtns = tsize.width > this.view[0] - 35;\r\n    }\r\n  }\r\n}\r\n","export enum WidgetActionType {\r\n    edit,\r\n    remove,\r\n    openNewWindow,\r\n    verticalBarChart,\r\n    horizontalBarChart,\r\n    pieChart,\r\n    lineChart,\r\n    gauge,\r\n    fitToData,\r\n    distributeEvenly\r\n}\r\n","export enum WidgetType {\r\n    general = 'general',\r\n    resourcesOverview = 'resourcesOverview',\r\n    defects = 'defects',\r\n    burnDown = 'toDosBurndown',\r\n    priorityDistribution = 'priorityDistribution',\r\n    employeeHours = 'employeeHours',\r\n    locationDistribution = 'locationDistribution',\r\n    emsGroups = 'emsGroups',\r\n    projectProgress = 'projectProgress'\r\n}\r\n\r\nexport enum WidgetDataType {\r\n    single = 'single',\r\n    multi = 'multi'\r\n}\r\n","import { Component, OnInit, Input, OnChanges } from '@angular/core';\r\nimport { WidgetActionType } from '../core/enums/widget-action-type.enum';\r\nimport { WidgetDataType } from '../core/enums/widget-type.enum';\r\n\r\n@Component({\r\n  selector: 'cmacs-general-chart',\r\n  templateUrl: './cmacs-general-chart.component.html',\r\n  styleUrls: ['./cmacs-general-chart.component.css']\r\n})\r\nexport class CmacsGeneralChartComponent implements OnInit {\r\n\r\n  // content\r\n  @Input() data: any[] = [];\r\n\r\n  // options\r\n  @Input() chartSelected: WidgetActionType = WidgetActionType.verticalBarChart;\r\n  @Input() dataType = WidgetDataType.single;\r\n  @Input() showXAxis = true;\r\n  @Input() showXAxisLabel = false;\r\n  @Input() xAxisLabel = '';\r\n  @Input() showYAxis = true;\r\n  @Input() showYAxisLabel = false;\r\n  @Input() yAxisLabel = '';\r\n  @Input() showLegend = true;\r\n  @Input() legendTitle = '';\r\n\r\n  //\r\n  @Input() view!: number[];\r\n  @Input() colorScheme = {\r\n    domain: ['#5AA454', '#C7B42C', '#AAAAAA']\r\n  };\r\n\r\n  legendPosition = 'below';\r\n  WidgetActionTypeEnum = WidgetActionType;\r\n  WidgetDataTypeEnum = WidgetDataType;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  menuClick(type: WidgetActionType): void {\r\n    if (this.isChartTypeMenu(type)) {\r\n      this.chartSelected = type;\r\n    }\r\n  }\r\n\r\n  isChartTypeMenu(type: WidgetActionType): boolean {\r\n    return type === WidgetActionType.verticalBarChart || type === WidgetActionType.horizontalBarChart\r\n      || type === WidgetActionType.pieChart || type === WidgetActionType.lineChart || type === WidgetActionType.gauge;\r\n  }\r\n\r\n}\r\n"," import {\r\n   Component,\r\n   Input,\r\n    ViewEncapsulation,\r\n//   Output,\r\n//   EventEmitter,\r\n//   ViewChild,\r\n//   HostListener,\r\n//   ContentChild,\r\n//   TemplateRef\r\n  } from '@angular/core';\r\n\r\n// import { curveLinear } from 'd3-shape';\r\n// import { scaleBand, scaleLinear, scalePoint, scaleTime } from 'd3-scale';\r\n// import {\r\n//   BaseChartComponent,\r\n//   LineSeriesComponent,\r\n//   ViewDimensions,\r\n//   ColorHelper,\r\n//   calculateViewDimensions\r\n// } from '@swimlane/ngx-charts';\r\n\r\n @Component({\r\n  selector: 'cmacs-combo-chart',\r\n  templateUrl: './cmacs-combo-chart.component.html',\r\n  styleUrls: ['./cmacs-combo-chart.component.css'],\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class CmacsComboChartComponent { // extends BaseChartComponent {\r\n\r\n  @Input() curve: any; // = curveLinear;\r\n  @Input() legend = false;\r\n  @Input() legendTitle = 'Legend';\r\n  @Input() legendPosition = 'right';\r\n  @Input() xAxis;\r\n  @Input() yAxis;\r\n  @Input() showXAxisLabel;\r\n  @Input() showYAxisLabel;\r\n  @Input() showRightYAxisLabel;\r\n  @Input() xAxisLabel;\r\n  @Input() yAxisLabel;\r\n  @Input() yAxisLabelRight;\r\n  @Input() tooltipDisabled = false;\r\n  @Input() gradient: boolean;\r\n  @Input() showGridLines = true;\r\n  @Input() activeEntries: any[] = [];\r\n  @Input() schemeType: string;\r\n  @Input() xAxisTickFormatting: any;\r\n  @Input() yAxisTickFormatting: any;\r\n  @Input() yRightAxisTickFormatting: any;\r\n  @Input() roundDomains = false;\r\n  @Input() colorSchemeLine: any[];\r\n  @Input() autoScale;\r\n  @Input() lineChart: any;\r\n  @Input() yLeftAxisScaleFactor: any;\r\n  @Input() yRightAxisScaleFactor: any;\r\n  @Input() rangeFillOpacity: number;\r\n  @Input() animations = true;\r\n  @Input() noBarWhenZero = true;\r\n\r\n//   @Output() activate: EventEmitter<any> = new EventEmitter();\r\n//   @Output() deactivate: EventEmitter<any> = new EventEmitter();\r\n\r\n//   @ContentChild('tooltipTemplate') tooltipTemplate: TemplateRef<any>;\r\n//   @ContentChild('seriesTooltipTemplate') seriesTooltipTemplate: TemplateRef<any>;\r\n\r\n//   @ViewChild(LineSeriesComponent) lineSeriesComponent: LineSeriesComponent;\r\n\r\n//   dims: ViewDimensions;\r\n//   xScale: any;\r\n//   yScale: any;\r\n//   xDomain: any;\r\n//   yDomain: any;\r\n//   transform: string;\r\n//   colors: ColorHelper;\r\n//   colorsLine: ColorHelper;\r\n//   margin: any[] = [10, 20, 10, 20];\r\n//   xAxisHeight = 0;\r\n//   yAxisWidth = 0;\r\n//   legendOptions: any;\r\n//   scaleType = 'linear';\r\n//   xScaleLine;\r\n//   yScaleLine;\r\n//   xDomainLine;\r\n//   yDomainLine;\r\n//   seriesDomain;\r\n//   scaledAxis;\r\n//   combinedSeries;\r\n//   xSet;\r\n//   filteredDomain;\r\n//   hoveredVertical;\r\n//   yOrientLeft = 'left';\r\n//   yOrientRight = 'right';\r\n//   legendSpacing = 0;\r\n//   bandwidth;\r\n//   barPadding = 8;\r\n\r\n//   trackBy(index, item): string {\r\n//     return item.name;\r\n//   }\r\n\r\n//   update(): void {\r\n//     super.update();\r\n//     this.dims = calculateViewDimensions({\r\n//       width: this.width,\r\n//       height: this.height,\r\n//       margins: this.margin,\r\n//       showXAxis: this.xAxis,\r\n//       showYAxis: this.yAxis,\r\n//       xAxisHeight: this.xAxisHeight,\r\n//       yAxisWidth: this.yAxisWidth,\r\n//       showXLabel: this.showXAxisLabel,\r\n//       showYLabel: this.showYAxisLabel,\r\n//       showLegend: this.legend,\r\n//       legendType: this.schemeType,\r\n//       legendPosition: this.legendPosition\r\n//     });\r\n\r\n//     if (!this.yAxis) {\r\n//       this.legendSpacing = 0;\r\n//     } else if (this.showYAxisLabel && this.yAxis) {\r\n//       this.legendSpacing = 100;\r\n//     } else {\r\n//       this.legendSpacing = 40;\r\n//     }\r\n//     this.xScale = this.getXScale();\r\n//     this.yScale = this.getYScale();\r\n\r\n//     // line chart\r\n//     this.xDomainLine = this.getXDomainLine();\r\n//     if (this.filteredDomain) {\r\n//       this.xDomainLine = this.filteredDomain;\r\n//     }\r\n\r\n//     this.yDomainLine = this.getYDomainLine();\r\n//     this.seriesDomain = this.getSeriesDomain();\r\n\r\n//     this.scaleLines();\r\n\r\n//     this.setColors();\r\n//     this.legendOptions = this.getLegendOptions();\r\n\r\n//     this.transform = `translate(${this.dims.xOffset} , ${this.margin[0]})`;\r\n//   }\r\n\r\n//   deactivateAll() {\r\n//     this.activeEntries = [...this.activeEntries];\r\n//     for (const entry of this.activeEntries) {\r\n//       this.deactivate.emit({ value: entry, entries: [] });\r\n//     }\r\n//     this.activeEntries = [];\r\n//   }\r\n\r\n//   @HostListener('mouseleave')\r\n//   hideCircles(): void {\r\n//     this.hoveredVertical = null;\r\n//     this.deactivateAll();\r\n//   }\r\n\r\n//   updateHoveredVertical(item): void {\r\n//     this.hoveredVertical = item.value;\r\n//     this.deactivateAll();\r\n//   }\r\n\r\n//   updateDomain(domain): void {\r\n//     this.filteredDomain = domain;\r\n//     this.xDomainLine = this.filteredDomain;\r\n//     this.xScaleLine = this.getXScaleLine(this.xDomainLine, this.dims.width);\r\n//   }\r\n\r\n//   scaleLines() {\r\n//     this.xScaleLine = this.getXScaleLine(this.xDomainLine, this.dims.width);\r\n//     this.yScaleLine = this.getYScaleLine(this.yDomainLine, this.dims.height);\r\n//   }\r\n\r\n//   getSeriesDomain(): any[] {\r\n//     this.combinedSeries = this.lineChart.slice(0);\r\n//     this.combinedSeries.push({\r\n//       name: this.yAxisLabel,\r\n//       series: this.results\r\n//     });\r\n//     return this.combinedSeries.map(d => d.name);\r\n//   }\r\n\r\n//   isDate(value): boolean {\r\n//     if (value instanceof Date) {\r\n//       return true;\r\n//     }\r\n\r\n//     return false;\r\n//   }\r\n\r\n//   getScaleType(values): string {\r\n//     let date = true;\r\n//     let num = true;\r\n\r\n//     for (const value of values) {\r\n//       if (!this.isDate(value)) {\r\n//         date = false;\r\n//       }\r\n\r\n//       if (typeof value !== 'number') {\r\n//         num = false;\r\n//       }\r\n//     }\r\n\r\n//     if (date) { return 'time'; }\r\n//     if (num) { return 'linear'; }\r\n//     return 'ordinal';\r\n//   }\r\n\r\n//   getXDomainLine(): any[] {\r\n//     let values = [];\r\n\r\n//     for (const results of this.lineChart) {\r\n//       for (const d of results.series) {\r\n//         if (!values.includes(d.name)) {\r\n//           values.push(d.name);\r\n//         }\r\n//       }\r\n//     }\r\n\r\n//     this.scaleType = this.getScaleType(values);\r\n//     let domain = [];\r\n\r\n//     if (this.scaleType === 'time') {\r\n//       const min = Math.min(...values);\r\n//       const max = Math.max(...values);\r\n//       domain = [min, max];\r\n//     } else if (this.scaleType === 'linear') {\r\n//       values = values.map(v => Number(v));\r\n//       const min = Math.min(...values);\r\n//       const max = Math.max(...values);\r\n//       domain = [min, max];\r\n//     } else {\r\n//       domain = values;\r\n//     }\r\n\r\n//     this.xSet = values;\r\n//     return domain;\r\n//   }\r\n\r\n//   getYDomainLine(): any[] {\r\n//     const domain = [];\r\n\r\n//     for (const results of this.lineChart) {\r\n//       for (const d of results.series) {\r\n//         if (domain.indexOf(d.value) < 0) {\r\n//           domain.push(d.value);\r\n//         }\r\n//         if (d.min !== undefined) {\r\n//           if (domain.indexOf(d.min) < 0) {\r\n//             domain.push(d.min);\r\n//           }\r\n//         }\r\n//         if (d.max !== undefined) {\r\n//           if (domain.indexOf(d.max) < 0) {\r\n//             domain.push(d.max);\r\n//           }\r\n//         }\r\n//       }\r\n//     }\r\n\r\n//     let min = Math.min(...domain);\r\n//     const max = Math.max(...domain);\r\n//     if (this.yRightAxisScaleFactor) {\r\n//       const minMax = this.yRightAxisScaleFactor(min, max);\r\n//       return [Math.min(0, minMax.min), minMax.max];\r\n//     } else {\r\n//       min = Math.min(0, min);\r\n//       return [min, max];\r\n//     }\r\n//   }\r\n\r\n//   getXScaleLine(domain, width): any {\r\n//     let scale;\r\n//     if (this.bandwidth === undefined) {\r\n//       this.bandwidth = width - this.barPadding;\r\n//     }\r\n//     const offset = Math.floor((width + this.barPadding - (this.bandwidth + this.barPadding) * domain.length) / 2);\r\n\r\n//     if (this.scaleType === 'time') {\r\n//       scale = scaleTime()\r\n//         .range([0, width])\r\n//         .domain(domain);\r\n//     } else if (this.scaleType === 'linear') {\r\n//       scale = scaleLinear()\r\n//         .range([0, width])\r\n//         .domain(domain);\r\n\r\n//       if (this.roundDomains) {\r\n//         scale = scale.nice();\r\n//       }\r\n//     } else if (this.scaleType === 'ordinal') {\r\n//       scale = scalePoint()\r\n//         .range([offset + this.bandwidth / 2, width - offset - this.bandwidth / 2])\r\n//         .domain(domain);\r\n//     }\r\n\r\n//     return scale;\r\n//   }\r\n\r\n//   getYScaleLine(domain, height): any {\r\n//     const scale = scaleLinear()\r\n//       .range([height, 0])\r\n//       .domain(domain);\r\n\r\n//     return this.roundDomains ? scale.nice() : scale;\r\n//   }\r\n\r\n//   getXScale(): any {\r\n//     this.xDomain = this.getXDomain();\r\n//     const spacing = this.xDomain.length / (this.dims.width / this.barPadding + 1);\r\n//     return scaleBand()\r\n//       .range([0, this.dims.width])\r\n//       .paddingInner(spacing)\r\n//       .domain(this.xDomain);\r\n//   }\r\n\r\n//   getYScale(): any {\r\n//     this.yDomain = this.getYDomain();\r\n//     const scale = scaleLinear()\r\n//       .range([this.dims.height, 0])\r\n//       .domain(this.yDomain);\r\n//     return this.roundDomains ? scale.nice() : scale;\r\n//   }\r\n\r\n//   getXDomain(): any[] {\r\n//     return this.results.map(d => d.name);\r\n//   }\r\n\r\n//   getYDomain() {\r\n//     const values = this.results.map(d => d.value);\r\n//     const min = Math.min(0, ...values);\r\n//     const max = Math.max(...values);\r\n//     if (this.yLeftAxisScaleFactor) {\r\n//       const minMax = this.yLeftAxisScaleFactor(min, max);\r\n//       return [Math.min(0, minMax.min), minMax.max];\r\n//     } else {\r\n//       return [min, max];\r\n//     }\r\n//   }\r\n\r\n//   onClick(data) {\r\n//     this.select.emit(data);\r\n//   }\r\n\r\n//   setColors(): void {\r\n//     let domain;\r\n//     if (this.schemeType === 'ordinal') {\r\n//       domain = this.xDomain;\r\n//     } else {\r\n//       domain = this.yDomain;\r\n//     }\r\n//     this.colors = new ColorHelper(this.scheme, this.schemeType, domain, this.customColors);\r\n//     this.colorsLine = new ColorHelper(this.colorSchemeLine, this.schemeType, domain, this.customColors);\r\n//   }\r\n\r\n//   getLegendOptions() {\r\n//     const opts = {\r\n//       scaleType: this.schemeType,\r\n//       colors: undefined,\r\n//       domain: [],\r\n//       title: undefined,\r\n//       position: this.legendPosition\r\n//     };\r\n//     if (opts.scaleType === 'ordinal') {\r\n//       opts.domain = this.seriesDomain;\r\n//       opts.colors = this.colorsLine;\r\n//       opts.title = this.legendTitle;\r\n//     } else {\r\n//       opts.domain = this.seriesDomain;\r\n//       opts.colors = this.colors.scale;\r\n//     }\r\n//     return opts;\r\n//   }\r\n\r\n//   updateLineWidth(width): void {\r\n//     this.bandwidth = width;\r\n//     this.scaleLines();\r\n//   }\r\n\r\n//   updateYAxisWidth({ width }): void {\r\n//     this.yAxisWidth = width + 20;\r\n//     this.update();\r\n//   }\r\n\r\n//   updateXAxisHeight({ height }): void {\r\n//     this.xAxisHeight = height;\r\n//     this.update();\r\n//   }\r\n\r\n//   onActivate(item) {\r\n//     const idx = this.activeEntries.findIndex(d => {\r\n//       return d.name === item.name && d.value === item.value && d.series === item.series;\r\n//     });\r\n//     if (idx > -1) {\r\n//       return;\r\n//     }\r\n\r\n//     this.activeEntries = [item, ...this.activeEntries];\r\n//     this.activate.emit({ value: item, entries: this.activeEntries });\r\n//   }\r\n\r\n//   onDeactivate(item) {\r\n//     const idx = this.activeEntries.findIndex(d => {\r\n//       return d.name === item.name && d.value === item.value && d.series === item.series;\r\n//     });\r\n\r\n//     this.activeEntries.splice(idx, 1);\r\n//     this.activeEntries = [...this.activeEntries];\r\n\r\n//     this.deactivate.emit({ value: item, entries: this.activeEntries });\r\n//   }\r\n\r\n}\r\n","import { Component, Input, Output, EventEmitter, OnChanges, ChangeDetectionStrategy } from '@angular/core';\r\nimport { trigger, style, animate, transition } from '@angular/animations';\r\nimport { formatLabel } from '@swimlane/ngx-charts/release/common/label.helper';\r\n\r\n@Component({\r\n  // tslint:disable-next-line: component-selector\r\n  selector: 'g[ngx-combo-charts-series-vertical]',\r\n  template: `\r\n    <svg:g\r\n      ngx-charts-bar\r\n      *ngFor=\"let bar of bars; trackBy: trackBy\"\r\n      [@animationState]=\"'active'\"\r\n      [width]=\"bar.width\"\r\n      [height]=\"bar.height\"\r\n      [x]=\"bar.x\"\r\n      [y]=\"bar.y\"\r\n      [fill]=\"bar.color\"\r\n      [stops]=\"bar.gradientStops\"\r\n      [data]=\"bar.data\"\r\n      [orientation]=\"'vertical'\"\r\n      [roundEdges]=\"bar.roundEdges\"\r\n      [gradient]=\"gradient\"\r\n      [isActive]=\"isActive(bar.data)\"\r\n      [animations]=\"animations\"\r\n      [noBarWhenZero]=\"noBarWhenZero\"\r\n      (select)=\"onClick($event)\"\r\n      (activate)=\"activate.emit($event)\"\r\n      (deactivate)=\"deactivate.emit($event)\"\r\n      ngx-tooltip\r\n      [tooltipDisabled]=\"tooltipDisabled\"\r\n      [tooltipPlacement]=\"'top'\"\r\n      [tooltipType]=\"'tooltip'\"\r\n      [tooltipTitle]=\"bar.tooltipText\"\r\n    ></svg:g>\r\n  `,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  animations: [\r\n    trigger('animationState', [\r\n      transition('* => void', [\r\n        style({\r\n          opacity: 1,\r\n          transform: '*'\r\n        }),\r\n        animate(500, style({ opacity: 0, transform: 'scale(0)' }))\r\n      ])\r\n    ])\r\n  ]\r\n})\r\nexport class CmacsComboSeriesVerticalComponent implements OnChanges {\r\n  @Input() dims;\r\n  @Input() type = 'standard';\r\n  @Input() series;\r\n  @Input() seriesLine;\r\n  @Input() xScale;\r\n  @Input() yScale;\r\n  @Input() colors;\r\n  @Input() tooltipDisabled = false;\r\n  @Input() gradient: boolean;\r\n  @Input() activeEntries: any[];\r\n  @Input() seriesName: string;\r\n  @Input() animations = true;\r\n  @Input() noBarWhenZero = true;\r\n\r\n  @Output() select = new EventEmitter();\r\n  @Output() activate = new EventEmitter();\r\n  @Output() deactivate = new EventEmitter();\r\n  @Output() bandwidth = new EventEmitter();\r\n\r\n  bars: any;\r\n  x: any;\r\n  y: any;\r\n\r\n  ngOnChanges(changes): void {\r\n    this.update();\r\n  }\r\n\r\n  update(): void {\r\n    let width;\r\n    if (this.series.length) {\r\n      width = this.xScale.bandwidth();\r\n      this.bandwidth.emit(width);\r\n    }\r\n\r\n    let d0 = 0;\r\n    let total;\r\n    if (this.type === 'normalized') {\r\n      total = this.series.map(d => d.value).reduce((sum, d) => sum + d, 0);\r\n    }\r\n\r\n    this.bars = this.series.map((d, index) => {\r\n      let value = d.value;\r\n      const label = d.name;\r\n      const formattedLabel = formatLabel(label);\r\n      const roundEdges = this.type === 'standard';\r\n\r\n      const bar: any = {\r\n        value,\r\n        label,\r\n        roundEdges,\r\n        data: d,\r\n        width,\r\n        formattedLabel,\r\n        height: 0,\r\n        x: 0,\r\n        y: 0\r\n      };\r\n\r\n      if (this.type === 'standard') {\r\n        bar.height = Math.abs(this.yScale(value) - this.yScale(0));\r\n        bar.x = this.xScale(label);\r\n\r\n        if (value < 0) {\r\n          bar.y = this.yScale(0);\r\n        } else {\r\n          bar.y = this.yScale(value);\r\n        }\r\n      } else if (this.type === 'stacked') {\r\n        const offset0 = d0;\r\n        const offset1 = offset0 + value;\r\n        d0 += value;\r\n\r\n        bar.height = this.yScale(offset0) - this.yScale(offset1);\r\n        bar.x = 0;\r\n        bar.y = this.yScale(offset1);\r\n        bar.offset0 = offset0;\r\n        bar.offset1 = offset1;\r\n      } else if (this.type === 'normalized') {\r\n        let offset0 = d0;\r\n        let offset1 = offset0 + value;\r\n        d0 += value;\r\n\r\n        if (total > 0) {\r\n          offset0 = (offset0 * 100) / total;\r\n          offset1 = (offset1 * 100) / total;\r\n        } else {\r\n          offset0 = 0;\r\n          offset1 = 0;\r\n        }\r\n\r\n        bar.height = this.yScale(offset0) - this.yScale(offset1);\r\n        bar.x = 0;\r\n        bar.y = this.yScale(offset1);\r\n        bar.offset0 = offset0;\r\n        bar.offset1 = offset1;\r\n        value = (offset1 - offset0).toFixed(2) + '%';\r\n      }\r\n\r\n      if (this.colors.scaleType === 'ordinal') {\r\n        bar.color = this.colors.getColor(label);\r\n      } else {\r\n        if (this.type === 'standard') {\r\n          bar.color = this.colors.getColor(value);\r\n          bar.gradientStops = this.colors.getLinearGradientStops(value);\r\n        } else {\r\n          bar.color = this.colors.getColor(bar.offset1);\r\n          bar.gradientStops = this.colors.getLinearGradientStops(bar.offset1, bar.offset0);\r\n        }\r\n      }\r\n\r\n      let tooltipLabel = formattedLabel;\r\n      if (this.seriesName) {\r\n        tooltipLabel = `${this.seriesName} â¢ ${formattedLabel}`;\r\n      }\r\n\r\n      this.getSeriesTooltips(this.seriesLine, index);\r\n      const lineValue = this.seriesLine[0].series[index].value;\r\n      bar.tooltipText = `\r\n        <span class=\"tooltip-label\">${tooltipLabel}</span>\r\n        <span class=\"tooltip-val\"> Y1 - ${value.toLocaleString()} â¢ Y2 - ${lineValue.toLocaleString()}%</span>\r\n      `;\r\n\r\n      return bar;\r\n    });\r\n  }\r\n  getSeriesTooltips(seriesLine, index) {\r\n    return seriesLine.map(d => {\r\n      return d.series[index];\r\n    });\r\n  }\r\n  isActive(entry): boolean {\r\n    if (!this.activeEntries) { return false; }\r\n    const item = this.activeEntries.find(d => {\r\n      return entry.name === d.name && entry.series === d.series;\r\n    });\r\n    return item !== undefined;\r\n  }\r\n\r\n  onClick(data): void {\r\n    this.select.emit(data);\r\n  }\r\n\r\n  trackBy(index, bar): string {\r\n    return bar.label;\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  Input,\r\n  ViewChild,\r\n  ElementRef, AfterViewInit\r\n} from '@angular/core';\r\nimport {DomSanitizer} from \"@angular/platform-browser\";\r\nimport {InputBoolean} from \"ng-zorro-antd\";\r\n\r\nexport const KPI_COLORS = [\r\n  '#2a7cff',\r\n  '#00cda1',\r\n  '#ffa234',\r\n  '#a100cd',\r\n  '#cc2229',\r\n  '#009fe3',\r\n  '#688cda',\r\n  '#bec4cd'\r\n];\r\n\r\nexport const KPI_PRIORITY_COLORS = {\r\n  high: '#f6503c',\r\n  medium: '#ffc634',\r\n  low: '#00ce7d'\r\n};\r\n\r\nexport interface KPI {\r\n  count: number;\r\n  description: string;\r\n  priority?: 'low' | 'high' | 'medium';\r\n}\r\n\r\n@Component({\r\n  selector: 'cmacs-kpi',\r\n  exportAs: 'cmacsKpi',\r\n  templateUrl: './cmacs-kpi.component.html',\r\n  styleUrls: ['./cmacs-kpi.component.css'],\r\n  styles: [\r\n    `\r\n      cmacs-kpi {\r\n        display: block;\r\n      }\r\n    `\r\n  ]\r\n})\r\nexport class CmacsKpiComponent implements AfterViewInit {\r\n\r\n  @Input() data: KPI[];\r\n  @Input() title: string;\r\n  @Input() @InputBoolean() priority = false;\r\n  @Input() type: 'line' | 'doughnut' = 'line';\r\n  @Input() width: number = 84;\r\n  @Input() @InputBoolean() showTotalCount = false;\r\n  @ViewChild('canvas', { read: ElementRef }) canvasRef: ElementRef;\r\n\r\n  constructor(private sanitizer: DomSanitizer) { }\r\n\r\n  ngAfterViewInit() {\r\n    if (this.canvasRef) {\r\n      const canvas = this.canvasRef.nativeElement as HTMLCanvasElement;\r\n      canvas.width = this.width;\r\n      canvas.height = this.width;\r\n      const ctx = canvas.getContext(\"2d\");\r\n\r\n      let start_angle = 0;\r\n      let data = this.getColoredData();\r\n\r\n      if (this.getTotalCount() > 0) {\r\n        for (let categ of data){\r\n          let val = categ.count;\r\n          let slice_angle = 2 * Math.PI * val / this.getTotalCount();\r\n\r\n          this.drawPieSlice(\r\n            ctx,\r\n            canvas.width/2,\r\n            canvas.height/2,\r\n            Math.min(canvas.width/2, canvas.height/2),\r\n            start_angle,\r\n            start_angle + slice_angle,\r\n            categ.color\r\n          );\r\n\r\n          start_angle += slice_angle;\r\n        }\r\n      } else {\r\n        this.drawPieSlice(\r\n          ctx,\r\n          canvas.width/2,\r\n          canvas.height/2,\r\n          Math.min(canvas.width/2, canvas.height/2),\r\n          start_angle,\r\n          start_angle + 2 * Math.PI,\r\n          '#dee0e5'\r\n        );\r\n      }\r\n\r\n\r\n      //drawing a white circle over the chart\r\n      //to create the doughnut chart\r\n      this.drawPieSlice(\r\n        ctx,\r\n        canvas.width/2,\r\n        canvas.height/2,\r\n        0.8 * Math.min(canvas.width/2, canvas.height/2),\r\n        0,\r\n        2 * Math.PI,\r\n        \"#ffffff\"\r\n      );\r\n    }\r\n\r\n  }\r\n\r\n  getColoredDataPriority() {\r\n    let coloredData = [];\r\n    this.data.forEach((item) => {\r\n      coloredData.push({\r\n        count: item.count,\r\n        description: item.description,\r\n        color: KPI_PRIORITY_COLORS[item.priority],\r\n        opacity: 1\r\n      });\r\n    });\r\n    return coloredData;\r\n  }\r\n\r\n  drawPieSlice(ctx: any,centerX: number, centerY: number, radius: number, startAngle: number, endAngle: number, color: any ){\r\n    ctx.fillStyle = color;\r\n    ctx.beginPath();\r\n    ctx.moveTo(centerX,centerY);\r\n    ctx.arc(centerX, centerY, radius, startAngle, endAngle);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n  }\r\n\r\n  drawLine(ctx: any, startX: number, startY: number, endX: number, endY: number){\r\n    ctx.beginPath();\r\n    ctx.moveTo(startX,startY);\r\n    ctx.lineTo(endX,endY);\r\n    ctx.stroke();\r\n  }\r\n\r\n  drawArc(ctx: any, centerX: number, centerY: number, radius: number, startAngle: number, endAngle: number){\r\n    ctx.beginPath();\r\n    ctx.arc(centerX, centerY, radius, startAngle, endAngle);\r\n    ctx.stroke();\r\n  }\r\n\r\n  sanitizeStyle(style: string) {\r\n    return this.sanitizer.bypassSecurityTrustStyle(style);\r\n  }\r\n\r\n  getTotalCount() {\r\n    let total = 0;\r\n    this.data.forEach((item) => {\r\n      total += item.count;\r\n    });\r\n    return total;\r\n  }\r\n\r\n  getWidth(count: number) {\r\n    return count !== 0 ? Math.trunc(count * 100 / this.getTotalCount()) - 2 : 0;\r\n  }\r\n\r\n  getColoredData() {\r\n    if (!this.priority) {\r\n      let coloredData: any = [];\r\n      const remaining = this.data.length % KPI_COLORS.length;\r\n      let rate = this.data.length / KPI_COLORS.length;\r\n      if (remaining > 0) {\r\n        rate = Math.trunc(rate) + 1;\r\n      }\r\n\r\n      let tempRate = rate;\r\n      let opacity = 1;\r\n      let colorIndex = 0;\r\n      this.data.forEach((item) => {\r\n        if (tempRate === 0) {\r\n          tempRate = rate;\r\n          colorIndex += 1;\r\n          opacity = 1;\r\n        }\r\n\r\n        if (colorIndex >= KPI_COLORS.length) {\r\n          colorIndex = 0;\r\n        }\r\n\r\n        if (opacity === 0.4) {\r\n          opacity = 1;\r\n        }\r\n\r\n        coloredData.push({\r\n          count: item.count,\r\n          description: item.description,\r\n          color: KPI_COLORS[colorIndex],\r\n          opacity: opacity\r\n        });\r\n\r\n        opacity = opacity - 0.2;\r\n        tempRate--;\r\n      });\r\n\r\n      return coloredData;\r\n    } else {\r\n      return this.getColoredDataPriority();\r\n    }\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, Input, ViewChild, ElementRef, AfterViewInit, OnChanges } from '@angular/core';\r\nimport { KPI, KPI_COLORS } from '../cmacs-kpi/cmacs-kpi.component';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\n\r\n@Component({\r\n  selector: 'cmacs-kpi-overview',\r\n  templateUrl: './cmacs-kpioverview.component.html',\r\n  styleUrls: ['./cmacs-kpioverview.component.css']\r\n})\r\nexport class CmacsKPIOverviewComponent implements OnChanges {\r\n\r\n  @Input() data: KPI[];\r\n  @Input() title: string;\r\n  @Input() view!: number[];\r\n  minWidth = 300;\r\n  fontChartNumber = 20;\r\n  chartWidth = 84;\r\n  p = 1;\r\n  type = 'doughnut';\r\n  @Input() colors: string[] = KPI_COLORS;\r\n\r\n  @ViewChild('canvas', {read: ElementRef}) canvasRef: ElementRef;\r\n\r\n  constructor(private sanitizer: DomSanitizer) { }\r\n\r\n  ngOnChanges() {\r\n    //\r\n    this.p = 1;\r\n    if (this.view && this.view.length === 2) {\r\n      this.p = this.view[0] > this.minWidth ? this.view[0] / this.minWidth : 1;\r\n    }\r\n\r\n    setTimeout(() => {\r\n      if (this.canvasRef) {\r\n        const canvas = this.canvasRef.nativeElement as HTMLCanvasElement;\r\n        canvas.width = this.chartWidth * this.p;\r\n        canvas.height = this.chartWidth * this.p;\r\n        const ctx = canvas.getContext('2d');\r\n\r\n        let startAngle = 0;\r\n        const data = this.getColoredData();\r\n        if (this.getTotalCount() > 0) {\r\n          for (const categ of data) {\r\n            const val = categ.count;\r\n            const sliceAngle = 2 * Math.PI * val / this.getTotalCount();\r\n            if (sliceAngle > 0) {\r\n              this.drawPieSlice(\r\n                ctx,\r\n                canvas.width / 2,\r\n                canvas.height / 2,\r\n                Math.min(canvas.width / 2, canvas.height / 2),\r\n                startAngle,\r\n                startAngle + sliceAngle - 0.05,\r\n                categ.color\r\n              );\r\n              startAngle += sliceAngle;\r\n            }\r\n          }\r\n        } else {\r\n          this.drawPieSlice(\r\n            ctx,\r\n            canvas.width / 2,\r\n            canvas.height / 2,\r\n            Math.min(canvas.width / 2, canvas.height / 2),\r\n            startAngle,\r\n            startAngle + 2 * Math.PI,\r\n            '#dee0e5'\r\n          );\r\n        }\r\n        // drawing a white circle over the chart\r\n        // to create the doughnut chart\r\n        this.drawPieSlice(\r\n          ctx,\r\n          canvas.width / 2,\r\n          canvas.height / 2,\r\n          0.8 * Math.min(canvas.width / 2, canvas.height / 2),\r\n          0,\r\n          2 * Math.PI,\r\n          '#ffffff'\r\n        );\r\n        // draw value\r\n        ctx.font = this.fontChartNumber * this.p + 'px Roboto-Regular ';\r\n        ctx.fillStyle = '#3b3f46';\r\n        ctx.textAlign = 'center';\r\n        ctx.fillText('' + this.getTotalCount(), canvas.width / 2, canvas.width / 2 + 8);\r\n      }\r\n    }, 50);\r\n  }\r\n\r\n  drawPieSlice(ctx: any, centerX: number, centerY: number, radius: number, startAngle: number, endAngle: number, color: any ){\r\n    ctx.fillStyle = color;\r\n    ctx.beginPath();\r\n    ctx.moveTo(centerX, centerY);\r\n    ctx.arc(centerX, centerY, radius, startAngle, endAngle);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n  }\r\n\r\n  drawArc(ctx: any, centerX: number, centerY: number, radius: number, startAngle: number, endAngle: number) {\r\n    ctx.beginPath();\r\n    ctx.arc(centerX, centerY, radius, startAngle, endAngle);\r\n    ctx.stroke();\r\n  }\r\n\r\n  sanitizeStyle(style: string) {\r\n    return this.sanitizer.bypassSecurityTrustStyle(style);\r\n  }\r\n\r\n  getTotalCount() {\r\n    let total = 0;\r\n    this.data.forEach((item) => {\r\n      total += item.count;\r\n    });\r\n    return total;\r\n  }\r\n\r\n  getWidth(count: number) {\r\n    return count !== 0 ? Math.trunc(count * 100 / this.getTotalCount()) - 2 : 0;\r\n  }\r\n\r\n  getColoredData() {\r\n    const coloredData: any = [];\r\n    const remaining = this.data.length % this.colors.length;\r\n    let rate = this.data.length / this.colors.length;\r\n    if (remaining > 0) {\r\n      rate = Math.trunc(rate) + 1;\r\n    }\r\n\r\n    let tempRate = rate;\r\n    let opacity = 1;\r\n    let colorIndex = 0;\r\n    this.data.forEach((item) => {\r\n      if (tempRate === 0) {\r\n        tempRate = rate;\r\n        colorIndex += 1;\r\n        opacity = 1;\r\n      }\r\n\r\n      if (colorIndex >= this.colors.length) {\r\n        colorIndex = 0;\r\n      }\r\n\r\n      if (opacity === 0.4) {\r\n        opacity = 1;\r\n      }\r\n\r\n      coloredData.push({\r\n        count: item.count,\r\n        description: item.description,\r\n        color: this.colors[colorIndex],\r\n        opacity: opacity\r\n      });\r\n\r\n      opacity = opacity - 0.2;\r\n      tempRate--;\r\n    });\r\n\r\n    return coloredData;\r\n  }\r\n}\r\n","import { Component, OnInit, ViewChild, TemplateRef, Output, EventEmitter, Input, AfterViewInit, ElementRef, OnChanges, Renderer2 } from '@angular/core';\r\nimport { WidgetActionType } from '../core/enums/widget-action-type.enum';\r\nimport { UtilService } from '../core/services/util.service';\r\n\r\n@Component({\r\n  selector: 'cmacs-kpi-group',\r\n  templateUrl: './cmacs-kpi-group.component.html',\r\n  styleUrls: ['./cmacs-kpi-group.component.css']\r\n})\r\nexport class CmacsKpiGroupComponent implements OnInit, AfterViewInit, OnChanges {\r\n\r\n  @ViewChild('columnTemplate', { read: TemplateRef }) columnTemplate: TemplateRef<{}>;\r\n  @ViewChild('chartcanvas', {read: ElementRef }) canvasRef: ElementRef;\r\n  @ViewChild('legendContent', { read: ElementRef }) public legendContent: ElementRef<any>;\r\n\r\n  @Output() clickMenu = new EventEmitter<any>();\r\n\r\n  // container\r\n  @Input() headerText = '';\r\n  @Input() footerText = '';\r\n  @Input() footerValue = '';\r\n\r\n  // content\r\n  // width, height\r\n  @Input() view!: number[];\r\n  @Input() data!: any[];\r\n  @Input() columnsHeader: string[] = [];\r\n\r\n  displayArrowBtns = true;\r\n\r\n  // chart\r\n  chartWidth = 104;\r\n  fontChartNumber = 20;\r\n  col2 = 150;\r\n  col3 = 70;\r\n  minWidth = 300;\r\n  showChart = false;\r\n  scrollY = 200;\r\n  p = 1;\r\n  scroll = {x: '300px', y: this.scrollY + 'px' };\r\n\r\n  dataTable: any[];\r\n  configurationExpandableRows: any;\r\n  loading = true;\r\n  selectedItem!: string;\r\n\r\n  constructor(\r\n    //\r\n    private renderer: Renderer2,\r\n    private elementRef: ElementRef,\r\n    private utilService: UtilService\r\n    //\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  ngOnChanges() {\r\n    this.setScroll();\r\n    //\r\n    this.p = 1;\r\n    if (this.view && this.view.length === 2) {\r\n      this.p = this.view[0] > this.minWidth ? this.view[0] / this.minWidth : 1;\r\n      if (this.renderer) {\r\n        this.resize();\r\n      }\r\n    }\r\n    //\r\n    this.showChart = false;\r\n    setTimeout(() => {\r\n      if (this.data.length > 0) {\r\n        this.selectedItem = this.data[0].key;\r\n      }\r\n      this.drawCanvas();\r\n      this.setConfiguration();\r\n      this.setData();\r\n    }, 0);\r\n    this.showChart = true;\r\n\r\n    this.showArrowBtns();\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.resize();\r\n  }\r\n\r\n  resize() {\r\n    const width = this.view[0];\r\n    this.renderer.setStyle(this.elementRef.nativeElement, 'width', `${width}px`);\r\n  }\r\n  //\r\n\r\n  setScroll() {\r\n    let p = 1;\r\n    if (this.view && this.view.length === 2) {\r\n      p = this.view[1] * 0.5 > this.scrollY ? this.view[1] * 0.5 / this.scrollY : 1;\r\n    }\r\n    this.scroll = {x: '300px', y: this.scrollY * p + 'px' };\r\n  }\r\n\r\n  scrollRight(): void {\r\n    this.legendContent.nativeElement.scrollTo({ left: (this.legendContent.nativeElement.scrollLeft - 40), behavior: 'smooth' });\r\n  }\r\n\r\n  scrollLeft(): void {\r\n    this.legendContent.nativeElement.scrollTo({ left: (this.legendContent.nativeElement.scrollLeft + 40), behavior: 'smooth' });\r\n  }\r\n\r\n  drawCanvas(): void {\r\n    const item = this.data.find(x => x.key === this.selectedItem);\r\n    if (this.canvasRef && item) {\r\n      const canvas = this.canvasRef.nativeElement as HTMLCanvasElement;\r\n\r\n      canvas.width = this.chartWidth * this.p;\r\n      canvas.height = this.chartWidth * this.p;\r\n      //\r\n      const ctx = canvas.getContext('2d');\r\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n      // totals\r\n      const totalShow = this.getTotalCateg(item.data);\r\n      const total = this.data.map(x => this.getTotalCateg(x.data)).reduce((a, b) => a + b, 0);\r\n      let startAngle = 4;\r\n\r\n      // draw data\r\n      for (const categ of this.data) {\r\n        const totalG =  this.getTotalCateg(categ.data);\r\n        const sliceAngle = 2 * Math.PI * totalG / total;\r\n        if (sliceAngle > 0 ) {\r\n          this.drawPieSlice(\r\n            ctx,\r\n            canvas.width / 2,\r\n            canvas.height / 2,\r\n            Math.min(canvas.width / 2, canvas.height / 2) - ((this.selectedItem === categ.key) ? 10 * this.p : 6 * this.p),\r\n            startAngle,\r\n            startAngle + sliceAngle - 0.05,\r\n            categ.color,\r\n            (this.selectedItem === categ.key) ? 15 * this.p : 7 * this.p\r\n          );\r\n          startAngle += sliceAngle;\r\n        }\r\n      }\r\n      // draw value\r\n      ctx.font = this.fontChartNumber * this.p + 'px Roboto-Regular ';\r\n      ctx.fillStyle = '#3b3f46';\r\n      ctx.textAlign = 'center';\r\n      ctx.fillText( '' + totalShow, canvas.width / 2, canvas.width / 2 + 5);\r\n    }\r\n  }\r\n\r\n  drawPieSlice(ctx: CanvasRenderingContext2D, centerX: number, centerY: number,\r\n               radius: number, startAngle: number, endAngle: number, color: any, lineWidth: number ) {\r\n    ctx.beginPath();\r\n    ctx.arc(centerX, centerY, radius, startAngle, endAngle);\r\n    ctx.lineWidth = lineWidth;\r\n    ctx.strokeStyle = color;\r\n    ctx.stroke();\r\n  }\r\n\r\n  getTotalCateg(data: any[]): number {\r\n    return data.map(x => x.value).reduce((a, b) => a + b, 0);\r\n  }\r\n\r\n  setConfiguration(): void {\r\n    //\r\n    this.configurationExpandableRows = {\r\n      fields: [\r\n        {\r\n          celdType: 3,\r\n          display: '',\r\n          property: 'color',\r\n          width: '60px',\r\n        },\r\n        {\r\n          celdType: 0,\r\n          display: this.columnsHeader[0],\r\n          property: 'name',\r\n          editTemplate: 3,\r\n          width: this.col2 * this.p + 'px',\r\n        },\r\n        {\r\n          celdType: 0,\r\n          display: this.columnsHeader[1],\r\n          property: 'value',\r\n          width: this.col3 * this.p + 'px',\r\n          editTemplate: 2,\r\n          editable: false\r\n        }\r\n      ],\r\n      fieldId: 'key',\r\n      fieldRate: 'fav'\r\n    };\r\n  }\r\n\r\n  setData(): void {\r\n    this.loading = true;\r\n    const temp: any[] = [];\r\n    if (this.selectedItem) {\r\n      const data = this.data.find(x => x.key === this.selectedItem);\r\n      for (const item of data.data) {\r\n        const newItem = {\r\n          key: item.key,\r\n          name: item.name,\r\n          color:  {\r\n            ref: this.columnTemplate,\r\n            context: {\r\n              color: data.color\r\n            }\r\n          },\r\n          value: item.value,\r\n          children: this.getChildren(item.rows)\r\n        };\r\n        temp.push(newItem);\r\n      }\r\n      this.dataTable = temp;\r\n    }\r\n    setTimeout(() => {\r\n      this.loading = false;\r\n    }, 0);\r\n  }\r\n  getChildren(items: any[]): any[] {\r\n    const output: any[] = [];\r\n    for (const item of items) {\r\n      output.push({\r\n        key: item.key,\r\n        name: item.name,\r\n        color: {},\r\n        value: ''\r\n      });\r\n    }\r\n    return output;\r\n  }\r\n\r\n  menuClick(type: WidgetActionType): void {\r\n    this.clickMenu.emit(type);\r\n  }\r\n\r\n  changeData(key: string) {\r\n    this.selectedItem = key;\r\n    this.setData();\r\n    this.drawCanvas();\r\n  }\r\n\r\n  showArrowBtns(): void {\r\n    const text = this.data.map(i => i.name + 'space');\r\n    const tsize = this.utilService.get_tex_size(text, '12px Roboto-Regular');\r\n    this.displayArrowBtns = tsize.width > this.view[0] - 15;\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, Output, EventEmitter, Input, AfterViewInit, ViewChild, TemplateRef, OnChanges, ElementRef, Renderer2 } from '@angular/core';\r\nimport { UtilService } from '../core/services/util.service';\r\nimport { WidgetActionType } from '../core/enums/widget-action-type.enum';\r\n\r\n@Component({\r\n  selector: 'cmacs-status-distribution',\r\n  templateUrl: './cmacs-status-distribution.component.html',\r\n  styleUrls: ['./cmacs-status-distribution.component.css']\r\n})\r\nexport class CmacsStatusDistributionComponent implements OnInit, AfterViewInit, OnChanges {\r\n\r\n  @ViewChild('columnTemplate', { read: TemplateRef }) columnTemplate: TemplateRef<{}>;\r\n  @ViewChild('legendContent', { read: ElementRef }) public legendContent: ElementRef<any>;\r\n\r\n  @Output() clickMenu = new EventEmitter<any>();\r\n\r\n  // content\r\n  @Input() view!: number[];\r\n  @Input() data!: any[];\r\n  @Input() columnsHeader: string[] = [];\r\n\r\n  displayArrowBtns = true;\r\n\r\n  // chart\r\n  col2 = 150;\r\n  col3 = 70;\r\n  minWidth = 300;\r\n  chartWidth = 300;\r\n  showChart = false;\r\n  scrollY = 100;\r\n  p = 1;\r\n  scroll = {x: '300px', y: this.scrollY + 'px' };\r\n\r\n  //\r\n  id;\r\n  dataTable: any[];\r\n  configurationExpandableRows: any;\r\n\r\n  constructor(\r\n    private renderer: Renderer2,\r\n    private elementRef: ElementRef,\r\n    private util: UtilService\r\n  ) {\r\n    this.id = util.uuidv4();\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  ngOnChanges() {\r\n    this.setScroll();\r\n    //\r\n    this.p = 1;\r\n    if (this.view && this.view.length === 2) {\r\n      this.p = this.view[0] > this.minWidth ? this.view[0] / this.minWidth : 1;\r\n      if (this.renderer) {\r\n        this.resize();\r\n      }\r\n    }\r\n    //\r\n    this.showChart = false;\r\n\r\n    setTimeout(() => {\r\n      this.drawCanvas();\r\n      this.setConfiguration();\r\n      this.setData();\r\n    }, 0);\r\n    this.showChart = true;\r\n\r\n    this.showArrowBtns();\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.resize();\r\n  }\r\n\r\n  resize() {\r\n    const width = this.view[0];\r\n    this.renderer.setStyle(this.elementRef.nativeElement, 'width', `${width}px`);\r\n  }\r\n\r\n  setScroll() {\r\n    if (this.view && this.view.length === 2) {\r\n      this.scrollY = this.view[1] - 100;\r\n    }\r\n    this.scroll = {x: '300px', y: this.scrollY + 'px' };\r\n  }\r\n\r\n  scrollRight(): void {\r\n    this.legendContent.nativeElement.scrollTo({ left: (this.legendContent.nativeElement.scrollLeft - 40), behavior: 'smooth' });\r\n  }\r\n\r\n  scrollLeft(): void {\r\n    this.legendContent.nativeElement.scrollTo({ left: (this.legendContent.nativeElement.scrollLeft + 40), behavior: 'smooth' });\r\n  }\r\n\r\n  menuClick(type: WidgetActionType): void {\r\n    this.clickMenu.emit(type);\r\n  }\r\n\r\n  setConfiguration(): void {\r\n    this.configurationExpandableRows = {\r\n      fields: [\r\n        {\r\n          celdType: 3,\r\n          display: '',\r\n          property: 'color',\r\n          width: '60px',\r\n        },\r\n        {\r\n          celdType: 0,\r\n          display: this.columnsHeader[0],\r\n          property: 'name',\r\n          editTemplate: 3,\r\n          width: this.col2 * this.p + 'px',\r\n        },\r\n        {\r\n          celdType: 0,\r\n          display: this.columnsHeader[1],\r\n          property: 'value',\r\n          width: this.col3 * this.p + 'px',\r\n          editTemplate: 2,\r\n          editable: false\r\n        }\r\n      ],\r\n      fieldId: 'key',\r\n      fieldRate: 'fav'\r\n    };\r\n  }\r\n\r\n  setData(): void {\r\n    const temp: any[] = [];\r\n    for (const item of this.data) {\r\n      const newItem = {\r\n        key: item.key,\r\n        name: item.name,\r\n        color: {\r\n          ref: this.columnTemplate,\r\n          context: {\r\n            color: item.color\r\n          }\r\n        },\r\n        value: item.value,\r\n        children: []\r\n      };\r\n      for (let i = 0; i < item.rows.length; i++) {\r\n        newItem.children.push({\r\n          key: item.key + '-' + i,\r\n          name: item.rows[i],\r\n          color: { },\r\n          value: ''\r\n        });\r\n      }\r\n      temp.push(newItem);\r\n    }\r\n    this.dataTable = temp;\r\n  }\r\n\r\n  drawCanvas(): void {\r\n    const canvas = document.getElementById('canvas-' + this.id)  as HTMLCanvasElement;\r\n    canvas.height = 40;\r\n    canvas.width = this.view[0];\r\n    if (canvas.getContext) {\r\n      const context = canvas.getContext('2d');\r\n      const total = this.data.map(x => x.value).reduce((a, b) => a + b, 0);\r\n      let move = 0;\r\n      for (const item of this.data) {\r\n        context.beginPath();\r\n        context.moveTo(move, 1);\r\n        context.lineWidth = 10;\r\n        const val = item.value;\r\n        move += val / total * canvas.width;\r\n        context.strokeStyle = item.color;\r\n        context.lineTo(move - 5, 1);\r\n        context.stroke();\r\n      }\r\n    }\r\n  }\r\n\r\n  showArrowBtns(): void {\r\n    const text = this.data.map(i => i.name + 'space');\r\n    const tsize = this.util.get_tex_size(text, '12px Roboto-Regular');\r\n    this.displayArrowBtns = tsize.width > this.view[0] - 15;\r\n  }\r\n}\r\n","import { Directive, ElementRef, Renderer2 } from '@angular/core';\r\n\r\n@Directive({\r\n  // tslint:disable-next-line: directive-selector\r\n  selector: 'a[cmacs-dropdown]'\r\n})\r\nexport class CmacsDropdownADirective {\r\n  constructor(private elementRef: ElementRef, private renderer: Renderer2) {\r\n    this.renderer.addClass(this.elementRef.nativeElement, 'ant-dropdown-link');\r\n  }\r\n}\r\n","import { Directive, ElementRef, Renderer2 } from '@angular/core';\r\nimport { fromEvent, merge, Observable } from 'rxjs';\r\nimport { mapTo, tap } from 'rxjs/operators';\r\n\r\n@Directive({\r\n  selector: '[cmacs-dropdown]',\r\n  exportAs: 'cmacsDropdown'\r\n})\r\nexport class CmacsDropdownDirective {\r\n  el: HTMLElement = this.elementRef.nativeElement;\r\n  hover$: Observable<boolean> = merge(\r\n    fromEvent(this.el, 'mouseenter').pipe(mapTo(true)),\r\n    fromEvent(this.el, 'mouseleave').pipe(mapTo(false))\r\n  );\r\n  $click: Observable<boolean> = fromEvent(this.el, 'click').pipe(\r\n    tap(e => e.stopPropagation()),\r\n    mapTo(true)\r\n  );\r\n\r\n  setDisabled(disabled: boolean): void {\r\n    if (disabled) {\r\n      this.renderer.setAttribute(this.el, 'disabled', '');\r\n    } else {\r\n      this.renderer.removeAttribute(this.el, 'disabled');\r\n    }\r\n  }\r\n\r\n  constructor(public elementRef: ElementRef, private renderer: Renderer2) {\r\n    renderer.addClass(elementRef.nativeElement, 'ant-dropdown-trigger');\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\nimport { NzMenuBaseService } from 'ng-zorro-antd/core';\r\n\r\n@Injectable()\r\nexport class CmacsMenuDropdownService extends NzMenuBaseService {\r\n  isInDropDown = true;\r\n}\r\n","import { CdkConnectedOverlay, ConnectedOverlayPositionChange, ConnectionPositionPair } from '@angular/cdk/overlay';\r\nimport {\r\n  AfterContentInit,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ContentChild, ElementRef,\r\n  EventEmitter,\r\n  Host, HostBinding,\r\n  Injector,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  Optional,\r\n  Output,\r\n  Self,\r\n  SimpleChanges,\r\n  ViewChild,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\n\r\nimport { combineLatest, merge, EMPTY, Observable, Subject } from 'rxjs';\r\nimport { debounceTime, distinctUntilChanged, map, mapTo, takeUntil } from 'rxjs/operators';\r\n\r\nimport {\r\n  slideMotion,\r\n  DEFAULT_DROPDOWN_POSITIONS,\r\n  InputBoolean,\r\n  NzDropdownHigherOrderServiceToken,\r\n  NzMenuBaseService,\r\n  NzNoAnimationDirective,\r\n  POSITION_MAP\r\n} from 'ng-zorro-antd/core';\r\nimport { NzMenuDirective } from 'ng-zorro-antd/menu';\r\n\r\nimport { CmacsDropdownDirective } from './cmacs-dropdown.directive';\r\nimport { CmacsMenuDropdownService } from './cmacs-menu-dropdown.service';\r\n\r\nexport type placement = 'bottomLeft' | 'bottomCenter' | 'bottomRight' | 'topLeft' | 'topCenter' | 'topRight' | 'leftTop' | 'rightTop';\r\n\r\nexport var CMACS_DROPDOWN_POSITIONS = [\r\n  POSITION_MAP.bottomLeft,\r\n  POSITION_MAP.bottomRight,\r\n  POSITION_MAP.topLeft,\r\n  POSITION_MAP.topRight,\r\n  POSITION_MAP.leftTop,\r\n  POSITION_MAP.rightTop\r\n];\r\n\r\nexport function menuServiceFactory(injector: Injector): NzMenuBaseService {\r\n  return injector.get(CmacsMenuDropdownService);\r\n}\r\n\r\n@Component({\r\n  selector: 'cmacs-dropdown',\r\n  exportAs: 'cmacsDropdown',\r\n  preserveWhitespaces: false,\r\n  providers: [\r\n    CmacsMenuDropdownService,\r\n    {\r\n      provide: NzDropdownHigherOrderServiceToken,\r\n      useFactory: menuServiceFactory,\r\n      deps: [[new Self(), Injector]]\r\n    }\r\n  ],\r\n  animations: [slideMotion],\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  templateUrl: './cmacs-dropdown.component.html',\r\n  styleUrls: ['./cmacs-dropdowm.component.css'],\r\n  styles: [\r\n    `\r\n      .ant-dropdown {\r\n        top: 100%;\r\n        left: 0;\r\n        position: relative;\r\n        width: 100%;\r\n        margin-top: 4px;\r\n        margin-bottom: 4px;\r\n      }\r\n    `\r\n  ]\r\n})\r\nexport class CmacsDropdownComponent implements OnDestroy, AfterContentInit, OnChanges {\r\n  triggerWidth = 0;\r\n  dropdownTriggerWidth = 0;\r\n  updatedPosition = 'bottom';\r\n  updatedOverLay = 'end';\r\n  updatedOrigin = 'end';\r\n  dropDownPosition: 'top' | 'center' | 'bottom' = 'bottom';\r\n  positions: ConnectionPositionPair[] = [...CMACS_DROPDOWN_POSITIONS];\r\n  visible$ = new Subject<boolean>();\r\n  private destroy$ = new Subject<void>();\r\n  @ContentChild(CmacsDropdownDirective) cmacsDropdownDirective: CmacsDropdownDirective;\r\n  @ContentChild(NzMenuDirective) nzMenuDirective: NzMenuDirective;\r\n  @ViewChild(CdkConnectedOverlay) cdkConnectedOverlay: CdkConnectedOverlay;\r\n  @Input() trigger: 'click' | 'hover' = 'hover';\r\n  @Input() overlayClassName = '';\r\n  @Input() overlayStyle: { [key: string]: string } = {};\r\n  @Input() placement: placement = 'bottomLeft';\r\n  @Input() @InputBoolean() clickHide = true;\r\n  @Input() @InputBoolean() disabled = false;\r\n  @Input() @InputBoolean() visible = false;\r\n  @Input() @InputBoolean() cmacsOpen = false;\r\n  @Input() @InputBoolean() tableFilter = false;\r\n  @Output() readonly visibleChange: EventEmitter<boolean> = new EventEmitter();\r\n\r\n  setVisibleStateWhen(visible: boolean, trigger: 'click' | 'hover' | 'all' = 'all'): void {\r\n    if (this.trigger === trigger || trigger === 'all') {\r\n      this.visible$.next(visible);\r\n    }\r\n  }\r\n\r\n  onPositionChange(position: ConnectedOverlayPositionChange): void {\r\n    this.dropDownPosition = position.connectionPair.originY;\r\n    this.updatedOverLay = position.connectionPair.overlayX;\r\n    this.updatedOrigin = position.connectionPair.originX;\r\n    this.updatedPosition = this.dropDownPosition;\r\n    this.cdr.detectChanges();\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  startSubscribe(observable$: Observable<boolean>): void {\r\n    const click$ = this.clickHide ? this.cmacsMenuDropdownService.menuItemClick$.pipe(mapTo(false)) : EMPTY;\r\n    combineLatest(merge(observable$, click$), this.cmacsMenuDropdownService.menuOpen$)\r\n      .pipe(\r\n        map(value => value[0] || value[1]),\r\n        debounceTime(50),\r\n        distinctUntilChanged(),\r\n        takeUntil(this.destroy$)\r\n      )\r\n      .subscribe(visible => {\r\n        if (!this.disabled && this.visible !== visible) {\r\n          this.visible = visible;\r\n          this.visibleChange.emit(this.visible);\r\n          this.triggerWidth = this.cmacsDropdownDirective.elementRef.nativeElement.getBoundingClientRect().width;\r\n          this.cdr.markForCheck();\r\n        }\r\n      });\r\n  }\r\n\r\n  updateDisabledState(): void {\r\n    if (this.cmacsDropdownDirective) {\r\n      this.cmacsDropdownDirective.setDisabled(this.disabled);\r\n    }\r\n  }\r\n\r\n  constructor(\r\n    protected cdr: ChangeDetectorRef,\r\n    private cmacsMenuDropdownService: CmacsMenuDropdownService,\r\n    @Host() @Optional() public noAnimation?: NzNoAnimationDirective\r\n  ) {}\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  ngAfterContentInit(): void {\r\n    this.startSubscribe(\r\n      merge(\r\n        this.visible$,\r\n        this.trigger === 'hover' ? this.cmacsDropdownDirective.hover$ : this.cmacsDropdownDirective.$click\r\n      )\r\n    );\r\n    this.dropdownTriggerWidth = this.cmacsDropdownDirective.elementRef.nativeElement.offsetWidth;\r\n    this.updateDisabledState();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes.visible) {\r\n      this.visible$.next(this.visible);\r\n    }\r\n    if (changes.disabled) {\r\n      this.updateDisabledState();\r\n    }\r\n    if (changes.placement) {\r\n      this.dropDownPosition = this.placement.indexOf('top') !== -1 ? 'top' : 'bottom';\r\n      this.positions = [POSITION_MAP[this.placement], ...this.positions];\r\n    }\r\n  }\r\n}\r\n","import {\r\n  AfterContentInit,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  EventEmitter,\r\n  Host,\r\n  Injector,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  Optional,\r\n  Output,\r\n  Self,\r\n  ViewChild,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\n\r\nimport { slideMotion, NzDropdownHigherOrderServiceToken, NzNoAnimationDirective } from 'ng-zorro-antd/core';\r\n\r\nimport { menuServiceFactory, CmacsDropdownComponent } from './cmacs-dropdown.component';\r\nimport { CmacsDropdownDirective } from './cmacs-dropdown.directive';\r\nimport { CmacsMenuDropdownService } from './cmacs-menu-dropdown.service';\r\n\r\n@Component({\r\n  selector: 'cmacs-dropdown-button',\r\n  exportAs: 'cmacsDropdownButton',\r\n  preserveWhitespaces: false,\r\n  animations: [slideMotion],\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  providers: [\r\n    CmacsMenuDropdownService,\r\n    {\r\n      provide: NzDropdownHigherOrderServiceToken,\r\n      useFactory: menuServiceFactory,\r\n      deps: [[new Self(), Injector]]\r\n    }\r\n  ],\r\n  templateUrl: './cmacs-dropdown-button.component.html',\r\n  styles: [\r\n    `\r\n      cmacs-dropdown-button {\r\n        position: relative;\r\n        display: inline-block;\r\n      }\r\n\r\n      .ant-dropdown {\r\n        top: 100%;\r\n        left: 0;\r\n        position: relative;\r\n        width: 100%;\r\n        margin-top: 4px;\r\n        margin-bottom: 4px;\r\n      }\r\n    `\r\n  ]\r\n})\r\nexport class CmacsDropdownButtonComponent extends CmacsDropdownComponent implements OnDestroy, AfterContentInit, OnChanges {\r\n  @Input() size = 'default';\r\n  @Input() type = 'default';\r\n  @Output() readonly cmacsClick= new EventEmitter<MouseEvent>();\r\n  @ViewChild(CmacsDropdownDirective) cmacsDropDownDirective: CmacsDropdownDirective;\r\n\r\n  constructor(\r\n    cdr: ChangeDetectorRef,\r\n    cmacsMenuDropdownService: CmacsMenuDropdownService,\r\n    @Host() @Optional() public noAnimation?: NzNoAnimationDirective\r\n  ) {\r\n    super(cdr, cmacsMenuDropdownService, noAnimation);\r\n  }\r\n\r\n  /** rewrite afterViewInit hook */\r\n  ngAfterContentInit(): void {\r\n    this.startSubscribe(this.visible$);\r\n  }\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport { ConnectedOverlayPositionChange } from '@angular/cdk/overlay';\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  OnDestroy,\r\n  TemplateRef,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { Observable, Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport { slideMotion } from 'ng-zorro-antd/core';\r\n\r\nimport { CmacsDropdownService } from './cmacs-dropdown.service';\r\nimport { CmacsMenuDropdownService } from './cmacs-menu-dropdown.service';\r\n\r\n@Component({\r\n  selector: 'cmacs-dropdown-context',\r\n  exportAs: 'cmacsDropdownContext',\r\n  animations: [slideMotion],\r\n  preserveWhitespaces: false,\r\n  templateUrl: './cmacs-dropdown-context.component.html',\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  providers: [CmacsMenuDropdownService],\r\n  styles: [\r\n    `\r\n      cmacs-dropdown-context {\r\n        display: block;\r\n      }\r\n\r\n      .ant-dropdown {\r\n        top: 100%;\r\n        left: 0;\r\n        position: relative;\r\n        width: 100%;\r\n        margin-top: 4px;\r\n        margin-bottom: 4px;\r\n      }\r\n    `\r\n  ]\r\n})\r\nexport class CmacsDropdownContextComponent implements OnDestroy {\r\n  open = true;\r\n  templateRef: TemplateRef<void>;\r\n  dropDownPosition: 'top' | 'bottom' = 'bottom';\r\n  private control: CmacsDropdownService;\r\n  private destroy$ = new Subject();\r\n\r\n  init(\r\n    open: boolean,\r\n    templateRef: TemplateRef<void>,\r\n    positionChanges: Observable<ConnectedOverlayPositionChange>,\r\n    control: CmacsDropdownService\r\n  ): void {\r\n    this.open = open;\r\n    this.templateRef = templateRef;\r\n    this.control = control;\r\n    positionChanges.pipe(takeUntil(this.destroy$)).subscribe(data => {\r\n      this.dropDownPosition = data.connectionPair.overlayY === 'bottom' ? 'top' : 'bottom';\r\n      this.cdr.markForCheck();\r\n    });\r\n  }\r\n\r\n  close(): void {\r\n    this.open = false;\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  afterAnimation(): void {\r\n    if (!this.open) {\r\n      this.control.dispose();\r\n    }\r\n  }\r\n\r\n  constructor(private cdr: ChangeDetectorRef) {}\r\n\r\n  // TODO auto set dropdown class after the bug resolved\r\n  /** https://github.com/angular/angular/issues/14842 **/\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n}\r\n","import {\r\n  ConnectionPositionPair,\r\n  FlexibleConnectedPositionStrategy,\r\n  Overlay,\r\n  OverlayConfig,\r\n  OverlayRef\r\n} from '@angular/cdk/overlay';\r\nimport { ComponentPortal } from '@angular/cdk/portal';\r\nimport { Injectable, TemplateRef } from '@angular/core';\r\nimport { fromEvent } from 'rxjs';\r\nimport { filter, take } from 'rxjs/operators';\r\nimport { CmacsDropdownContextComponent } from './cmacs-dropdown-context.component';\r\n\r\n@Injectable()\r\nexport class CmacsDropdownService {\r\n  private overlayRef: OverlayRef | null;\r\n\r\n  constructor(private overlay: Overlay) {}\r\n\r\n  create($event: MouseEvent, templateRef: TemplateRef<void>): CmacsDropdownContextComponent {\r\n    $event.preventDefault();\r\n    this.dispose();\r\n    this.overlayRef = this.overlay.create(\r\n      new OverlayConfig({\r\n        scrollStrategy: this.overlay.scrollStrategies.close(),\r\n        panelClass: 'nz-dropdown-panel',\r\n        positionStrategy: this.overlay\r\n          .position()\r\n          .flexibleConnectedTo({\r\n            x: $event.x,\r\n            y: $event.y\r\n          })\r\n          .withPositions([\r\n            new ConnectionPositionPair({ originX: 'start', originY: 'top' }, { overlayX: 'start', overlayY: 'top' }),\r\n            new ConnectionPositionPair({ originX: 'start', originY: 'top' }, { overlayX: 'start', overlayY: 'bottom' }),\r\n            new ConnectionPositionPair({ originX: 'start', originY: 'top' }, { overlayX: 'end', overlayY: 'bottom' }),\r\n            new ConnectionPositionPair({ originX: 'start', originY: 'top' }, { overlayX: 'end', overlayY: 'top' })\r\n          ])\r\n      })\r\n    );\r\n    const positionChanges = (this.overlayRef.getConfig().positionStrategy as FlexibleConnectedPositionStrategy)\r\n      .positionChanges;\r\n    const instance = this.overlayRef.attach(new ComponentPortal(CmacsDropdownContextComponent)).instance;\r\n    fromEvent<MouseEvent>(document, 'click')\r\n      .pipe(\r\n        filter(event => !!this.overlayRef && !this.overlayRef.overlayElement.contains(event.target as HTMLElement)),\r\n        take(1)\r\n      )\r\n      .subscribe(() => instance.close());\r\n    instance.init(true, templateRef, positionChanges, this);\r\n    return instance;\r\n  }\r\n\r\n  dispose(): void {\r\n    if (this.overlayRef) {\r\n      this.overlayRef.dispose();\r\n      this.overlayRef = null;\r\n    }\r\n  }\r\n}\r\n","import {\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  ElementRef,\r\n  Input,\r\n  OnChanges,\r\n  OnInit,\r\n  TemplateRef,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\n\r\nimport { InputBoolean, NzUpdateHostClassService } from 'ng-zorro-antd/core';\r\n\r\n@Component({\r\n  selector: 'cmacs-divider',\r\n  exportAs: 'cmacsDivider',\r\n  templateUrl: './cmacs-divider.component.html',\r\n  styleUrls: ['./cmacs-divider.component.css'],\r\n  preserveWhitespaces: false,\r\n  providers: [NzUpdateHostClassService],\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class CmacsDividerComponent implements OnChanges, OnInit {\r\n  @Input() text: string | TemplateRef<void>;\r\n  @Input() type: 'horizontal' | 'vertical' = 'vertical';\r\n  @Input() orientation: 'left' | 'right' | '' = '';\r\n  @Input() @InputBoolean() dashed = false;\r\n\r\n  private setClass(): void {\r\n    const orientationPrefix = this.orientation.length > 0 ? '-' + this.orientation : this.orientation;\r\n    this.nzUpdateHostClassService.updateHostClass(this.elementRef.nativeElement, {\r\n      ['ant-divider']: true,\r\n      [`ant-divider-${this.type}`]: true,\r\n      [`ant-divider-with-text${orientationPrefix}`]: this.text,\r\n      [`ant-divider-dashed`]: this.dashed\r\n    });\r\n  }\r\n\r\n  constructor(public elementRef: ElementRef, private nzUpdateHostClassService: NzUpdateHostClassService) { }\r\n\r\n  ngOnChanges(): void {\r\n    this.setClass();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.setClass();\r\n  }\r\n}\r\n","import { ChangeDetectionStrategy, Component, ElementRef, Renderer2, ViewEncapsulation } from '@angular/core';\r\nimport { helpMotion } from 'ng-zorro-antd/core';\r\n\r\n@Component({\r\n  selector: 'cmacs-form-explain',\r\n  exportAs: 'cmacsFormExplain',\r\n  preserveWhitespaces: false,\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  animations: [helpMotion],\r\n  templateUrl: './cmacs-form-explain.component.html',\r\n  styles: [\r\n    `\r\n      cmacs-form-explain {\r\n        display: block;\r\n      }\r\n    `\r\n  ]\r\n})\r\nexport class CmacsFormExplainComponent {\r\n  constructor(public elementRef: ElementRef, private renderer: Renderer2) {\r\n    this.renderer.addClass(this.elementRef.nativeElement, 'ant-form-explain');\r\n  }\r\n}\r\n","import { MediaMatcher } from '@angular/cdk/layout';\r\nimport { Platform } from '@angular/cdk/platform';\r\nimport {\r\n  AfterContentInit,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ContentChildren,\r\n  ElementRef,\r\n  Input,\r\n  NgZone,\r\n  OnChanges,\r\n  OnDestroy,\r\n  OnInit,\r\n  QueryList,\r\n  Renderer2,\r\n  SimpleChanges,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport { InputBoolean, NzUpdateHostClassService } from 'ng-zorro-antd/core';\r\nimport { NzRowDirective } from 'ng-zorro-antd/grid';\r\n\r\nimport { CmacsFormExplainComponent } from './cmacs-form-explain.component';\r\n\r\n/** should add nz-row directive to host, track https://github.com/angular/angular/issues/8785 **/\r\n@Component({\r\n  selector: 'cmacs-form-item',\r\n  exportAs: 'cmacsFormItem',\r\n  preserveWhitespaces: false,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  providers: [NzUpdateHostClassService],\r\n  templateUrl: './cmacs-form-item.component.html',\r\n  host: {\r\n    '[class.ant-form-item-with-help]': 'listOfNzFormExplainComponent && (listOfNzFormExplainComponent.length > 0)'\r\n  },\r\n  styles: [\r\n    `\r\n      cmacs-form-item {\r\n        display: block;\r\n      }\r\n    `\r\n  ]\r\n})\r\nexport class CmacsFormItemComponent extends NzRowDirective\r\n  implements AfterContentInit, OnDestroy, OnChanges, OnInit, OnDestroy {\r\n  @Input() @InputBoolean() flex: boolean = false;\r\n\r\n  @ContentChildren(CmacsFormExplainComponent, { descendants: true })\r\n  listOfNzFormExplainComponent: QueryList<CmacsFormExplainComponent>;\r\n\r\n  updateFlexStyle(): void {\r\n    if (this.flex) {\r\n      this.renderer.setStyle(this.elementRef.nativeElement, 'display', 'flex');\r\n    } else {\r\n      this.renderer.removeStyle(this.elementRef.nativeElement, 'display');\r\n    }\r\n  }\r\n\r\n  constructor(\r\n    elementRef: ElementRef,\r\n    renderer: Renderer2,\r\n    nzUpdateHostClassService: NzUpdateHostClassService,\r\n    mediaMatcher: MediaMatcher,\r\n    ngZone: NgZone,\r\n    platform: Platform,\r\n    private cdr: ChangeDetectorRef\r\n  ) {\r\n    super(elementRef, renderer, nzUpdateHostClassService, mediaMatcher, ngZone, platform);\r\n    renderer.addClass(elementRef.nativeElement, 'ant-form-item');\r\n  }\r\n\r\n  ngAfterContentInit(): void {\r\n    if (this.listOfNzFormExplainComponent) {\r\n      this.listOfNzFormExplainComponent.changes.pipe(takeUntil(this.destroy$)).subscribe(() => {\r\n        this.cdr.markForCheck();\r\n      });\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    super.ngOnInit();\r\n    this.updateFlexStyle();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    super.ngOnDestroy();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    super.ngOnChanges(changes);\r\n    if (changes.hasOwnProperty('flex')) {\r\n      this.updateFlexStyle();\r\n    }\r\n  }\r\n}\r\n","import {\r\n  AfterContentInit,\r\n  AfterViewInit,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ContentChild,\r\n  ElementRef,\r\n  Host,\r\n  Input,\r\n  OnDestroy,\r\n  OnInit,\r\n  Optional,\r\n  Renderer2,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { FormControl, FormControlName, NgControl, NgModel } from '@angular/forms';\r\nimport { Subscription } from 'rxjs';\r\nimport { startWith } from 'rxjs/operators';\r\n\r\nimport { toBoolean, NgClassType, NzUpdateHostClassService } from 'ng-zorro-antd/core';\r\nimport { NzColDirective, NzRowDirective } from 'ng-zorro-antd/grid';\r\n\r\nimport { CmacsFormItemComponent } from './cmacs-form-item.component';\r\n\r\n@Component({\r\n  selector: 'cmacs-form-control',\r\n  exportAs: 'cmacsFormControl',\r\n  preserveWhitespaces: false,\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  providers: [NzUpdateHostClassService],\r\n  templateUrl: './cmacs-form-control.component.html',\r\n  styleUrls: ['./cmacs-form-control.component.css'],\r\n  styles: [\r\n    `\r\n      cmacs-form-control {\r\n        display: block;\r\n      }\r\n    `\r\n  ]\r\n})\r\nexport class CmacsFormControlComponent extends NzColDirective\r\n  implements OnDestroy, OnInit, AfterContentInit, AfterViewInit, OnDestroy {\r\n  private _hasFeedback = false;\r\n  validateChanges: Subscription | null;\r\n  validateString: string | null;\r\n  status: 'warning' | 'validating' | 'error' | 'success' | 'init';\r\n  controlClassMap: NgClassType = {};\r\n  iconType: string;\r\n  validateControl: FormControl | NgModel | null;\r\n  @ContentChild(NgControl) defaultValidateControl: FormControlName;\r\n\r\n  @Input()\r\n  set cmacsHasFeedback(value: boolean) {\r\n    this._hasFeedback = toBoolean(value);\r\n    this.setControlClassMap();\r\n  }\r\n\r\n  get cmacsHasFeedback(): boolean {\r\n    return this._hasFeedback;\r\n  }\r\n\r\n  @Input()\r\n  set cmacsValidateStatus(value: string | FormControl | FormControlName | NgModel) {\r\n    if (value instanceof FormControl || value instanceof NgModel) {\r\n      this.validateControl = value;\r\n      this.validateString = null;\r\n      this.watchControl();\r\n    } else if (value instanceof FormControlName) {\r\n      this.validateControl = value.control;\r\n      this.validateString = null;\r\n      this.watchControl();\r\n    } else {\r\n      this.validateString = value;\r\n      this.validateControl = null;\r\n      this.setControlClassMap();\r\n    }\r\n  }\r\n\r\n  removeSubscribe(): void {\r\n    if (this.validateChanges) {\r\n      this.validateChanges.unsubscribe();\r\n      this.validateChanges = null;\r\n    }\r\n  }\r\n\r\n  watchControl(): void {\r\n    this.removeSubscribe();\r\n    /** miss detect https://github.com/angular/angular/issues/10887 **/\r\n    if (this.validateControl && this.validateControl.statusChanges) {\r\n      this.validateChanges = this.validateControl.statusChanges.pipe(startWith(null)).subscribe(() => {\r\n        this.setControlClassMap();\r\n        this.cdr.markForCheck();\r\n      });\r\n    }\r\n  }\r\n\r\n  validateControlStatus(status: string): boolean {\r\n    return (!!this.validateControl &&\r\n      (this.validateControl.dirty || this.validateControl.touched) &&\r\n      this.validateControl.status === status) as boolean;\r\n  }\r\n\r\n  setControlClassMap(): void {\r\n    if (this.validateString === 'warning') {\r\n      this.status = 'warning';\r\n      this.iconType = '';\r\n    } else if (\r\n      this.validateString === 'validating' ||\r\n      this.validateString === 'pending' ||\r\n      this.validateControlStatus('PENDING')\r\n    ) {\r\n      this.status = 'validating';\r\n      this.iconType = 'loading';\r\n    } else if (this.validateString === 'error' || this.validateControlStatus('INVALID')) {\r\n      this.status = 'error';\r\n      this.iconType = 'exclamation';\r\n    } else if (this.validateString === 'success' || this.validateControlStatus('VALID')) {\r\n      this.status = 'success';\r\n      this.iconType = '';\r\n    } else {\r\n      this.status = 'init';\r\n      this.iconType = '';\r\n    }\r\n    this.controlClassMap = {\r\n      [`has-warning`]: this.status === 'warning',\r\n      [`is-validating`]: this.status === 'validating',\r\n      [`has-error`]: this.status === 'error',\r\n      [`has-success`]: this.status === 'success',\r\n      [`has-feedback`]: this.cmacsHasFeedback\r\n    };\r\n  }\r\n\r\n  constructor(\r\n    nzUpdateHostClassService: NzUpdateHostClassService,\r\n    elementRef: ElementRef,\r\n    @Optional() @Host() cmacsFormItemComponent: CmacsFormItemComponent,\r\n    @Optional() @Host() nzRowDirective: NzRowDirective,\r\n    private cdr: ChangeDetectorRef,\r\n    renderer: Renderer2\r\n  ) {\r\n    super(nzUpdateHostClassService, elementRef, cmacsFormItemComponent || nzRowDirective, renderer);\r\n    renderer.addClass(elementRef.nativeElement, 'ant-form-item-control-wrapper');\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    super.ngOnInit();\r\n    this.setControlClassMap();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.removeSubscribe();\r\n    super.ngOnDestroy();\r\n  }\r\n\r\n  ngAfterContentInit(): void {\r\n    if (this.defaultValidateControl && !this.validateControl && !this.validateString) {\r\n      this.cmacsValidateStatus = this.defaultValidateControl;\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    super.ngAfterViewInit();\r\n  }\r\n}\r\n","import { ChangeDetectionStrategy, Component, ElementRef, Renderer2, ViewEncapsulation } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'cmacs-form-extra',\r\n  exportAs: 'cmacsFormExtra',\r\n  templateUrl: './cmacs-form-extra.component.html',\r\n  preserveWhitespaces: false,\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  styles: [\r\n    `\r\n      cmacs-form-extra {\r\n        display: block;\r\n      }\r\n    `\r\n  ]\r\n})\r\nexport class CmacsFormExtraComponent {\r\n  constructor(public elementRef: ElementRef, private renderer: Renderer2) {\r\n    this.renderer.addClass(this.elementRef.nativeElement, 'ant-form-extra');\r\n  }\r\n}\r\n","import {\r\n  AfterViewInit,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  Host,\r\n  Input,\r\n  OnDestroy,\r\n  Optional,\r\n  Renderer2,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\n\r\nimport { toBoolean, InputBoolean, NzUpdateHostClassService } from 'ng-zorro-antd/core';\r\nimport { NzColDirective, NzRowDirective } from 'ng-zorro-antd/grid';\r\n\r\nimport { CmacsFormItemComponent } from './cmacs-form-item.component';\r\n\r\n@Component({\r\n  selector: 'cmacs-form-label',\r\n  exportAs: 'cmacsFormLabel',\r\n  providers: [NzUpdateHostClassService],\r\n  preserveWhitespaces: false,\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  templateUrl: './cmacs-form-label.component.html'\r\n})\r\nexport class CmacsFormLabelComponent extends NzColDirective implements OnDestroy, AfterViewInit {\r\n  @Input() cmacsFor: string;\r\n  @Input() @InputBoolean() cmacsRequired = false;\r\n  @Input()\r\n  set cmacsNoColon(value: boolean) {\r\n    this.noColon = toBoolean(value);\r\n  }\r\n  get cmacsNoColon(): boolean {\r\n    return !!this.noColon;\r\n  }\r\n\r\n  defaultNoColon: boolean = false;\r\n  noColon: boolean | string = 'default';\r\n\r\n  constructor(\r\n    nzUpdateHostClassService: NzUpdateHostClassService,\r\n    elementRef: ElementRef,\r\n    @Optional() @Host() cmacsFormItemComponent: CmacsFormItemComponent,\r\n    @Optional() @Host() nzRowDirective: NzRowDirective,\r\n    renderer: Renderer2,\r\n    private cdr: ChangeDetectorRef\r\n  ) {\r\n    super(nzUpdateHostClassService, elementRef, cmacsFormItemComponent || nzRowDirective, renderer);\r\n    renderer.addClass(elementRef.nativeElement, 'ant-form-item-label');\r\n  }\r\n\r\n  setDefaultNoColon(value: boolean): void {\r\n    this.defaultNoColon = toBoolean(value);\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    super.ngOnDestroy();\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    super.ngAfterViewInit();\r\n  }\r\n}\r\n","import { ChangeDetectionStrategy, Component, ElementRef, Renderer2, ViewEncapsulation } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'cmacs-form-split',\r\n  exportAs: 'cmacsFormSplit',\r\n  preserveWhitespaces: false,\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  templateUrl: './cmacs-form-split.component.html'\r\n})\r\nexport class CmacsFormSplitComponent {\r\n  constructor(public elementRef: ElementRef, private renderer: Renderer2) {\r\n    this.renderer.addClass(this.elementRef.nativeElement, 'ant-form-split');\r\n  }\r\n}\r\n","import { ChangeDetectionStrategy, Component, ElementRef, Renderer2, ViewEncapsulation } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'cmacs-form-text',\r\n  exportAs: 'cmacsFormText',\r\n  preserveWhitespaces: false,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  templateUrl: './cmacs-form-text.component.html'\r\n})\r\nexport class CmacsFormTextComponent {\r\n  constructor(public elementRef: ElementRef, private renderer: Renderer2) {\r\n    this.renderer.addClass(this.elementRef.nativeElement, 'ant-form-text');\r\n  }\r\n}\r\n","import {\r\n  AfterContentInit,\r\n  ContentChildren,\r\n  Directive,\r\n  ElementRef,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  OnInit,\r\n  QueryList,\r\n  Renderer2,\r\n  SimpleChanges\r\n} from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { startWith, takeUntil } from 'rxjs/operators';\r\n\r\nimport { InputBoolean, NzUpdateHostClassService } from 'ng-zorro-antd/core';\r\n\r\nimport { CmacsFormLabelComponent } from './cmacs-form-label.component';\r\n\r\n@Directive({\r\n  selector: '[cmacs-form]',\r\n  exportAs: 'cmacsForm',\r\n  providers: [NzUpdateHostClassService]\r\n})\r\nexport class CmacsFormDirective implements OnInit, OnChanges, AfterContentInit, OnDestroy {\r\n  @Input() layout = 'horizontal';\r\n  @Input() @InputBoolean() cmacsNoColon: boolean = false;\r\n\r\n  @ContentChildren(CmacsFormLabelComponent, { descendants: true }) cmacsFormLabelComponent: QueryList<CmacsFormLabelComponent>;\r\n\r\n  destroy$ = new Subject();\r\n\r\n  setClassMap(): void {\r\n    this.nzUpdateHostClassService.updateHostClass(this.elementRef.nativeElement, {\r\n      [`ant-form-${this.layout}`]: this.layout\r\n    });\r\n  }\r\n\r\n  updateItemsDefaultColon(): void {\r\n    if (this.cmacsFormLabelComponent) {\r\n      this.cmacsFormLabelComponent.forEach(item => item.setDefaultNoColon(this.cmacsNoColon));\r\n    }\r\n  }\r\n\r\n  constructor(\r\n    private elementRef: ElementRef,\r\n    private renderer: Renderer2,\r\n    private nzUpdateHostClassService: NzUpdateHostClassService\r\n  ) {\r\n    this.renderer.addClass(elementRef.nativeElement, 'ant-form');\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.setClassMap();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    this.setClassMap();\r\n    if (changes.hasOwnProperty('cmacsNoColon')) {\r\n      this.updateItemsDefaultColon();\r\n    }\r\n  }\r\n\r\n  ngAfterContentInit(): void {\r\n    this.cmacsFormLabelComponent.changes\r\n      .pipe(\r\n        startWith(null),\r\n        takeUntil(this.destroy$)\r\n      )\r\n      .subscribe(() => {\r\n        this.updateItemsDefaultColon();\r\n      });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n}\r\n","import {\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  Input,\r\n  OnChanges,\r\n  OnInit,\r\n  SimpleChanges,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\n\r\nimport { isNotNil, InputNumber } from 'ng-zorro-antd/core';\r\n\r\nexport type CmacsProgressGapPositionType = 'top' | 'bottom' | 'left' | 'right';\r\nexport type CmacsProgressStatusType = 'success' | 'exception' | 'active' | 'normal';\r\nexport type CmacsProgressTypeType = 'line' | 'circle' | 'dashboard';\r\nexport type CmacsProgressStrokeLinecapType = 'round' | 'square';\r\n\r\n@Component({\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  selector: 'cmacs-progress',\r\n  exportAs: 'cmacsProgress',\r\n  preserveWhitespaces: false,\r\n  templateUrl: './cmacs-progress.component.html'\r\n})\r\nexport class CmacsProgressComponent implements OnInit, OnChanges {\r\n  @Input('showInfo') nzShowInfo = true;\r\n  @Input('width') nzWidth = 132;\r\n  @Input('strokeColor') nzStrokeColor: string;\r\n  @Input('size') nzSize: string;\r\n  @Input('format') nzFormat?: (percent: number) => string;\r\n  @Input('successPercent') @InputNumber() nzSuccessPercent?: number;\r\n  @Input('percent') @InputNumber() nzPercent: number;\r\n  @Input('strokeWidth') @InputNumber() nzStrokeWidth: number;\r\n  @Input('gapDegree') @InputNumber() nzGapDegree: number;\r\n  @Input('status') nzStatus: CmacsProgressStatusType;\r\n  @Input('type') nzType: CmacsProgressTypeType = 'line';\r\n  @Input('gapPosition') nzGapPosition?: CmacsProgressGapPositionType;\r\n  @Input('strokeLinecap') nzStrokeLinecap: CmacsProgressStrokeLinecapType = 'round';\r\n\r\n  trailPathStyle: { [key: string]: string };\r\n  strokePathStyle: { [key: string]: string };\r\n  pathString: string;\r\n  icon: string;\r\n  statusColorMap: { [key: string]: string } = {\r\n    normal: '#108ee9',\r\n    exception: '#ff5500',\r\n    success: '#87d068'\r\n  };\r\n\r\n  private cachedStatus: CmacsProgressStatusType = 'normal';\r\n  private inferredStatus: CmacsProgressStatusType = 'normal';\r\n  private inferredStrokeWidth: number = 8;\r\n  private inferredGapPosition: string;\r\n  private inferredGapDegree: number;\r\n\r\n  get formatter(): (percent: number) => string {\r\n    return this.nzFormat || ((p: number): string => `${p}%`);\r\n  }\r\n\r\n  get status(): CmacsProgressStatusType {\r\n    return this.nzStatus || this.inferredStatus;\r\n  }\r\n\r\n  get strokeWidth(): number {\r\n    return this.nzStrokeWidth || this.inferredStrokeWidth;\r\n  }\r\n\r\n  get isCircleStyle(): boolean {\r\n    return this.nzType === 'circle' || this.nzType === 'dashboard';\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.updatePathStyles();\r\n    this.updateIcon();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    const {\r\n      nzGapPosition,\r\n      nzStrokeLinecap,\r\n      nzGapDegree,\r\n      nzType,\r\n      nzSize,\r\n      nzStatus,\r\n      nzPercent,\r\n      nzSuccessPercent\r\n    } = changes;\r\n\r\n    if (nzGapPosition || nzStrokeLinecap || nzGapDegree || nzType || nzPercent) {\r\n      this.updatePathStyles();\r\n    }\r\n\r\n    if (nzSize) {\r\n      if (this.nzSize === 'small') {\r\n        this.inferredStrokeWidth = 6;\r\n      }\r\n    }\r\n\r\n    if (nzStatus) {\r\n      this.cachedStatus = this.nzStatus || this.cachedStatus;\r\n      this.updateIcon();\r\n    }\r\n\r\n    if (nzPercent || nzSuccessPercent) {\r\n      const fillAll = parseInt(this.nzPercent.toString(), 10) >= 100;\r\n      if (fillAll) {\r\n        if ((isNotNil(this.nzSuccessPercent) && this.nzSuccessPercent! >= 100) || this.nzSuccessPercent === undefined) {\r\n          this.inferredStatus = 'success';\r\n        }\r\n      } else {\r\n        this.inferredStatus = this.cachedStatus;\r\n      }\r\n      this.updateIcon();\r\n    }\r\n\r\n    if (nzType) {\r\n      if (this.nzType !== 'line') {\r\n        this.inferredStrokeWidth = 6;\r\n      }\r\n      if (this.nzType === 'dashboard') {\r\n        this.inferredGapPosition = 'bottom';\r\n        this.inferredGapDegree = 75;\r\n      }\r\n      if (this.nzType === 'circle') {\r\n        this.inferredGapDegree = 0;\r\n      }\r\n    }\r\n  }\r\n\r\n  updatePathStyles(): void {\r\n    const radius = 50 - this.strokeWidth / 2;\r\n    const gapPosition = this.nzGapPosition || this.inferredGapPosition;\r\n    let beginPositionX = 0;\r\n    let beginPositionY = -radius;\r\n    let endPositionX = 0;\r\n    let endPositionY = radius * -2;\r\n\r\n    switch (gapPosition) {\r\n      case 'left':\r\n        beginPositionX = -radius;\r\n        beginPositionY = 0;\r\n        endPositionX = radius * 2;\r\n        endPositionY = 0;\r\n        break;\r\n      case 'right':\r\n        beginPositionX = radius;\r\n        beginPositionY = 0;\r\n        endPositionX = radius * -2;\r\n        endPositionY = 0;\r\n        break;\r\n      case 'bottom':\r\n        beginPositionY = radius;\r\n        endPositionY = radius * 2;\r\n        break;\r\n      default:\r\n    }\r\n\r\n    this.pathString = `M 50,50 m ${beginPositionX},${beginPositionY}\r\n    a ${radius},${radius} 0 1 1 ${endPositionX},${-endPositionY}\r\n    a ${radius},${radius} 0 1 1 ${-endPositionX},${endPositionY}`;\r\n\r\n    const len = Math.PI * 2 * radius;\r\n    const gapDegree = this.nzGapDegree || this.inferredGapDegree;\r\n\r\n    this.trailPathStyle = {\r\n      strokeDasharray: `${len - gapDegree}px ${len}px`,\r\n      strokeDashoffset: `-${gapDegree / 2}px`,\r\n      transition: 'stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s'\r\n    };\r\n    this.strokePathStyle = {\r\n      strokeDasharray: `${(this.nzPercent / 100) * (len - gapDegree)}px ${len}px`,\r\n      strokeDashoffset: `-${gapDegree / 2}px`,\r\n      transition: 'stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s' // eslint-disable-line\r\n    };\r\n  }\r\n\r\n  updateIcon(): void {\r\n    const isCircle = this.nzType === 'circle' || this.nzType === 'dashboard';\r\n    const ret = this.status === 'success' ? 'check' : this.status === 'exception' ? 'close' : '';\r\n\r\n    this.icon = ret ? ret + (isCircle ? '-o' : '-circle-fill') : '';\r\n  }\r\n}\r\n","import {\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  Input,\r\n  ViewEncapsulation,\r\n  Output,\r\n  EventEmitter,\r\n  ContentChild,\r\n  ViewChild,\r\n\r\n  OnChanges\r\n} from '@angular/core';\r\nimport { InputBoolean } from 'ng-zorro-antd';\r\nimport { CdkDrag } from '@angular/cdk/drag-drop';\r\nimport { CmacsDividerComponent } from '../cmacs-divider/cmacs-divider.component';\r\n\r\nexport type FloatingMenuType = 'top' | 'bottom' | 'left' | 'right';\r\n\r\nexport const FLOATING_MENU_LOCALIZATION = {\r\n  'Dock To Left': 'Dock To Left',\r\n  'Dock To Right': 'Dock To Right',\r\n  'Dock To Top': 'Dock To Top',\r\n  'Dock To Bottom': 'Dock To Bottom',\r\n  'Minimize Toolbar': 'Minimize Toolbar'\r\n};\r\n\r\n@Component({\r\n  selector: 'cmacs-floating-menu',\r\n  exportAs: 'cmacsFloatingMenu',\r\n  templateUrl: './cmacs-floating-menu.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  styleUrls: ['./cmacs-floating-menu.component.css'],\r\n  encapsulation: ViewEncapsulation.None,\r\n  host: {\r\n    '[class.carrot-bottom-menu]': `carrot === 'bottom'`,\r\n    '[class.carrot-top-menu]': `carrot === 'top'`,\r\n    '[class.cmacs-floating-menu-align-x]': `position === 'bottom' || position === 'top'`,\r\n    '[class.cmacs-floating-menu-align-y]': `position === 'left' || position === 'right'`,\r\n    '[style.top]': `top`,\r\n    '[style.bottom]': `bottom`,\r\n    '[style.left]': `left`,\r\n    '[style.right]': `right`,\r\n  }\r\n})\r\n\r\nexport class CmacsFloatingMenuComponent implements OnChanges{\r\n\r\n  _minimizeToolbar = false;\r\n  _i18n = FLOATING_MENU_LOCALIZATION;\r\n\r\n  @ViewChild(CdkDrag) cdkDrag: CdkDrag;\r\n\r\n  @Input() position: FloatingMenuType = 'bottom';\r\n  @Input() @InputBoolean() visible = false;\r\n  @Input() @InputBoolean() showExtras = true;\r\n  @Input() dragBoundary: string;\r\n  @Output() positionChange: EventEmitter<FloatingMenuType> = new EventEmitter<FloatingMenuType>();\r\n\r\n  @Input() carrot: string = '';\r\n  @Input() top: string;\r\n  @Input() bottom: string;\r\n  @Input() left: string;\r\n  @Input() right: string;\r\n\r\n  @Input() topBoundary: string = '0';\r\n  @Input() bottomBoundary: string = '0';\r\n  @Input() leftBoundary: string = '0';\r\n  @Input() rightBoundary: string = '0';\r\n\r\n  @Input() i18n: any = FLOATING_MENU_LOCALIZATION;\r\n  \r\n  constructor() { }\r\n\r\n  ngOnChanges() {\r\n    if (this.cdkDrag) {\r\n      this.resetDragDrop();\r\n    }\r\n  }\r\n\r\n  minimizeToolbar() {\r\n    this.resetDragDrop();\r\n    this._minimizeToolbar = true;\r\n  }\r\n\r\n  expandToolbar() {\r\n    this.resetDragDrop();\r\n    this._minimizeToolbar = false;\r\n  }\r\n\r\n  dockToLeft() {\r\n    this.resetDragDrop();\r\n    this.top = null;\r\n    this.left = this.leftBoundary;\r\n    this.right = null;\r\n    this.bottom = null;\r\n    this.position = 'left';\r\n    this.positionChange.emit(this.position);\r\n  }\r\n\r\n  dockToRight() {\r\n    this.resetDragDrop();\r\n    this.top = null;\r\n    this.left = null;\r\n    this.right = this.rightBoundary;\r\n    this.bottom = null;\r\n    this.position = 'right';\r\n    this.positionChange.emit(this.position);\r\n  }\r\n\r\n  dockToTop() {\r\n    this.resetDragDrop();\r\n    this.top = this.topBoundary;\r\n    this.left = null;\r\n    this.right = null;\r\n    this.bottom = null;\r\n    this.position = 'top';\r\n    this.positionChange.emit(this.position);\r\n  }\r\n\r\n  dockToBottom() {\r\n    this.resetDragDrop();\r\n    this.bottom = this.bottomBoundary;\r\n    this.left = null;\r\n    this.right = null;\r\n    this.top = null;\r\n    this.position = 'bottom';\r\n    this.positionChange.emit(this.position);\r\n  }\r\n\r\n  getPlacement() {\r\n    switch (this.position) {\r\n      case 'bottom':\r\n        return 'top';\r\n      case 'top':\r\n        return 'bottom';\r\n      case 'left':\r\n        return 'right';\r\n      case 'right':\r\n        return 'left';\r\n    }\r\n  }\r\n\r\n  resetDragDrop() {\r\n    this.cdkDrag._dragRef['_previewRect'] = undefined;\r\n    this.cdkDrag._dragRef['_boundaryRect'] = undefined;\r\n    this.cdkDrag.reset();\r\n  }\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  Input,\r\n  OnDestroy,\r\n  OnInit,\r\n  Renderer2,\r\n  TemplateRef,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport { isNotNil } from 'ng-zorro-antd/core';\r\n\r\nimport { CmacsOptionComponent } from './cmacs-option.component';\r\nimport { CmacsSelectService } from './cmacs-select.service';\r\n\r\n@Component({\r\n  selector: '[cmacs-option-li]',\r\n  exportAs: 'cmacsOptionLi',\r\n  templateUrl: './cmacs-option-li.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  host: {\r\n    '[class.ant-select-dropdown-menu-item-selected]': 'selected && !nzOption.nzDisabled',\r\n    '[class.ant-select-dropdown-menu-item-disabled]': 'nzOption.nzDisabled',\r\n    '[class.ant-select-dropdown-menu-item-active]': 'active && !nzOption.nzDisabled',\r\n    '[class.cmacs-select-dropdown-menu-item-divider]': 'nzOption.divider',\r\n    '[attr.unselectable]': '\"unselectable\"',\r\n    '[style.user-select]': '\"none\"',\r\n    '(click)': 'clickOption()',\r\n    '(mousedown)': '$event.preventDefault()'\r\n  },\r\n  styleUrls: ['./cmacs-option-li.component.css']\r\n})\r\nexport class CmacsOptionLiComponent implements OnInit, OnDestroy {\r\n  el: HTMLElement = this.elementRef.nativeElement;\r\n  selected = false;\r\n  active = false;\r\n  destroy$ = new Subject();\r\n  @Input() nzOption: CmacsOptionComponent;\r\n  @Input() nzMenuItemSelectedIcon: TemplateRef<void>;\r\n\r\n  clickOption(): void {\r\n    this.nzSelectService.clickOption(this.nzOption);\r\n  }\r\n\r\n  constructor(\r\n    private elementRef: ElementRef,\r\n    public nzSelectService: CmacsSelectService,\r\n    private cdr: ChangeDetectorRef,\r\n    renderer: Renderer2\r\n  ) {\r\n    renderer.addClass(elementRef.nativeElement, 'ant-select-dropdown-menu-item');\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.nzSelectService.listOfSelectedValue$.pipe(takeUntil(this.destroy$)).subscribe(list => {\r\n      this.selected = isNotNil(list.find(v => this.nzSelectService.compareWith(v, this.nzOption.nzValue)));\r\n      this.cdr.markForCheck();\r\n    });\r\n    this.nzSelectService.activatedOption$.pipe(takeUntil(this.destroy$)).subscribe(option => {\r\n      if (option) {\r\n        this.active = this.nzSelectService.compareWith(option.nzValue, this.nzOption.nzValue);\r\n      } else {\r\n        this.active = false;\r\n      }\r\n      this.cdr.markForCheck();\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Input,\r\n  NgZone,\r\n  OnDestroy,\r\n  OnInit,\r\n  Output,\r\n  QueryList,\r\n  TemplateRef,\r\n  ViewChild,\r\n  ViewChildren,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { fromEvent, Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { CmacsOptionGroupComponent } from './cmacs-option-group.component';\r\nimport { CmacsOptionLiComponent } from './cmacs-option-li.component';\r\nimport { CmacsOptionComponent } from './cmacs-option.component';\r\nimport { CmacsSelectService } from './cmacs-select.service';\r\n\r\n@Component({\r\n  selector: '[cmacs-option-container]',\r\n  exportAs: 'cmacsOptionContainer',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  preserveWhitespaces: false,\r\n  templateUrl: './cmacs-option-container.component.html',\r\n  styleUrls: ['./cmacs-option-container.component.css']\r\n})\r\nexport class CmacsOptionContainerComponent implements OnDestroy, OnInit {\r\n  private destroy$ = new Subject();\r\n  private lastScrollTop = 0;\r\n  inputValue: string;\r\n  @ViewChildren(CmacsOptionLiComponent) listOfNzOptionLiComponent: QueryList<CmacsOptionLiComponent>;\r\n  @ViewChild('dropdownUl') dropdownUl: ElementRef;\r\n  @ViewChild('inputElement') inputElement: ElementRef;\r\n  @Input() nzNotFoundContent: string;\r\n  @Input() showSearch = false;\r\n  @Input() selectAllLabel = 'Select All';\r\n  @Input() showCmacsSearch = false;\r\n  @Input() nzMenuItemSelectedIcon: TemplateRef<void>;\r\n  @Output() readonly nzScrollToBottom = new EventEmitter<void>();\r\n  @Output() readonly onSearch = new EventEmitter<string>();\r\n\r\n  scrollIntoViewIfNeeded(option: CmacsOptionComponent): void {\r\n    // delay after open\r\n    setTimeout(() => {\r\n      if (this.listOfNzOptionLiComponent && this.listOfNzOptionLiComponent.length && option) {\r\n        const targetOption = this.listOfNzOptionLiComponent.find(o =>\r\n          this.nzSelectService.compareWith(o.nzOption.nzValue, option.nzValue)\r\n        );\r\n        /* tslint:disable:no-any */\r\n        if (targetOption && targetOption.el && (targetOption.el as any).scrollIntoViewIfNeeded) {\r\n          (targetOption.el as any).scrollIntoViewIfNeeded(false);\r\n        }\r\n        /* tslint:enable:no-any */\r\n      }\r\n    });\r\n  }\r\n\r\n  setInputValue(value: string): void {\r\n    if (this.inputElement) {\r\n      this.inputElement.nativeElement.value = value;\r\n    }\r\n    this.onSearch.emit(value);\r\n  }\r\n\r\n  trackLabel(_index: number, option: CmacsOptionGroupComponent): string | TemplateRef<void> {\r\n    return option.nzLabel;\r\n  }\r\n\r\n  // tslint:disable-next-line:no-any\r\n  trackValue(_index: number, option: CmacsOptionComponent): any {\r\n    return option.nzValue;\r\n  }\r\n\r\n  constructor(public nzSelectService: CmacsSelectService, private cdr: ChangeDetectorRef, private ngZone: NgZone) {}\r\n\r\n  ngOnInit(): void {\r\n    this.nzSelectService.activatedOption$.pipe(takeUntil(this.destroy$)).subscribe(option => {\r\n      this.scrollIntoViewIfNeeded(option!);\r\n    });\r\n    this.nzSelectService.check$.pipe(takeUntil(this.destroy$)).subscribe(() => {\r\n      this.cdr.markForCheck();\r\n    });\r\n    this.ngZone.runOutsideAngular(() => {\r\n      const ul = this.dropdownUl.nativeElement;\r\n      fromEvent<MouseEvent>(ul, 'scroll')\r\n        .pipe(takeUntil(this.destroy$))\r\n        .subscribe(e => {\r\n          e.preventDefault();\r\n          e.stopPropagation();\r\n          if (ul && ul.scrollTop > this.lastScrollTop && ul.scrollHeight < ul.clientHeight + ul.scrollTop + 10) {\r\n            this.lastScrollTop = ul.scrollTop;\r\n            this.ngZone.run(() => {\r\n              this.nzScrollToBottom.emit();\r\n            });\r\n          }\r\n        });\r\n    });\r\n  }\r\n\r\n  isAllChecked() {\r\n    const listOfNotDisabledItems = this.nzSelectService.listOfNzOptionComponent.filter(item => !item.nzDisabled);\r\n    if (this.nzSelectService.listOfCachedSelectedOption.length ===  listOfNotDisabledItems.length) {\r\n      return 1;\r\n    } else if (!this.nzSelectService.listOfCachedSelectedOption.length) {\r\n      return 0;\r\n    } else {\r\n      return -1;\r\n    }\r\n  }\r\n\r\n  updateCheckboxCache() {\r\n    const isCheckedState = this.isAllChecked();\r\n\r\n    if (!isCheckedState || isCheckedState === -1) {\r\n      const listOfSelectedValue = [];\r\n      this.nzSelectService.listOfNzOptionComponent.forEach(option => {\r\n        if (!option.nzDisabled) {\r\n          listOfSelectedValue.push(option.nzValue);\r\n        }\r\n      });\r\n      this.nzSelectService.updateListOfSelectedValue(listOfSelectedValue, true);\r\n    } else {\r\n      this.nzSelectService.updateListOfSelectedValue([], true);\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport { Directive } from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[cmacs-select-unselectable]',\r\n  exportAs: 'cmacsSelectUnselectable',\r\n  host: {\r\n    '[attr.unselectable]': '\"unselectable\"',\r\n    '[style.user-select]': '\"none\"'\r\n  }\r\n})\r\nexport class CmacsSelectUnselectableDirective {}\r\n","import {\r\n    Component,\r\n    EventEmitter,\r\n    ChangeDetectionStrategy,\r\n    Output,\r\n    Input,\r\n    ViewEncapsulation,\r\n    OnInit,\r\n    TemplateRef\r\n} from '@angular/core';\r\nimport { CdkDragDrop, moveItemInArray, transferArrayItem } from '@angular/cdk/drag-drop';\r\nimport { KanbanBoard, KanbanColumn, KanbanItem, KanbanColumnTemplate } from './cmacs-kanban-definitions';\r\nimport { InputBoolean } from 'ng-zorro-antd';\r\n\r\n@Component({\r\n    selector: 'cmacs-kanban',\r\n    exportAs: 'cmacsKanban',\r\n    templateUrl: './cmacs-kanban.component.html',\r\n    styleUrls: ['./cmacs-kanban.component.css'],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\n\r\nexport class CmacsKanbanComponent implements OnInit {\r\n\r\n    /** Items to display  */\r\n    @Input() board: KanbanBoard;\r\n    @Input() @InputBoolean() multiselect = false;\r\n\r\n    /**\r\n     * Template for items to render. \"item\" object ist passed (see examples)\r\n     * itemTemplate is for each column\r\n     * itemTemplates is for change the template of a column\r\n     */\r\n    @Input() itemTemplate: TemplateRef<any> = null;\r\n    @Input() itemTemplates: KanbanColumnTemplate[] = null;\r\n\r\n    /** Template for column headers. Current groupName will be passed (see examples) */\r\n    @Input() columnHeaderTemplate: TemplateRef<any> = null;\r\n\r\n    /** Template for column headers. Current groupName will be passed (see examples) */\r\n    @Input() columnHeaderCollapsedTemplate: TemplateRef<any> = null;\r\n\r\n    /** Shrink columns */\r\n    @Input() @InputBoolean() showShrink = false;\r\n\r\n    // scrolling\r\n    @Input() @InputBoolean() hasVerticalScroll = false;\r\n    @Input() heightContainer = '500px';\r\n\r\n    /** Templates for actions and description panels  */\r\n    @Input() actionPanelTemplates: KanbanColumnTemplate[]  = null;\r\n    @Input() descriptionPanelTemplates: KanbanColumnTemplate[]  = null;\r\n\r\n    // styles\r\n    @Input() columnWidth: string;\r\n\r\n    // kanban type\r\n    @Input() itemType: string;\r\n\r\n    // subheader\r\n    @Input() subHeader: TemplateRef<any> = null;\r\n\r\n    @Output() draggedItem = new EventEmitter<object>();\r\n    @Output() noDraggedItem = new EventEmitter<KanbanItem>();\r\n    @Output() onclickItem = new EventEmitter<object>();\r\n    @Output() ondblclickItem = new EventEmitter<object>();\r\n    @Output() selectionChange = new EventEmitter<KanbanItem[]>();\r\n    @Output() onColumnExpand = new EventEmitter<KanbanColumn>();\r\n\r\n    selectedItems: KanbanItem [] = [];\r\n    dragStartedColumn: KanbanColumn = null;\r\n\r\n    constructor() { }\r\n\r\n    ngOnInit(): void {\r\n\r\n    }\r\n\r\n    getItemTemplate(id: string): TemplateRef<any> {\r\n        if (this.actionPanelTemplates) {\r\n            const elem = this.itemTemplates.find(i => i.id === id);\r\n            if (elem) { return elem.template; }\r\n        }\r\n        return this.itemTemplate;\r\n    }\r\n\r\n    getActionPanel(id: string): TemplateRef<any> {\r\n        if (this.actionPanelTemplates == null) { return null; }\r\n        const elem = this.actionPanelTemplates.find(d => d.id === id);\r\n        return elem ? elem.template : null;\r\n    }\r\n\r\n    getDescriptionPanel(id: string): TemplateRef<any> {\r\n        if (this.descriptionPanelTemplates == null) { return null; }\r\n        const elem = this.descriptionPanelTemplates.find(d => d.id === id);\r\n        return elem ? elem.template : null;\r\n    }\r\n\r\n    verticalScrollStyle(): any {\r\n        return (this.hasVerticalScroll) ? { height: this.heightContainer} : {};\r\n    }\r\n\r\n    boardStyle(): any {\r\n        return (this.hasVerticalScroll) ? { 'min-height': this.heightContainer} : {};\r\n    }\r\n\r\n    columnStyle(collapsed: boolean): any {\r\n        return (this.columnWidth && !collapsed) ? { minWidth: this.columnWidth} : {};\r\n    }\r\n\r\n    columnExpand(column: KanbanColumn): any {\r\n        column.collapsed = false;\r\n        this.onColumnExpand.emit(column);\r\n    }\r\n\r\n    columnCollapse(column: KanbanColumn): void {\r\n        column.collapsed = true;\r\n    }\r\n\r\n    setDragStartedColumn(col: KanbanColumn): void {\r\n        this.dragStartedColumn = col;\r\n    }\r\n\r\n    drop(event: CdkDragDrop<string[]>, columnId: string): void {\r\n\r\n        if (event.previousContainer === event.container) {\r\n            moveItemInArray(event.container.data, event.previousIndex, event.currentIndex);\r\n            this.emitDroppedItem(event.item.data, columnId);\r\n        } else {\r\n            if (!this.dragStartedColumn.disabledDrop || !this.dragStartedColumn.disabledDrop.some(id => id === columnId)) {\r\n                if (this.itemType === 'custom' && !event.item.data.data.isEditable) {\r\n                    this.noDraggedItem.emit(event.item.data);\r\n                    this.dragStartedColumn = null;\r\n                    return;\r\n                }\r\n                transferArrayItem(event.previousContainer.data,\r\n                    event.container.data,\r\n                    event.previousIndex,\r\n                    event.currentIndex);\r\n                this.emitDroppedItem(event.item.data, columnId);\r\n            } else {\r\n                this.noDraggedItem.emit(event.item.data);\r\n            }\r\n        }\r\n        this.dragStartedColumn = null;\r\n    }\r\n    private emitDroppedItem(data: any, columnId: string): void {\r\n        data.columnId = columnId;\r\n        this.draggedItem.emit(data);\r\n    }\r\n\r\n    clickItem(item: KanbanItem, columnId: string) {\r\n        console.log(this.board);\r\n        item.columnId = columnId;\r\n        this.onclickItem.emit(item);\r\n\r\n        // add or remove elements to selected items\r\n        if (!item.disabled) {\r\n            const idx = this.selectedItems.findIndex(elem => elem.id === item.id);\r\n            if (idx === -1) {\r\n                if (!this.multiselect) { this.selectedItems = []; }\r\n                this.selectedItems.push(item);\r\n            } else {\r\n                this.selectedItems.splice(idx, 1);\r\n            }\r\n            this.selectionChange.emit(this.selectedItems);\r\n        }\r\n    }\r\n\r\n    dblclickItem(item: KanbanItem, columnId: string) {\r\n        item.columnId = columnId;\r\n        this.ondblclickItem.emit(item);\r\n    }\r\n\r\n    isItemSelected(id: string) {\r\n        return this.selectedItems.some(elem => elem.id === id);\r\n    }\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  EventEmitter,\r\n  Input,\r\n  OnChanges,\r\n  Output,\r\n  SimpleChanges,\r\n  TemplateRef,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { slideAlertMotion, InputBoolean, NgClassType } from 'ng-zorro-antd/core';\r\n\r\n@Component({\r\n  selector: 'cmacs-alert',\r\n  exportAs: 'cmacsAlert',\r\n  animations: [slideAlertMotion],\r\n  templateUrl: './cmacs-alert.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  preserveWhitespaces: false,\r\n  styleUrls: ['./cmacs-alert.component.css'],\r\n  styles: [\r\n    `\r\n      cmacs-alert {\r\n        display: block;\r\n      }\r\n    `\r\n  ]\r\n})\r\nexport class CmacsAlertComponent implements OnChanges {\r\n  destroy = false;\r\n  iconType = 'info-circle';\r\n  iconTheme = 'fill';\r\n  private isTypeSet = false;\r\n  private isShowIconSet = false;\r\n  @Input() closeText: string | TemplateRef<void>;\r\n  @Input() cmacsIconType: NgClassType;\r\n  @Input() message: string | TemplateRef<void>;\r\n  @Input() description: string | TemplateRef<void>;\r\n  @Input() type: 'success' | 'info' | 'warning' | 'error' = 'info';\r\n  @Input() @InputBoolean() closeable = false;\r\n  @Input() @InputBoolean() showIcon = false;\r\n  @Input() @InputBoolean() banner = false;\r\n  @Output() readonly onClose = new EventEmitter<boolean>();\r\n\r\n  closeAlert(): void {\r\n    this.destroy = true;\r\n  }\r\n\r\n  onFadeAnimationDone(): void {\r\n    if (this.destroy) {\r\n      this.onClose.emit(true);\r\n    }\r\n  }\r\n\r\n  updateIconClassMap(): void {\r\n    switch (this.type) {\r\n      case 'error':\r\n        this.iconType = 'close-circle';\r\n        break;\r\n      case 'success':\r\n        this.iconType = 'check-circle';\r\n        break;\r\n      case 'info':\r\n        this.iconType = 'info-circle';\r\n        break;\r\n      case 'warning':\r\n        this.iconType = 'exclamation-circle';\r\n        break;\r\n    }\r\n    this.iconTheme = this.description ? 'outline' : 'fill';\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    const { showIcon, description, type, banner } = changes;\r\n    if (showIcon) {\r\n      this.isShowIconSet = true;\r\n    }\r\n    if (description || type) {\r\n      this.updateIconClassMap();\r\n    }\r\n    if (type) {\r\n      this.isTypeSet = true;\r\n    }\r\n    if (banner) {\r\n      if (!this.isTypeSet) {\r\n        this.type = 'warning';\r\n      }\r\n      if (!this.isShowIconSet) {\r\n        this.showIcon = true;\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { CdkPortalOutlet, TemplatePortal } from '@angular/cdk/portal';\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  ComponentFactoryResolver,\r\n  Directive,\r\n  Input,\r\n  OnDestroy,\r\n  OnInit,\r\n  TemplateRef,\r\n  ViewChild,\r\n  ViewContainerRef,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\n\r\n@Directive({\r\n  selector: 'div[cmacs-comment-avatar], cmacs-comment-avatar, [cmacs-comment-avatar]',\r\n  exportAs: 'cmacsCommentAvatar'\r\n})\r\nexport class CmacsCommentAvatarDirective {}\r\n\r\n@Directive({\r\n  selector: 'cmacs-comment-content, [cmacs-comment-content]',\r\n  exportAs: 'cmacsCommentContent',\r\n  host: { class: 'ant-comment-content-detail' }\r\n})\r\nexport class CmacsCommentContentDirective {}\r\n\r\n@Directive({\r\n  selector: '[cmacsCommentActionHost]',\r\n  exportAs: 'cmacsCommentActionHost'\r\n})\r\nexport class CmacsCommentActionHostDirective extends CdkPortalOutlet implements OnInit, OnDestroy {\r\n  @Input() cmacsCommentActionHost: TemplatePortal | null;\r\n\r\n  constructor(componentFactoryResolver: ComponentFactoryResolver, viewContainerRef: ViewContainerRef) {\r\n    super(componentFactoryResolver, viewContainerRef);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    super.ngOnInit();\r\n    this.attach(this.cmacsCommentActionHost);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    super.ngOnDestroy();\r\n  }\r\n}\r\n\r\n@Component({\r\n  selector: 'cmacs-comment-action',\r\n  exportAs: 'cmacsCommentAction',\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  template: '<ng-template><ng-content></ng-content></ng-template>'\r\n})\r\nexport class CmacsCommentActionComponent implements OnInit {\r\n  @ViewChild(TemplateRef) implicitContent: TemplateRef<void>;\r\n  private contentPortal: TemplatePortal | null = null;\r\n\r\n  get content(): TemplatePortal | null {\r\n    return this.contentPortal;\r\n  }\r\n\r\n  constructor(private viewContainerRef: ViewContainerRef) {}\r\n\r\n  ngOnInit(): void {\r\n    this.contentPortal = new TemplatePortal(this.implicitContent, this.viewContainerRef);\r\n  }\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  ContentChildren,\r\n  Input,\r\n  QueryList,\r\n  TemplateRef,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\n\r\nimport { CmacsCommentActionComponent as CommentAction } from './cmacs-comment-cells';\r\n\r\n@Component({\r\n  selector: 'cmacs-comment',\r\n  exportAs: 'cmacsComment',\r\n  templateUrl: './cmacs-comment.component.html',\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  host: {\r\n    class: 'ant-comment'\r\n  },\r\n  styleUrls: ['./cmacs-comment.component.css'],\r\n  styles: [\r\n    `\r\n      cmacs-comment {\r\n        display: block;\r\n      }\r\n\r\n      cmacs-comment-content {\r\n        display: block;\r\n      }\r\n    `\r\n  ]\r\n})\r\nexport class CmacsCommentComponent {\r\n  @Input() author: string | TemplateRef<void>;\r\n  @Input() datetime: string | TemplateRef<void>;\r\n\r\n  @ContentChildren(CommentAction) actions: QueryList<CommentAction>;\r\n  constructor() {}\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport { ChangeDetectionStrategy, Component, Input, OnChanges, SimpleChanges, ViewEncapsulation } from '@angular/core';\r\n\r\nimport { InputBoolean, InputNumber } from 'ng-zorro-antd/core';\r\n\r\nexport interface NzSliderTrackStyle {\r\n  bottom?: string | null;\r\n  height?: string | null;\r\n  left?: string | null;\r\n  width?: string | null;\r\n  visibility?: string;\r\n}\r\n\r\n@Component({\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  selector: 'cmacs-slider-track',\r\n  exportAs: 'cmacsSliderTrack',\r\n  preserveWhitespaces: false,\r\n  templateUrl: './cmacs-slider-track.component.html',\r\n  styleUrls: ['./cmacs-slider-track.component.css']\r\n})\r\nexport class CmacsSliderTrackComponent implements OnChanges {\r\n  @Input() @InputNumber() nzOffset: number;\r\n  @Input() @InputNumber() nzLength: number;\r\n  @Input() @InputBoolean() nzVertical = false;\r\n  @Input() @InputBoolean() nzIncluded = false;\r\n\r\n  style: NzSliderTrackStyle = {};\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes.nzIncluded) {\r\n      this.style.visibility = this.nzIncluded ? 'visible' : 'hidden';\r\n    }\r\n    if (changes.nzVertical || changes.nzOffset || changes.nzLength) {\r\n      if (this.nzVertical) {\r\n        this.style.bottom = `${this.nzOffset}%`;\r\n        this.style.height = `${this.nzLength}%`;\r\n        this.style.left = null;\r\n        this.style.width = null;\r\n      } else {\r\n        this.style.left = `${this.nzOffset}%`;\r\n        this.style.width = `${this.nzLength}%`;\r\n        this.style.bottom = null;\r\n        this.style.height = null;\r\n      }\r\n    }\r\n  }\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nexport type Mark = string | MarkObj;\r\n\r\nexport interface MarkObj {\r\n  style?: object;\r\n  label: string;\r\n}\r\n\r\nexport class Marks {\r\n  [key: number]: Mark;\r\n}\r\n\r\n/**\r\n * Processed steps that would be passed to sub components.\r\n */\r\nexport interface ExtendedMark {\r\n  value: number;\r\n  offset: number;\r\n  config: Mark;\r\n}\r\n\r\n/**\r\n * Marks that would be rendered.\r\n */\r\nexport interface DisplayedMark extends ExtendedMark {\r\n  active: boolean;\r\n  label: string;\r\n  style?: object;\r\n}\r\n\r\n/**\r\n * Steps that would be rendered.\r\n */\r\nexport interface DisplayedStep extends ExtendedMark {\r\n  active: boolean;\r\n  style?: object;\r\n}\r\n\r\nexport type SliderShowTooltip = 'always' | 'never' | 'default';\r\n\r\nexport type SliderValue = number[] | number;\r\n\r\nexport interface SliderHandler {\r\n  offset: number | null;\r\n  value: number | null;\r\n  active: boolean;\r\n}\r\n\r\nexport function isValueARange(value: SliderValue): value is number[] {\r\n  if (value instanceof Array) {\r\n    return value.length === 2;\r\n  } else {\r\n    return false;\r\n  }\r\n}\r\n\r\nexport function isConfigAObject(config: Mark): config is MarkObj {\r\n  return config instanceof Object;\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport { Platform } from '@angular/cdk/platform';\r\nimport {\r\n  forwardRef,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  OnInit,\r\n  Output,\r\n  SimpleChanges,\r\n  ViewChild,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { fromEvent, merge, Observable, Subscription } from 'rxjs';\r\nimport { distinctUntilChanged, filter, map, pluck, takeUntil, tap } from 'rxjs/operators';\r\n\r\nimport {\r\n  arraysEqual,\r\n  ensureNumberInRange,\r\n  getElementOffset,\r\n  getPercent,\r\n  getPrecision,\r\n  shallowCopyArray,\r\n  silentEvent,\r\n  InputBoolean,\r\n  MouseTouchObserverConfig\r\n} from 'ng-zorro-antd/core';\r\n\r\nimport {\r\n  isValueARange,\r\n  ExtendedMark,\r\n  Marks,\r\n  SliderHandler,\r\n  SliderShowTooltip,\r\n  SliderValue\r\n} from './cmacs-slider-definitions';\r\nimport { getValueTypeNotMatchError } from './cmacs-slider-error';\r\n\r\n@Component({\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  selector: 'cmacs-slider',\r\n  exportAs: 'cmacsSlider',\r\n  preserveWhitespaces: false,\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: forwardRef(() => CmacsSliderComponent),\r\n      multi: true\r\n    }\r\n  ],\r\n  templateUrl: './cmacs-slider.component.html',\r\n  styleUrls: ['./cmacs-slider.component.css']\r\n})\r\nexport class CmacsSliderComponent implements ControlValueAccessor, OnInit, OnChanges, OnDestroy {\r\n  @ViewChild('slider') slider: ElementRef;\r\n\r\n  @Input() @InputBoolean() disabled = false;\r\n  @Input() @InputBoolean() dots: boolean = false;\r\n  @Input() @InputBoolean() included: boolean = true;\r\n  @Input() @InputBoolean() range: boolean = false;\r\n  @Input() @InputBoolean() vertical: boolean = false;\r\n  @Input() defaultValue: SliderValue | null = null;\r\n  @Input() marks: Marks | null = null;\r\n  @Input() max = 100;\r\n  @Input() min = 0;\r\n  @Input() step = 1;\r\n  @Input() tooltipVisible: SliderShowTooltip = 'default';\r\n  @Input() tipFormatter: (value: number) => string;\r\n\r\n  @Output() readonly onAfterChange = new EventEmitter<SliderValue>();\r\n\r\n  value: SliderValue | null = null;\r\n  sliderDOM: HTMLDivElement;\r\n  cacheSliderStart: number | null = null;\r\n  cacheSliderLength: number | null = null;\r\n  activeValueIndex: number | undefined = undefined; // Current activated handle's index ONLY for range=true\r\n  track: { offset: null | number; length: null | number } = { offset: null, length: null }; // Track's offset and length\r\n  handles: SliderHandler[]; // Handles' offset\r\n  marksArray: ExtendedMark[] | null; // \"steps\" in array type with more data & FILTER out the invalid mark\r\n  bounds: { lower: SliderValue | null; upper: SliderValue | null } = { lower: null, upper: null }; // now for nz-slider-step\r\n  isDragging = false; // Current dragging state\r\n\r\n  private dragStart$: Observable<number>;\r\n  private dragMove$: Observable<number>;\r\n  private dragEnd$: Observable<Event>;\r\n  private dragStart_: Subscription | null;\r\n  private dragMove_: Subscription | null;\r\n  private dragEnd_: Subscription | null;\r\n\r\n  constructor(private cdr: ChangeDetectorRef, private platform: Platform) {}\r\n\r\n  ngOnInit(): void {\r\n    this.handles = this.generateHandles(this.range ? 2 : 1);\r\n    this.sliderDOM = this.slider.nativeElement;\r\n    this.marksArray = this.marks ? this.generateMarkItems(this.marks) : null;\r\n    if (this.platform.isBrowser) {\r\n      this.createDraggingObservables();\r\n    }\r\n    this.toggleDragDisabled(this.disabled);\r\n\r\n    if (this.getValue() === null) {\r\n      this.setValue(this.formatValue(null));\r\n    }\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    const { disabled, marks, range } = changes;\r\n\r\n    if (disabled && !disabled.firstChange) {\r\n      this.toggleDragDisabled(disabled.currentValue);\r\n    } else if (marks && !marks.firstChange) {\r\n      this.marksArray = this.marks ? this.generateMarkItems(this.marks) : null;\r\n    } else if (range && !range.firstChange) {\r\n      this.setValue(this.formatValue(null));\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.unsubscribeDrag();\r\n  }\r\n\r\n  writeValue(val: SliderValue | null): void {\r\n    this.setValue(val, true);\r\n  }\r\n\r\n  onValueChange(_value: SliderValue): void {}\r\n\r\n  onTouched(): void {}\r\n\r\n  registerOnChange(fn: (value: SliderValue) => void): void {\r\n    this.onValueChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: () => void): void {\r\n    this.onTouched = fn;\r\n  }\r\n\r\n  setDisabledState(isDisabled: boolean): void {\r\n    this.disabled = isDisabled;\r\n    this.toggleDragDisabled(isDisabled);\r\n  }\r\n\r\n  private setValue(value: SliderValue | null, isWriteValue: boolean = false): void {\r\n    if (isWriteValue) {\r\n      this.value = this.formatValue(value);\r\n      this.updateTrackAndHandles();\r\n    } else if (!this.valuesEqual(this.value!, value!)) {\r\n      this.value = value;\r\n      this.updateTrackAndHandles();\r\n      this.onValueChange(this.getValue(true));\r\n    }\r\n  }\r\n\r\n  private getValue(cloneAndSort: boolean = false): SliderValue {\r\n    if (cloneAndSort && this.value && isValueARange(this.value)) {\r\n      return shallowCopyArray(this.value).sort((a, b) => a - b);\r\n    }\r\n    return this.value!;\r\n  }\r\n\r\n  /**\r\n   * Clone & sort current value and convert them to offsets, then return the new one.\r\n   */\r\n  private getValueToOffset(value?: SliderValue): SliderValue {\r\n    let normalizedValue = value;\r\n\r\n    if (typeof normalizedValue === 'undefined') {\r\n      normalizedValue = this.getValue(true);\r\n    }\r\n\r\n    return isValueARange(normalizedValue)\r\n      ? normalizedValue.map(val => this.valueToOffset(val))\r\n      : this.valueToOffset(normalizedValue);\r\n  }\r\n\r\n  /**\r\n   * Find the closest value to be activated (only for range = true).\r\n   */\r\n  private setActiveValueIndex(pointerValue: number): void {\r\n    const value = this.getValue();\r\n    if (isValueARange(value)) {\r\n      let minimal: number | null = null;\r\n      let gap: number;\r\n      let activeIndex = -1;\r\n      value.forEach((val, index) => {\r\n        gap = Math.abs(pointerValue - val);\r\n        if (minimal === null || gap < minimal!) {\r\n          minimal = gap;\r\n          activeIndex = index;\r\n        }\r\n      });\r\n      this.activeValueIndex = activeIndex;\r\n    }\r\n  }\r\n\r\n  private setActiveValue(pointerValue: number): void {\r\n    if (isValueARange(this.value!)) {\r\n      const newValue = shallowCopyArray(this.value as number[]);\r\n      newValue[this.activeValueIndex!] = pointerValue;\r\n      this.setValue(newValue);\r\n    } else {\r\n      this.setValue(pointerValue);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Update track and handles' position and length.\r\n   */\r\n  private updateTrackAndHandles(): void {\r\n    const value = this.getValue();\r\n    const offset = this.getValueToOffset(value);\r\n    const valueSorted = this.getValue(true);\r\n    const offsetSorted = this.getValueToOffset(valueSorted);\r\n    const boundParts = isValueARange(valueSorted) ? valueSorted : [0, valueSorted];\r\n    const trackParts = isValueARange(offsetSorted)\r\n      ? [offsetSorted[0], offsetSorted[1] - offsetSorted[0]]\r\n      : [0, offsetSorted];\r\n\r\n    this.handles.forEach((handle, index) => {\r\n      handle.offset = isValueARange(offset) ? offset[index] : offset;\r\n      handle.value = isValueARange(value) ? value[index] : value || 0;\r\n    });\r\n\r\n    [this.bounds.lower, this.bounds.upper] = boundParts;\r\n    [this.track.offset, this.track.length] = trackParts;\r\n\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  private onDragStart(value: number): void {\r\n    this.toggleDragMoving(true);\r\n    this.cacheSliderProperty();\r\n    this.setActiveValueIndex(value);\r\n    this.setActiveValue(value);\r\n    this.showHandleTooltip(this.range ? this.activeValueIndex : 0);\r\n  }\r\n\r\n  private onDragMove(value: number): void {\r\n    this.setActiveValue(value);\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  private onDragEnd(): void {\r\n    this.onAfterChange.emit(this.getValue(true));\r\n    this.toggleDragMoving(false);\r\n    this.cacheSliderProperty(true);\r\n    this.hideAllHandleTooltip();\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  /**\r\n   * Create user interactions handles.\r\n   */\r\n  private createDraggingObservables(): void {\r\n    const sliderDOM = this.sliderDOM;\r\n    const orientField = this.vertical ? 'pageY' : 'pageX';\r\n    const mouse: MouseTouchObserverConfig = {\r\n      start: 'mousedown',\r\n      move: 'mousemove',\r\n      end: 'mouseup',\r\n      pluckKey: [orientField]\r\n    };\r\n    const touch: MouseTouchObserverConfig = {\r\n      start: 'touchstart',\r\n      move: 'touchmove',\r\n      end: 'touchend',\r\n      pluckKey: ['touches', '0', orientField],\r\n      filter: (e: MouseEvent | TouchEvent) => e instanceof TouchEvent\r\n    };\r\n\r\n    [mouse, touch].forEach(source => {\r\n      const { start, move, end, pluckKey, filter: filterFunc = () => true } = source;\r\n\r\n      source.startPlucked$ = fromEvent(sliderDOM, start).pipe(\r\n        filter(filterFunc),\r\n        tap(silentEvent),\r\n        pluck<Event, number>(...pluckKey),\r\n        map((position: number) => this.findClosestValue(position))\r\n      );\r\n      source.end$ = fromEvent(document, end);\r\n      source.moveResolved$ = fromEvent(document, move).pipe(\r\n        filter(filterFunc),\r\n        tap(silentEvent),\r\n        pluck<Event, number>(...pluckKey),\r\n        distinctUntilChanged(),\r\n        map((position: number) => this.findClosestValue(position)),\r\n        distinctUntilChanged(),\r\n        takeUntil(source.end$)\r\n      );\r\n    });\r\n\r\n    this.dragStart$ = merge(mouse.startPlucked$!, touch.startPlucked$!);\r\n    this.dragMove$ = merge(mouse.moveResolved$!, touch.moveResolved$!);\r\n    this.dragEnd$ = merge(mouse.end$!, touch.end$!);\r\n  }\r\n\r\n  private subscribeDrag(periods: string[] = ['start', 'move', 'end']): void {\r\n    if (periods.indexOf('start') !== -1 && this.dragStart$ && !this.dragStart_) {\r\n      this.dragStart_ = this.dragStart$.subscribe(this.onDragStart.bind(this));\r\n    }\r\n\r\n    if (periods.indexOf('move') !== -1 && this.dragMove$ && !this.dragMove_) {\r\n      this.dragMove_ = this.dragMove$.subscribe(this.onDragMove.bind(this));\r\n    }\r\n\r\n    if (periods.indexOf('end') !== -1 && this.dragEnd$ && !this.dragEnd_) {\r\n      this.dragEnd_ = this.dragEnd$.subscribe(this.onDragEnd.bind(this));\r\n    }\r\n  }\r\n\r\n  private unsubscribeDrag(periods: string[] = ['start', 'move', 'end']): void {\r\n    if (periods.indexOf('start') !== -1 && this.dragStart_) {\r\n      this.dragStart_.unsubscribe();\r\n      this.dragStart_ = null;\r\n    }\r\n\r\n    if (periods.indexOf('move') !== -1 && this.dragMove_) {\r\n      this.dragMove_.unsubscribe();\r\n      this.dragMove_ = null;\r\n    }\r\n\r\n    if (periods.indexOf('end') !== -1 && this.dragEnd_) {\r\n      this.dragEnd_.unsubscribe();\r\n      this.dragEnd_ = null;\r\n    }\r\n  }\r\n\r\n  private toggleDragMoving(movable: boolean): void {\r\n    const periods = ['move', 'end'];\r\n    if (movable) {\r\n      this.isDragging = true;\r\n      this.subscribeDrag(periods);\r\n    } else {\r\n      this.isDragging = false;\r\n      this.unsubscribeDrag(periods);\r\n    }\r\n  }\r\n\r\n  private toggleDragDisabled(disabled: boolean): void {\r\n    if (disabled) {\r\n      this.unsubscribeDrag();\r\n    } else {\r\n      this.subscribeDrag(['start']);\r\n    }\r\n  }\r\n\r\n  private findClosestValue(position: number): number {\r\n    const sliderStart = this.getSliderStartPosition();\r\n    const sliderLength = this.getSliderLength();\r\n    const ratio = ensureNumberInRange((position - sliderStart) / sliderLength, 0, 1);\r\n    const val = (this.max - this.min) * (this.vertical ? 1 - ratio : ratio) + this.min;\r\n    const points = this.marks === null ? [] : Object.keys(this.marks).map(parseFloat);\r\n    if (this.step !== null && !this.dots) {\r\n      const closestOne = Math.round(val / this.step) * this.step;\r\n      points.push(closestOne);\r\n    }\r\n    const gaps = points.map(point => Math.abs(val - point));\r\n    const closest = points[gaps.indexOf(Math.min(...gaps))];\r\n    return this.step === null ? closest : parseFloat(closest.toFixed(getPrecision(this.step)));\r\n  }\r\n\r\n  private valueToOffset(value: number): number {\r\n    return getPercent(this.min, this.max, value);\r\n  }\r\n\r\n  private getSliderStartPosition(): number {\r\n    if (this.cacheSliderStart !== null) {\r\n      return this.cacheSliderStart;\r\n    }\r\n    const offset = getElementOffset(this.sliderDOM);\r\n    return this.vertical ? offset.top : offset.left;\r\n  }\r\n\r\n  private getSliderLength(): number {\r\n    if (this.cacheSliderLength !== null) {\r\n      return this.cacheSliderLength;\r\n    }\r\n    const sliderDOM = this.sliderDOM;\r\n    return this.vertical ? sliderDOM.clientHeight : sliderDOM.clientWidth;\r\n  }\r\n\r\n  /**\r\n   * Cache DOM layout/reflow operations for performance (may not necessary?)\r\n   */\r\n  private cacheSliderProperty(remove: boolean = false): void {\r\n    this.cacheSliderStart = remove ? null : this.getSliderStartPosition();\r\n    this.cacheSliderLength = remove ? null : this.getSliderLength();\r\n  }\r\n\r\n  private formatValue(value: SliderValue | null): SliderValue {\r\n    let res = value;\r\n    if (!this.assertValueValid(value!)) {\r\n      res = this.defaultValue === null ? (this.range ? [this.min, this.max] : this.min) : this.defaultValue;\r\n    } else {\r\n      res = isValueARange(value!)\r\n        ? (value as number[]).map(val => ensureNumberInRange(val, this.min, this.max))\r\n        : ensureNumberInRange(value as number, this.min, this.max);\r\n    }\r\n\r\n    return res;\r\n  }\r\n\r\n  /**\r\n   * Check if value is valid and throw error if value-type/range not match.\r\n   */\r\n  private assertValueValid(value: SliderValue): boolean {\r\n    if (!Array.isArray(value) && isNaN(typeof value !== 'number' ? parseFloat(value) : value)) {\r\n      return false;\r\n    }\r\n    return this.assertValueTypeMatch(value);\r\n  }\r\n\r\n  /**\r\n   * Assert that if `this.nzRange` is `true`, value is also a range, vice versa.\r\n   */\r\n  private assertValueTypeMatch(value: SliderValue | null): boolean {\r\n    if (!value) {\r\n      return true;\r\n    } else if (isValueARange(value) !== this.range) {\r\n      throw getValueTypeNotMatchError();\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  private valuesEqual(valA: SliderValue, valB: SliderValue): boolean {\r\n    if (typeof valA !== typeof valB) {\r\n      return false;\r\n    }\r\n    return isValueARange(valA) && isValueARange(valB) ? arraysEqual<number>(valA, valB) : valA === valB;\r\n  }\r\n\r\n  /**\r\n   * Show one handle's tooltip and hide others'.\r\n   */\r\n  private showHandleTooltip(handleIndex: number = 0): void {\r\n    this.handles.forEach((handle, index) => {\r\n      handle.active = index === handleIndex;\r\n    });\r\n  }\r\n\r\n  private hideAllHandleTooltip(): void {\r\n    this.handles.forEach(handle => (handle.active = false));\r\n  }\r\n\r\n  private generateHandles(amount: number): SliderHandler[] {\r\n    return Array(amount)\r\n      .fill(0)\r\n      .map(() => ({ offset: null, value: null, active: false }));\r\n  }\r\n\r\n  private generateMarkItems(marks: Marks): ExtendedMark[] | null {\r\n    const marksArray: ExtendedMark[] = [];\r\n    for (const key in marks) {\r\n      const mark = marks[key];\r\n      const val = typeof key === 'number' ? key : parseFloat(key);\r\n      if (val >= this.min && val <= this.max) {\r\n        marksArray.push({ value: val, offset: this.valueToOffset(val), config: mark });\r\n      }\r\n    }\r\n    return marksArray.length ? marksArray : null;\r\n  }\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nexport function getValueTypeNotMatchError(): Error {\r\n  return new Error(\r\n    `The \"range\" can't match the \"ngModel\"'s type, please check these properties: \"range\", \"ngModel\", \"defaultValue\".`\r\n  );\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  SimpleChanges,\r\n  ViewChild,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { InputBoolean, NGStyleInterface } from 'ng-zorro-antd/core';\r\nimport { NzToolTipComponent } from 'ng-zorro-antd/tooltip';\r\n\r\nimport { SliderShowTooltip } from './cmacs-slider-definitions';\r\nimport { CmacsSliderComponent } from './cmacs-slider.component';\r\n\r\n@Component({\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  selector: 'cmacs-slider-handle',\r\n  exportAs: 'cmacsSliderHandle',\r\n  preserveWhitespaces: false,\r\n  templateUrl: './cmacs-slider-handle.component.html',\r\n  styleUrls: ['./cmacs-slider-handle.component.css'],\r\n  host: {\r\n    '(mouseenter)': 'enterHandle()',\r\n    '(mouseleave)': 'leaveHandle()'\r\n  }\r\n})\r\nexport class CmacsSliderHandleComponent implements OnChanges, OnDestroy {\r\n  @ViewChild(NzToolTipComponent) tooltip: NzToolTipComponent;\r\n\r\n  @Input() nzVertical: string;\r\n  @Input() nzOffset: number;\r\n  @Input() nzValue: number;\r\n  @Input() nzTooltipVisible: SliderShowTooltip = 'default';\r\n  @Input() nzTipFormatter: (value: number) => string;\r\n  @Input() @InputBoolean() nzActive = false;\r\n\r\n  tooltipTitle: string;\r\n  style: NGStyleInterface = {};\r\n\r\n  private hovers_ = new Subscription();\r\n\r\n  constructor(private sliderComponent: CmacsSliderComponent, private cdr: ChangeDetectorRef) {}\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    const { nzOffset, nzValue, nzActive, nzTooltipVisible } = changes;\r\n\r\n    if (nzOffset) {\r\n      this.updateStyle();\r\n    }\r\n    if (nzValue) {\r\n      this.updateTooltipTitle();\r\n      this.updateTooltipPosition();\r\n    }\r\n    if (nzActive) {\r\n      if (nzActive.currentValue) {\r\n        this.toggleTooltip(true);\r\n      } else {\r\n        this.toggleTooltip(false);\r\n      }\r\n    }\r\n    if (nzTooltipVisible && nzTooltipVisible.currentValue === 'always') {\r\n      Promise.resolve().then(() => this.toggleTooltip(true, true));\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.hovers_.unsubscribe();\r\n  }\r\n\r\n  enterHandle = () => {\r\n    if (!this.sliderComponent.isDragging) {\r\n      this.toggleTooltip(true);\r\n      this.updateTooltipPosition();\r\n      this.cdr.detectChanges();\r\n    }\r\n  };\r\n\r\n  leaveHandle = () => {\r\n    if (!this.sliderComponent.isDragging) {\r\n      this.toggleTooltip(false);\r\n      this.cdr.detectChanges();\r\n    }\r\n  };\r\n\r\n  private toggleTooltip(show: boolean, force: boolean = false): void {\r\n    if (!force && (this.nzTooltipVisible !== 'default' || !this.tooltip)) {\r\n      return;\r\n    }\r\n\r\n    if (show) {\r\n      this.tooltip.show();\r\n    } else {\r\n      this.tooltip.hide();\r\n    }\r\n  }\r\n\r\n  private updateTooltipTitle(): void {\r\n    this.tooltipTitle = this.nzTipFormatter ? this.nzTipFormatter(this.nzValue) : `${this.nzValue}`;\r\n  }\r\n\r\n  private updateTooltipPosition(): void {\r\n    if (this.tooltip) {\r\n      Promise.resolve().then(() => this.tooltip.updatePosition());\r\n    }\r\n  }\r\n\r\n  private updateStyle(): void {\r\n    this.style[this.nzVertical ? 'bottom' : 'left'] = `${this.nzOffset}%`;\r\n  }\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport { ChangeDetectionStrategy, Component, Input, OnChanges, SimpleChanges, ViewEncapsulation } from '@angular/core';\r\n\r\nimport { InputBoolean } from 'ng-zorro-antd/core';\r\n\r\nimport { isConfigAObject, DisplayedMark, ExtendedMark, Mark } from './cmacs-slider-definitions';\r\n\r\n@Component({\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  preserveWhitespaces: false,\r\n  selector: 'cmacs-slider-marks',\r\n  exportAs: 'cmacsSliderMarks',\r\n  templateUrl: './cmacs-slider-marks.component.html'\r\n})\r\nexport class CmacsSliderMarksComponent implements OnChanges {\r\n  @Input() nzLowerBound: number | null = null;\r\n  @Input() nzUpperBound: number | null = null;\r\n  @Input() nzMarksArray: ExtendedMark[];\r\n  @Input() nzMin: number;\r\n  @Input() nzMax: number;\r\n  @Input() @InputBoolean() nzVertical = false;\r\n  @Input() @InputBoolean() nzIncluded = false;\r\n\r\n  marks: DisplayedMark[];\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes.nzMarksArray) {\r\n      this.buildMarks();\r\n    }\r\n    if (changes.nzMarksArray || changes.nzLowerBound || changes.nzUpperBound) {\r\n      this.togglePointActive();\r\n    }\r\n  }\r\n\r\n  trackById(_index: number, mark: DisplayedMark): number {\r\n    return mark.value;\r\n  }\r\n\r\n  private buildMarks(): void {\r\n    const range = this.nzMax - this.nzMin;\r\n\r\n    this.marks = this.nzMarksArray.map(mark => {\r\n      const { value, offset, config } = mark;\r\n      const style = this.buildStyles(value, range, config);\r\n      const label = isConfigAObject(config) ? config.label : config;\r\n\r\n      return {\r\n        label,\r\n        offset,\r\n        style,\r\n        value,\r\n        config,\r\n        active: false\r\n      };\r\n    });\r\n  }\r\n\r\n  private buildStyles(value: number, range: number, config: Mark): { [key: string]: string } {\r\n    let style;\r\n\r\n    if (this.nzVertical) {\r\n      style = {\r\n        marginBottom: '-50%',\r\n        bottom: `${((value - this.nzMin) / range) * 100}%`\r\n      };\r\n    } else {\r\n      const marksCount = this.nzMarksArray.length;\r\n      const unit = 100 / (marksCount - 1);\r\n      const markWidth = unit * 0.9;\r\n      style = {\r\n        width: `${markWidth}%`,\r\n        marginLeft: `${-markWidth / 2}%`,\r\n        left: `${((value - this.nzMin) / range) * 100}%`\r\n      };\r\n    }\r\n\r\n    if (isConfigAObject(config) && config.style) {\r\n      style = { ...style, ...config.style };\r\n    }\r\n\r\n    return style;\r\n  }\r\n\r\n  private togglePointActive(): void {\r\n    if (this.marks && this.nzLowerBound !== null && this.nzUpperBound !== null) {\r\n      this.marks.forEach(mark => {\r\n        const value = mark.value;\r\n        const isActive =\r\n          (!this.nzIncluded && value === this.nzUpperBound) ||\r\n          (this.nzIncluded && value <= this.nzUpperBound! && value >= this.nzLowerBound!);\r\n\r\n        mark.active = isActive;\r\n      });\r\n    }\r\n  }\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport { ChangeDetectionStrategy, Component, Input, OnChanges, SimpleChanges, ViewEncapsulation } from '@angular/core';\r\n\r\nimport { InputBoolean } from 'ng-zorro-antd/core';\r\n\r\nimport { DisplayedStep, ExtendedMark } from './cmacs-slider-definitions';\r\n\r\n@Component({\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  selector: 'cmacs-slider-step',\r\n  exportAs: 'cmacsSliderStep',\r\n  preserveWhitespaces: false,\r\n  templateUrl: './cmacs-slider-step.component.html'\r\n})\r\nexport class CmacsSliderStepComponent implements OnChanges {\r\n  @Input() nzLowerBound: number | null = null;\r\n  @Input() nzUpperBound: number | null = null;\r\n  @Input() nzMarksArray: ExtendedMark[];\r\n  @Input() @InputBoolean() nzVertical = false;\r\n  @Input() @InputBoolean() nzIncluded = false;\r\n\r\n  steps: DisplayedStep[];\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes.nzMarksArray) {\r\n      this.buildSteps();\r\n    }\r\n    if (changes.nzMarksArray || changes.nzLowerBound || changes.nzUpperBound) {\r\n      this.togglePointActive();\r\n    }\r\n  }\r\n\r\n  trackById(_index: number, step: DisplayedStep): number {\r\n    return step.value;\r\n  }\r\n\r\n  private buildSteps(): void {\r\n    const orient = this.nzVertical ? 'bottom' : 'left';\r\n\r\n    this.steps = this.nzMarksArray.map(mark => {\r\n      const { value, offset, config } = mark;\r\n\r\n      return {\r\n        value,\r\n        offset,\r\n        config,\r\n        active: false,\r\n        style: {\r\n          [orient]: `${offset}%`\r\n        }\r\n      };\r\n    });\r\n  }\r\n\r\n  private togglePointActive(): void {\r\n    if (this.steps && this.nzLowerBound !== null && this.nzUpperBound !== null) {\r\n      this.steps.forEach(step => {\r\n        const value = step.value;\r\n        const isActive =\r\n          (!this.nzIncluded && value === this.nzUpperBound) ||\r\n          (this.nzIncluded && value <= this.nzUpperBound! && value >= this.nzLowerBound!);\r\n        step.active = isActive;\r\n      });\r\n    }\r\n  }\r\n}\r\n","import {\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  EventEmitter,\r\n  Output,\r\n  Input,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport {VgAPI} from \"videogular2/compiled/src/core/services/vg-api\";\r\n\r\nexport interface Source {\r\n  src: string;\r\n  type: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'cmacs-video-player',\r\n  exportAs: 'cmacsVideoPlayer',\r\n  templateUrl: './cmacs-video-player.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  preserveWhitespaces: false,\r\n  styleUrls: ['./cmacs-video-player.component.css'],\r\n})\r\nexport class CmacsVideoPlayerComponent{\r\n\r\n  @Input() sources: Source[];\r\n  @Output() playerReady: EventEmitter<VgAPI> = new EventEmitter<VgAPI>();\r\n\r\n  constructor() {}\r\n\r\n  onPlayerReady(api:VgAPI){\r\n    this.playerReady.emit(api);\r\n  }\r\n}\r\n","import { CdkOverlayOrigin, ConnectionPositionPair } from '@angular/cdk/overlay';\r\nimport {\r\n  AfterViewInit,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Input,\r\n  OnChanges,\r\n  OnInit,\r\n  Output,\r\n  Renderer2,\r\n  SimpleChanges,\r\n  TemplateRef,\r\n  ViewChild,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\n\r\nimport { isNotNil, slideMotion, toBoolean, NzUpdateHostClassService as UpdateCls } from 'ng-zorro-antd/core';\r\nimport { format } from 'ssf/types';\r\n\r\n@Component({\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  selector: 'cmacs-datetime-picker',\r\n  exportAs: 'cmacsDateTimePicker',\r\n  templateUrl: './cmacs-datetime-picker.component.html',\r\n  animations: [slideMotion],\r\n  providers: [UpdateCls, { provide: NG_VALUE_ACCESSOR, useExisting: CmacsDateTimePickerComponent, multi: true }]\r\n})\r\nexport class CmacsDateTimePickerComponent implements ControlValueAccessor, OnInit, AfterViewInit, OnChanges {\r\n  private _disabled = false;\r\n  private _value: Date | null = null;\r\n  private _allowEmpty = true;\r\n  private _autoFocus = false;\r\n  private _onChange: (value: Date | null) => void;\r\n  private _onTouched: () => void;\r\n  private _hideDisabledOptions = false;\r\n  isInit = false;\r\n  origin: CdkOverlayOrigin;\r\n  overlayPositions: ConnectionPositionPair[] = [\r\n    {\r\n      originX: 'start',\r\n      originY: 'top',\r\n      overlayX: 'end',\r\n      overlayY: 'top',\r\n      offsetX: 0,\r\n      offsetY: 0\r\n    }\r\n  ];\r\n  @ViewChild('inputElement') inputRef: ElementRef;\r\n  @Input() size: string | null = null;\r\n  @Input() hourStep = 1;\r\n  @Input() minuteStep = 1;\r\n  @Input() secondStep = 1;\r\n  @Input() clearText = 'clear';\r\n  @Input() popupClassName = '';\r\n  @Input() placeHolder = '';\r\n  @Input() addOn: TemplateRef<void>;\r\n  @Input() defaultOpenValue = new Date();\r\n  @Input() disabledHours: () => number[];\r\n  @Input() disabledMinutes: (hour: number) => number[];\r\n  @Input() disabledSeconds: (hour: number, minute: number) => number[];\r\n  @Input() cmacsOpen = false;\r\n  @Input() use12Hours = false;\r\n  @Input() format = null;\r\n  @Output() readonly openChange = new EventEmitter<boolean>();\r\n\r\n  @Input()\r\n  set hideDisabledOptions(value: boolean) {\r\n    this._hideDisabledOptions = toBoolean(value);\r\n  }\r\n\r\n  get hideDisabledOptions(): boolean {\r\n    return this._hideDisabledOptions;\r\n  }\r\n\r\n  @Input()\r\n  set allowEmpty(value: boolean) {\r\n    this._allowEmpty = toBoolean(value);\r\n  }\r\n\r\n  get allowEmpty(): boolean {\r\n    return this._allowEmpty;\r\n  }\r\n\r\n  @Input()\r\n  set autoFocus(value: boolean) {\r\n    this._autoFocus = toBoolean(value);\r\n    this.updateAutoFocus();\r\n  }\r\n\r\n  get autoFocus(): boolean {\r\n    return this._autoFocus;\r\n  }\r\n\r\n  @Input()\r\n  set disabled(value: boolean | string) {\r\n    this._disabled = toBoolean(value);\r\n    const input = this.inputRef.nativeElement as HTMLInputElement;\r\n    if (this._disabled) {\r\n      this.renderer.setAttribute(input, 'disabled', '');\r\n    } else {\r\n      this.renderer.removeAttribute(input, 'disabled');\r\n    }\r\n  }\r\n\r\n  get disabled(): boolean | string {\r\n    return this._disabled;\r\n  }\r\n\r\n  set value(value: Date | null) {\r\n    this._value = value;\r\n    if (this._onChange) {\r\n      this._onChange(this.value);\r\n    }\r\n    if (this._onTouched) {\r\n      this._onTouched();\r\n    }\r\n  }\r\n\r\n  get value(): Date | null {\r\n    return this._value;\r\n  }\r\n\r\n  open(): void {\r\n    if (this.disabled) {\r\n      return;\r\n    }\r\n    this.cmacsOpen = true;\r\n    this.openChange.emit(this.cmacsOpen);\r\n  }\r\n\r\n  close(): void {\r\n    this.cmacsOpen = false;\r\n    this.openChange.emit(this.cmacsOpen);\r\n  }\r\n\r\n  updateAutoFocus(): void {\r\n    if (this.isInit && !this.disabled) {\r\n      if (this.autoFocus) {\r\n        this.renderer.setAttribute(this.inputRef.nativeElement, 'autofocus', 'autofocus');\r\n      } else {\r\n        this.renderer.removeAttribute(this.inputRef.nativeElement, 'autofocus');\r\n      }\r\n    }\r\n  }\r\n\r\n  onClickClearBtn(): void {\r\n    this.value = null;\r\n  }\r\n\r\n  private setClassMap(): void {\r\n    this.updateCls.updateHostClass(this.element.nativeElement, {\r\n      [`ant-time-picker`]: true,\r\n      [`ant-time-picker-${this.size}`]: isNotNil(this.size)\r\n    });\r\n  }\r\n\r\n  focus(): void {\r\n    if (this.inputRef.nativeElement) {\r\n      this.inputRef.nativeElement.focus();\r\n    }\r\n  }\r\n\r\n  blur(): void {\r\n    if (this.inputRef.nativeElement) {\r\n      this.inputRef.nativeElement.blur();\r\n    }\r\n  }\r\n\r\n  constructor(\r\n    private element: ElementRef,\r\n    private renderer: Renderer2,\r\n    private updateCls: UpdateCls,\r\n    public cdr: ChangeDetectorRef\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.setClassMap();\r\n    this.origin = new CdkOverlayOrigin(this.element);\r\n    this.format = !this.format ? this.use12Hours ? 'HH:mm' : 'HH:mm:ss' : this.format;\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    const { use12Hours, format } = changes;\r\n    if (use12Hours && !use12Hours.previousValue && use12Hours.currentValue && !format) {\r\n      this.format = 'h:mm:ss a';\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.isInit = true;\r\n    this.updateAutoFocus();\r\n  }\r\n\r\n  writeValue(time: Date | null): void {\r\n    this._value = time;\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  registerOnChange(fn: (time: Date | null) => void): void {\r\n    this._onChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: () => void): void {\r\n    this._onTouched = fn;\r\n  }\r\n\r\n  setDisabledState(isDisabled: boolean): void {\r\n    this.disabled = isDisabled;\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport { Directive, ElementRef, HostListener, Input } from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\n\r\nimport { DateHelperService } from 'ng-zorro-antd/i18n';\r\n\r\n@Directive({\r\n  selector: 'input[nzTime]',\r\n  exportAs: 'nzTime',\r\n  providers: [{ provide: NG_VALUE_ACCESSOR, useExisting: CmacsDatetimeValueAccessorDirective, multi: true }]\r\n})\r\nexport class CmacsDatetimeValueAccessorDirective implements ControlValueAccessor {\r\n  private _onChange: (value: Date) => void;\r\n  private _onTouch: () => void;\r\n  @Input() nzTime: string;\r\n\r\n  @HostListener('keyup')\r\n  keyup(): void {\r\n    this.changed();\r\n  }\r\n\r\n  @HostListener('blur')\r\n  blur(): void {\r\n    this.touched();\r\n  }\r\n\r\n  changed(): void {\r\n    if (this._onChange) {\r\n      const value = this.dateHelper.parseTime(this.elementRef.nativeElement.value);\r\n      this._onChange(value!);\r\n    }\r\n  }\r\n\r\n  touched(): void {\r\n    if (this._onTouch) {\r\n      this._onTouch();\r\n    }\r\n  }\r\n\r\n  setRange(): void {\r\n    this.elementRef.nativeElement.focus();\r\n    this.elementRef.nativeElement.setSelectionRange(0, this.elementRef.nativeElement.value.length);\r\n  }\r\n\r\n  constructor(private dateHelper: DateHelperService, private elementRef: ElementRef) {}\r\n\r\n  writeValue(value: Date): void {\r\n    this.elementRef.nativeElement.value = this.dateHelper.format(value, this.nzTime);\r\n  }\r\n\r\n  registerOnChange(fn: (value: Date) => void): void {\r\n    this._onChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: () => void): void {\r\n    this._onTouch = fn;\r\n  }\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport { Observable, Subject } from 'rxjs';\r\n\r\nimport { isNotNil } from 'ng-zorro-antd/core';\r\n\r\nexport class TimeHolder {\r\n  private _seconds: number | undefined = undefined;\r\n  private _hours: number | undefined = undefined;\r\n  private _minutes: number | undefined = undefined;\r\n  private _selected12Hours: string | undefined = undefined;\r\n  private _use12Hours: boolean = false;\r\n  private _defaultOpenValue: Date = new Date();\r\n  private _value: Date | undefined;\r\n  private _changes = new Subject<Date>();\r\n\r\n  setDefaultValueIfNil(): void {\r\n    if (!isNotNil(this._value)) {\r\n      this._value = new Date(this.defaultOpenValue);\r\n    }\r\n  }\r\n\r\n  setMinutes(value: number, disabled: boolean): this {\r\n    if (disabled) {\r\n      return this;\r\n    }\r\n    this.setDefaultValueIfNil();\r\n    this.minutes = value;\r\n    return this;\r\n  }\r\n\r\n  setHours(value: number, disabled: boolean): this {\r\n    if (disabled) {\r\n      return this;\r\n    }\r\n    this.setDefaultValueIfNil();\r\n    this.hours = value;\r\n    return this;\r\n  }\r\n\r\n  setSeconds(value: number, disabled: boolean): this {\r\n    if (disabled) {\r\n      return this;\r\n    }\r\n    this.setDefaultValueIfNil();\r\n    this.seconds = value;\r\n    return this;\r\n  }\r\n\r\n  setUse12Hours(value: boolean): this {\r\n    this._use12Hours = value;\r\n    return this;\r\n  }\r\n\r\n  get changes(): Observable<Date> {\r\n    return this._changes.asObservable();\r\n  }\r\n\r\n  get value(): Date | undefined {\r\n    return this._value;\r\n  }\r\n\r\n  set value(value: Date | undefined) {\r\n    if (value !== this._value) {\r\n      this._value = value;\r\n      if (isNotNil(this._value)) {\r\n        this._hours = this._value!.getHours();\r\n        this._minutes = this._value!.getMinutes();\r\n        this._seconds = this._value!.getSeconds();\r\n        if (this._use12Hours && isNotNil(this._hours)) {\r\n          this._selected12Hours = this._hours >= 12 ? 'PM' : 'AM';\r\n        }\r\n      } else {\r\n        this._clear();\r\n      }\r\n    }\r\n  }\r\n\r\n  setValue(value: Date | undefined, use12Hours?: boolean): this {\r\n    if (isNotNil(use12Hours)) {\r\n      this._use12Hours = use12Hours as boolean;\r\n    }\r\n    this.value = value;\r\n    return this;\r\n  }\r\n\r\n  clear(): void {\r\n    this._clear();\r\n    this.update();\r\n  }\r\n\r\n  get isEmpty(): boolean {\r\n    return !(isNotNil(this._hours) || isNotNil(this._minutes) || isNotNil(this._seconds));\r\n  }\r\n\r\n  private _clear(): void {\r\n    this._hours = undefined;\r\n    this._minutes = undefined;\r\n    this._seconds = undefined;\r\n    this._selected12Hours = undefined;\r\n  }\r\n\r\n  private update(): void {\r\n    if (this.isEmpty) {\r\n      this._value = undefined;\r\n    } else {\r\n      if (!isNotNil(this._hours)) {\r\n        this._hours = this.defaultHours;\r\n      } else {\r\n        this._value!.setHours(this.hours!);\r\n      }\r\n\r\n      if (!isNotNil(this._minutes)) {\r\n        this._minutes = this.defaultMinutes;\r\n      } else {\r\n        this._value!.setMinutes(this.minutes!);\r\n      }\r\n\r\n      if (!isNotNil(this._seconds)) {\r\n        this._seconds = this.defaultSeconds;\r\n      } else {\r\n        this._value!.setSeconds(this.seconds!);\r\n      }\r\n\r\n      if (this._use12Hours) {\r\n        if (!isNotNil(this._selected12Hours)) {\r\n          this._selected12Hours = this.default12Hours;\r\n        }\r\n        if (this.selected12Hours === 'PM' && this._hours! < 12) {\r\n          this._hours! += 12;\r\n          this._value!.setHours(this._hours!);\r\n        }\r\n        if (this.selected12Hours === 'AM' && this._hours! >= 12) {\r\n          this._hours! -= 12;\r\n          this._value!.setHours(this._hours!);\r\n        }\r\n      }\r\n\r\n      this._value = new Date(this._value!);\r\n    }\r\n    this.changed();\r\n  }\r\n\r\n  changed(): void {\r\n    this._changes.next(this._value);\r\n  }\r\n\r\n  /**\r\n   * @description\r\n   * UI view hours\r\n   * Get viewHours which is selected in `time-picker-panel` and its range is [12, 1, 2, ..., 11]\r\n   */\r\n  get viewHours(): number | undefined {\r\n    return this._use12Hours && isNotNil(this._hours) ? this.calculateViewHour(this._hours!) : this._hours;\r\n  }\r\n\r\n  /**\r\n   * @description\r\n   * Value hours\r\n   * Get realHours and its range is [0, 1, 2, ..., 22, 23]\r\n   */\r\n  get realHours(): number | undefined {\r\n    return this._hours;\r\n  }\r\n\r\n  /**\r\n   * @description\r\n   * Same as realHours\r\n   * @see realHours\r\n   */\r\n  get hours(): number | undefined {\r\n    return this._hours;\r\n  }\r\n\r\n  /**\r\n   * @description\r\n   * Set viewHours to realHours\r\n   */\r\n  set hours(value: number | undefined) {\r\n    if (value !== this._hours) {\r\n      if (this._use12Hours) {\r\n        if (this.selected12Hours === 'PM' && value !== 12) {\r\n          this._hours! = (value as number) + 12;\r\n        } else if (this.selected12Hours === 'AM' && value === 12) {\r\n          this._hours = 0;\r\n        } else {\r\n          this._hours = value;\r\n        }\r\n      } else {\r\n        this._hours = value;\r\n      }\r\n      this.update();\r\n    }\r\n  }\r\n\r\n  get minutes(): number | undefined {\r\n    return this._minutes;\r\n  }\r\n\r\n  set minutes(value: number | undefined) {\r\n    if (value !== this._minutes) {\r\n      this._minutes = value;\r\n      this.update();\r\n    }\r\n  }\r\n\r\n  get seconds(): number | undefined {\r\n    return this._seconds;\r\n  }\r\n\r\n  set seconds(value: number | undefined) {\r\n    if (value !== this._seconds) {\r\n      this._seconds = value;\r\n      this.update();\r\n    }\r\n  }\r\n\r\n  get selected12Hours(): string | undefined {\r\n    return this._selected12Hours;\r\n  }\r\n\r\n  set selected12Hours(value: string | undefined) {\r\n    if (value!.toUpperCase() !== this._selected12Hours) {\r\n      this._selected12Hours = value!.toUpperCase();\r\n      this.update();\r\n    }\r\n  }\r\n\r\n  get defaultOpenValue(): Date {\r\n    return this._defaultOpenValue;\r\n  }\r\n\r\n  set defaultOpenValue(value: Date) {\r\n    if (this._defaultOpenValue !== value) {\r\n      this._defaultOpenValue = value;\r\n      this.update();\r\n    }\r\n  }\r\n\r\n  setDefaultOpenValue(value: Date): this {\r\n    this.defaultOpenValue = value;\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @description\r\n   * Get deafultViewHours when defaultOpenValue is setted\r\n   * @see viewHours\r\n   */\r\n  get defaultViewHours(): number {\r\n    const hours = this._defaultOpenValue.getHours();\r\n    return this._use12Hours && isNotNil(hours) ? this.calculateViewHour(hours) : hours;\r\n  }\r\n\r\n  /**\r\n   * @description\r\n   * Get defaultRealHours when defaultOpenValue is setted\r\n   * @see realHours\r\n   */\r\n  get defaultRealHours(): number {\r\n    return this._defaultOpenValue.getHours();\r\n  }\r\n\r\n  /**\r\n   * @description\r\n   * Same as defaultRealHours\r\n   */\r\n  get defaultHours(): number {\r\n    return this._defaultOpenValue.getHours();\r\n  }\r\n\r\n  get defaultMinutes(): number {\r\n    return this._defaultOpenValue.getMinutes();\r\n  }\r\n\r\n  get defaultSeconds(): number {\r\n    return this._defaultOpenValue.getSeconds();\r\n  }\r\n\r\n  get default12Hours(): string {\r\n    return this._defaultOpenValue.getHours() >= 12 ? 'PM' : 'AM';\r\n  }\r\n\r\n  constructor() {}\r\n\r\n  private calculateViewHour(value: number): number {\r\n    const selected12Hours = this._selected12Hours || this.default12Hours;\r\n    if (selected12Hours === 'PM' && value > 12) {\r\n      return value - 12;\r\n    }\r\n    if (selected12Hours === 'AM' && value === 0) {\r\n      return 12;\r\n    }\r\n    return value;\r\n  }\r\n}\r\n","import {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  DebugElement,\r\n  ElementRef,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  OnInit,\r\n  SimpleChanges,\r\n  TemplateRef,\r\n  ViewChild,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\n\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport { isNotNil, reqAnimFrame, InputBoolean, NzUpdateHostClassService as UpdateCls } from 'ng-zorro-antd/core';\r\n\r\nimport { CmacsDatetimeValueAccessorDirective } from './cmacs-datetime-value-accessor.directive';\r\nimport { TimeHolder } from './time-holder';\r\n\r\nfunction makeRange(length: number, step: number = 1, start: number = 0): number[] {\r\n  return new Array(Math.ceil(length / step)).fill(0).map((_, i) => (i + start) * step);\r\n}\r\n\r\nexport type NzTimePickerUnit = 'hour' | 'minute' | 'second' | '12-hour';\r\n\r\n@Component({\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  selector: 'cmacs-datetime-picker-panel',\r\n  exportAs: 'cmacsDateTimePickerPanel',\r\n  templateUrl: './cmacs-datetime-picker-panel.component.html',\r\n  styleUrls: ['./cmacs-datetime-picker-panel.component.css'],\r\n  providers: [UpdateCls, { provide: NG_VALUE_ACCESSOR, useExisting: CmacsDatetimePickerPanelComponent, multi: true }]\r\n})\r\nexport class CmacsDatetimePickerPanelComponent implements ControlValueAccessor, OnInit, OnDestroy, OnChanges {\r\n  private _nzHourStep = 1;\r\n  private _nzMinuteStep = 1;\r\n  private _nzSecondStep = 1;\r\n  private unsubscribe$ = new Subject<void>();\r\n  private onChange: (value: Date) => void;\r\n  private onTouch: () => void;\r\n  private _format = 'HH:mm:ss';\r\n  private _disabledHours: () => number[];\r\n  private _disabledMinutes: (hour: number) => number[];\r\n  private _disabledSeconds: (hour: number, minute: number) => number[];\r\n  private _defaultOpenValue = new Date();\r\n  private _opened = false;\r\n  private _allowEmpty = true;\r\n  prefixCls: string = 'ant-time-picker-panel';\r\n  time = new TimeHolder();\r\n  hourEnabled = true;\r\n  minuteEnabled = true;\r\n  secondEnabled = true;\r\n  enabledColumns = 3;\r\n  hourRange: ReadonlyArray<{ index: number; disabled: boolean }>;\r\n  minuteRange: ReadonlyArray<{ index: number; disabled: boolean }>;\r\n  secondRange: ReadonlyArray<{ index: number; disabled: boolean }>;\r\n  use12HoursRange: ReadonlyArray<{ index: number; value: string }>;\r\n  hours : number;\r\n  seconds : number;\r\n  minutes : number;\r\n  range: any;\r\n  @ViewChild(CmacsDatetimeValueAccessorDirective) nzTimeValueAccessorDirective: CmacsDatetimeValueAccessorDirective;\r\n\r\n  @ViewChild('hourListElement') hourListElement: DebugElement;\r\n  @ViewChild('minuteListElement') minuteListElement: DebugElement;\r\n  @ViewChild('secondListElement') secondListElement: DebugElement;\r\n  @ViewChild('use12HoursListElement') use12HoursListElement: DebugElement;\r\n\r\n  @Input() nzInDatePicker: boolean = false; // If inside a date-picker, more diff works need to be done\r\n  @Input() nzAddOn: TemplateRef<void>;\r\n  @Input() nzHideDisabledOptions = false;\r\n  @Input() nzClearText: string;\r\n  @Input() nzPlaceHolder: string;\r\n  @Input() @InputBoolean() nzUse12Hours = false;\r\n  // tslint:disable-next-line: member-ordering\r\n\r\n  @Input()\r\n  set nzAllowEmpty(value: boolean) {\r\n    if (isNotNil(value)) {\r\n      this._allowEmpty = value;\r\n    }\r\n  }\r\n\r\n  get nzAllowEmpty(): boolean {\r\n    return this._allowEmpty;\r\n  }\r\n\r\n  @Input()\r\n  set opened(value: boolean) {\r\n    this._opened = value;\r\n    if (this.opened) {\r\n      this.initPosition();\r\n      this.selectInputRange();\r\n    }\r\n  }\r\n\r\n  get opened(): boolean {\r\n    return this._opened;\r\n  }\r\n\r\n  @Input()\r\n  set nzDefaultOpenValue(value: Date) {\r\n    if (isNotNil(value)) {\r\n      this._defaultOpenValue = value;\r\n      this.time.setDefaultOpenValue(this.nzDefaultOpenValue);\r\n    }\r\n  }\r\n\r\n  get nzDefaultOpenValue(): Date {\r\n    return this._defaultOpenValue;\r\n  }\r\n\r\n  @Input()\r\n  set nzDisabledHours(value: () => number[]) {\r\n    this._disabledHours = value;\r\n    if (this._disabledHours) {\r\n      this.buildHours();\r\n    }\r\n  }\r\n\r\n  get nzDisabledHours(): () => number[] {\r\n    return this._disabledHours;\r\n  }\r\n\r\n  @Input()\r\n  set nzDisabledMinutes(value: (hour: number) => number[]) {\r\n    if (isNotNil(value)) {\r\n      this._disabledMinutes = value;\r\n      this.buildMinutes();\r\n    }\r\n  }\r\n\r\n  get nzDisabledMinutes(): (hour: number) => number[] {\r\n    return this._disabledMinutes;\r\n  }\r\n\r\n  @Input()\r\n  set nzDisabledSeconds(value: (hour: number, minute: number) => number[]) {\r\n    if (isNotNil(value)) {\r\n      this._disabledSeconds = value;\r\n      this.buildSeconds();\r\n    }\r\n  }\r\n\r\n  get nzDisabledSeconds(): (hour: number, minute: number) => number[] {\r\n    return this._disabledSeconds;\r\n  }\r\n\r\n  @Input()\r\n  set format(value: string) {\r\n    if (isNotNil(value)) {\r\n      this._format = value;\r\n      this.enabledColumns = 0;\r\n      const charSet = new Set(value);\r\n      this.hourEnabled = charSet.has('H') || charSet.has('h');\r\n      this.minuteEnabled = charSet.has('m');\r\n      this.secondEnabled = charSet.has('s');\r\n      if (this.hourEnabled) {\r\n        this.enabledColumns++;\r\n      }\r\n      if (this.minuteEnabled) {\r\n        this.enabledColumns++;\r\n      }\r\n      if (this.secondEnabled) {\r\n        this.enabledColumns++;\r\n      }\r\n      if (this.nzUse12Hours) {\r\n        this.build12Hours();\r\n      }\r\n    }\r\n  }\r\n\r\n  get format(): string {\r\n    return this._format;\r\n  }\r\n\r\n  @Input()\r\n  set nzHourStep(value: number) {\r\n    if (isNotNil(value)) {\r\n      this._nzHourStep = value;\r\n      this.buildHours();\r\n    }\r\n  }\r\n\r\n  get nzHourStep(): number {\r\n    return this._nzHourStep;\r\n  }\r\n\r\n  @Input()\r\n  set nzMinuteStep(value: number) {\r\n    if (isNotNil(value)) {\r\n      this._nzMinuteStep = value;\r\n      this.buildMinutes();\r\n    }\r\n  }\r\n\r\n  get nzMinuteStep(): number {\r\n    return this._nzMinuteStep;\r\n  }\r\n\r\n  @Input()\r\n  set nzSecondStep(value: number) {\r\n    if (isNotNil(value)) {\r\n      this._nzSecondStep = value;\r\n      this.buildSeconds();\r\n    }\r\n  }\r\n\r\n  get nzSecondStep(): number {\r\n    return this._nzSecondStep;\r\n  }\r\n\r\n  selectInputRange(): void {\r\n    setTimeout(() => {\r\n      if (this.nzTimeValueAccessorDirective) {\r\n        this.nzTimeValueAccessorDirective.setRange();\r\n      }\r\n    });\r\n  }\r\n\r\n  buildHours(): void {\r\n    this.hours = (((this.time.hours ? this.time.hours : this.time.defaultHours) + 11) % 12 + 1);\r\n  }\r\n\r\n  buildMinutes(): void {\r\n    this.minutes = this.time.minutes ? this.time.minutes : this.time.defaultMinutes;\r\n  }\r\n\r\n  buildSeconds(): void {\r\n    this.seconds = this.time.seconds ? this.time.seconds : this.time.defaultSeconds;\r\n  }\r\n\r\n  build12Hours(): void {\r\n    const isUpperForamt = this._format.includes('A');\r\n    this.use12HoursRange = [\r\n      {\r\n        index: 0,\r\n        value: isUpperForamt ? 'AM' : 'am'\r\n      },\r\n      {\r\n        index: 1,\r\n        value: isUpperForamt ? 'PM' : 'pm'\r\n      }\r\n    ];\r\n    this.range = this.time.selected12Hours ? this.time.selected12Hours.toLowerCase() : this.time.default12Hours.toLowerCase();\r\n  }\r\n\r\n  buildTimes(): void {\r\n    this.buildHours();\r\n    this.buildMinutes();\r\n    this.buildSeconds();\r\n    this.build12Hours();\r\n  }\r\n\r\n  selectHour(hour: { index: number; disabled: boolean }): void {\r\n    this.time.setHours(hour.index, hour.disabled);\r\n    this.scrollToSelected(this.hourListElement.nativeElement, hour.index, 120, 'hour');\r\n\r\n    if (this._disabledMinutes) {\r\n      this.buildMinutes();\r\n    }\r\n    if (this._disabledSeconds || this._disabledMinutes) {\r\n      this.buildSeconds();\r\n    }\r\n  }\r\n\r\n  selectMinute(minute: { index: number; disabled: boolean }): void {\r\n    this.time.setMinutes(minute.index, minute.disabled);\r\n    this.scrollToSelected(this.minuteListElement.nativeElement, minute.index, 120, 'minute');\r\n    if (this._disabledSeconds) {\r\n      this.buildSeconds();\r\n    }\r\n  }\r\n\r\n  selectSecond(second: { index: number; disabled: boolean }): void {\r\n    this.time.setSeconds(second.index, second.disabled);\r\n    this.scrollToSelected(this.secondListElement.nativeElement, second.index, 120, 'second');\r\n  }\r\n\r\n  select12Hours(value: string): void {\r\n    this.time.selected12Hours = value;\r\n    if (this._disabledHours) {\r\n      this.buildHours();\r\n    }\r\n    if (this._disabledMinutes) {\r\n      this.buildMinutes();\r\n    }\r\n    if (this._disabledSeconds) {\r\n      this.buildSeconds();\r\n    }\r\n    /*this.scrollToSelected(this.use12HoursListElement.nativeElement, value.index, 120, '12-hour');*/\r\n  }\r\n\r\n  scrollToSelected(instance: HTMLElement, index: number, duration: number = 0, unit: NzTimePickerUnit): void {\r\n    const transIndex = this.translateIndex(index, unit);\r\n    const currentOption = (instance.children[0].children[transIndex] ||\r\n      instance.children[0].children[0]) as HTMLElement;\r\n    this.scrollTo(instance, currentOption.offsetTop, duration);\r\n  }\r\n\r\n  translateIndex(index: number, unit: NzTimePickerUnit): number {\r\n    if (unit === 'hour') {\r\n      const disabledHours = this.nzDisabledHours && this.nzDisabledHours();\r\n      return this.calcIndex(disabledHours, this.hourRange.map(item => item.index).indexOf(index));\r\n    } else if (unit === 'minute') {\r\n      const disabledMinutes = this.nzDisabledMinutes && this.nzDisabledMinutes(this.time.hours!);\r\n      return this.calcIndex(disabledMinutes, this.minuteRange.map(item => item.index).indexOf(index));\r\n    } else if (unit === 'second') {\r\n      // second\r\n      const disabledSeconds = this.nzDisabledSeconds && this.nzDisabledSeconds(this.time.hours!, this.time.minutes!);\r\n      return this.calcIndex(disabledSeconds, this.secondRange.map(item => item.index).indexOf(index));\r\n    } else {\r\n      // 12-hour\r\n      return this.calcIndex([], this.use12HoursRange.map(item => item.index).indexOf(index));\r\n    }\r\n  }\r\n\r\n  scrollTo(element: HTMLElement, to: number, duration: number): void {\r\n    if (duration <= 0) {\r\n      element.scrollTop = to;\r\n      return;\r\n    }\r\n    const difference = to - element.scrollTop;\r\n    const perTick = (difference / duration) * 10;\r\n\r\n    reqAnimFrame(() => {\r\n      element.scrollTop = element.scrollTop + perTick;\r\n      if (element.scrollTop === to) {\r\n        return;\r\n      }\r\n      this.scrollTo(element, to, duration - 10);\r\n    });\r\n  }\r\n\r\n  calcIndex(array: number[], index: number): number {\r\n    if (array && array.length && this.nzHideDisabledOptions) {\r\n      return (\r\n        index -\r\n        array.reduce((pre, value) => {\r\n          return pre + (value < index ? 1 : 0);\r\n        }, 0)\r\n      );\r\n    } else {\r\n      return index;\r\n    }\r\n  }\r\n\r\n  protected changed(): void {\r\n    if (this.onChange) {\r\n      this.onChange(this.time.value!);\r\n    }\r\n  }\r\n\r\n  protected touched(): void {\r\n    if (this.onTouch) {\r\n      this.onTouch();\r\n    }\r\n  }\r\n\r\n  private setClassMap(): void {\r\n    this.updateCls.updateHostClass(this.element.nativeElement, {\r\n      [`${this.prefixCls}`]: true,\r\n      [`${this.prefixCls}-column-${this.enabledColumns}`]: !this.nzInDatePicker,\r\n      [`${this.prefixCls}-narrow`]: this.enabledColumns < 3,\r\n      [`${this.prefixCls}-placement-bottomLeft`]: !this.nzInDatePicker\r\n    });\r\n  }\r\n\r\n  isSelectedHour(hour: { index: number; disabled: boolean }): boolean {\r\n    return (\r\n      hour.index === this.time.viewHours ||\r\n      (!isNotNil(this.time.viewHours) && hour.index === this.time.defaultViewHours)\r\n    );\r\n  }\r\n\r\n  isSelectedMinute(minute: { index: number; disabled: boolean }): boolean {\r\n    return (\r\n      minute.index === this.time.minutes || (!isNotNil(this.time.minutes) && minute.index === this.time.defaultMinutes)\r\n    );\r\n  }\r\n\r\n  isSelectedSecond(second: { index: number; disabled: boolean }): boolean {\r\n    return (\r\n      second.index === this.time.seconds || (!isNotNil(this.time.seconds) && second.index === this.time.defaultSeconds)\r\n    );\r\n  }\r\n\r\n  isSelected12Hours(value: { index: number; value: string }): boolean {\r\n    return (\r\n      value.value.toUpperCase() === this.time.selected12Hours ||\r\n      (!isNotNil(this.time.selected12Hours) && value.value.toUpperCase() === this.time.default12Hours)\r\n    );\r\n  }\r\n\r\n  initPosition(): void {\r\n    setTimeout(() => {\r\n      if (this.hourEnabled && this.hourListElement) {\r\n        if (isNotNil(this.time.viewHours)) {\r\n          this.scrollToSelected(this.hourListElement.nativeElement, this.time.viewHours!, 0, 'hour');\r\n        } else {\r\n          this.scrollToSelected(this.hourListElement.nativeElement, this.time.defaultViewHours, 0, 'hour');\r\n        }\r\n      }\r\n      if (this.minuteEnabled && this.minuteListElement) {\r\n        if (isNotNil(this.time.minutes)) {\r\n          this.scrollToSelected(this.minuteListElement.nativeElement, this.time.minutes!, 0, 'minute');\r\n        } else {\r\n          this.scrollToSelected(this.minuteListElement.nativeElement, this.time.defaultMinutes, 0, 'minute');\r\n        }\r\n      }\r\n      if (this.secondEnabled && this.secondListElement) {\r\n        if (isNotNil(this.time.seconds)) {\r\n          this.scrollToSelected(this.secondListElement.nativeElement, this.time.seconds!, 0, 'second');\r\n        } else {\r\n          this.scrollToSelected(this.secondListElement.nativeElement, this.time.defaultSeconds, 0, 'second');\r\n        }\r\n      }\r\n      if (this.nzUse12Hours && this.use12HoursListElement) {\r\n        const selectedHours = isNotNil(this.time.selected12Hours)\r\n          ? this.time.selected12Hours\r\n          : this.time.default12Hours;\r\n        const index = selectedHours === 'AM' ? 0 : 1;\r\n        this.scrollToSelected(this.use12HoursListElement.nativeElement, index, 0, '12-hour');\r\n      }\r\n    });\r\n  }\r\n\r\n  constructor(private element: ElementRef, private updateCls: UpdateCls, private cdr: ChangeDetectorRef) {}\r\n\r\n  ngOnInit(): void {\r\n    if (this.nzInDatePicker) {\r\n      this.prefixCls = 'ant-calendar-time-picker';\r\n    }\r\n    this.time.changes.pipe(takeUntil(this.unsubscribe$)).subscribe(() => {\r\n      this.changed();\r\n      this.touched();\r\n    });\r\n    this.buildTimes();\r\n    this.setClassMap();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.unsubscribe$.next();\r\n    this.unsubscribe$.complete();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    const { nzUse12Hours } = changes;\r\n    if (nzUse12Hours && !nzUse12Hours.previousValue && nzUse12Hours.currentValue) {\r\n      this.build12Hours();\r\n      this.enabledColumns++;\r\n    }\r\n  }\r\n\r\n  writeValue(value: Date): void {\r\n    this.time.setValue(value, this.nzUse12Hours);\r\n    this.buildTimes();\r\n\r\n    // Mark this component to be checked manually with internal properties changing (see: https://github.com/angular/angular/issues/10816)\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  registerOnChange(fn: (value: Date) => void): void {\r\n    this.onChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: () => void): void {\r\n    this.onTouch = fn;\r\n  }\r\n\r\n  /* Customized code */\r\n  updateTime($event, type: string) {\r\n    if (type === 'hours') {\r\n      this.time.setHours($event, false);\r\n    }\r\n    if (type === 'minutes') {\r\n      this.time.setMinutes($event, false);\r\n    }\r\n    if (type === 'seconds') {\r\n      this.time.setSeconds($event, false);\r\n    }\r\n  }\r\n\r\n}\r\n","import {\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  EventEmitter,\r\n  Output,\r\n  Input,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport {FormControl} from \"@angular/forms\";\r\n\r\n@Component({\r\n  selector: 'cmacs-phone-number',\r\n  exportAs: 'cmacsPhoneNumber',\r\n  templateUrl: './cmacs-phone-number.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  preserveWhitespaces: false,\r\n  styleUrls: ['./cmacs-phone-number.component.css'],\r\n})\r\nexport class CmacsPhoneNumberComponent{\r\n\r\n  @Input() init: object;\r\n  @Input() formControlCustom: FormControl = new FormControl('', []);\r\n  @Output() hasError: EventEmitter<any> = new EventEmitter<any>();\r\n  @Output() telOutput: EventEmitter<any> = new EventEmitter<any>();\r\n  @Output() inputObject: EventEmitter<any> = new EventEmitter<any>();\r\n  @Output() countryChange: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n  constructor() {}\r\n\r\n  getNumber($event){\r\n    this.telOutput.emit($event);\r\n  }\r\n  telInputObject($event){\r\n    this.inputObject.emit($event);\r\n  }\r\n  onCountryChange($event){\r\n    this.countryChange.emit($event);\r\n  }\r\n  hasErrorEvent($event){\r\n    this.hasError.emit($event);\r\n  }\r\n\r\n}\r\n","import {\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  ViewEncapsulation,\r\n  Output,\r\n  Input,\r\n  EventEmitter,\r\n  ElementRef,\r\n  AfterViewInit, ChangeDetectorRef\r\n} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'cmacs-color-picker',\r\n  exportAs: 'cmacsColorPicker',\r\n  templateUrl: './cmacs-color-picker.component.html',\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  host: {\r\n    class: 'cmacs-color-picker'\r\n  },\r\n  styleUrls: ['./cmacs-color-picker.component.css'],\r\n  styles: [\r\n    `\r\n      cmacs-color-picker {\r\n        display: block;\r\n      }\r\n    `\r\n  ]\r\n})\r\nexport class CmacsColorPickerComponent implements AfterViewInit{\r\n\r\n  @Input() type : 'basic' | 'basicWithTransparent' = 'basic';\r\n  @Input() color: string;\r\n  @Output() colorChange = new EventEmitter<string>();\r\n\r\n  width: number = 0;\r\n  basicColorList: string [] = [\r\n    '#000000',\r\n    '#ffffff',\r\n    '#cc2229',\r\n    '#f6503c',\r\n    '#ffa234',\r\n    '#fff100',\r\n    '#00ce7d',\r\n    '#009fe3',\r\n    '#2a7cff',\r\n    '#a100cd',\r\n    '#cf1384',\r\n    '#794c18',\r\n    '#bec4cd',\r\n    '#656c79'\r\n  ];\r\n\r\n  constructor(private ref: ElementRef,\r\n              private cdr: ChangeDetectorRef) {}\r\n\r\n  setColor(color: string) {\r\n    this.color = color;\r\n    this.colorChange.emit(color);\r\n  }\r\n\r\n  isColorPickerType(type: string) {\r\n    return this.type === type;\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.width = this.ref.nativeElement.offsetWidth;\r\n    this.cdr.detectChanges();\r\n  }\r\n\r\n}\r\n","import { FocusMonitor } from '@angular/cdk/a11y';\r\nimport { ENTER, LEFT_ARROW, RIGHT_ARROW, SPACE } from '@angular/cdk/keycodes';\r\nimport {\r\n  forwardRef,\r\n  AfterViewInit,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  Input,\r\n  TemplateRef,\r\n  ViewChild,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\n\r\nimport { InputBoolean, NzSizeDSType } from 'ng-zorro-antd/core';\r\n\r\n@Component({\r\n  selector: 'cmacs-switch',\r\n  exportAs: 'cmacsSwitch',\r\n  preserveWhitespaces: false,\r\n  templateUrl: './cmacs-switch.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: forwardRef(() => CmacsSwitchComponent),\r\n      multi: true\r\n    }\r\n  ],\r\n  host: {\r\n    '(click)': 'hostClick($event)'\r\n  },\r\n  styleUrls: ['./cmacs-switch.component.css'],\r\n  styles: [\r\n    `\r\n      cmacs-switch {\r\n        display: inline-block;\r\n      }\r\n    `\r\n  ]\r\n})\r\nexport class CmacsSwitchComponent implements ControlValueAccessor, AfterViewInit {\r\n  checked = false;\r\n  onChange: (value: boolean) => void = () => null;\r\n  onTouched: () => void = () => null;\r\n  @ViewChild('switchElement') private switchElement: ElementRef;\r\n  @Input() @InputBoolean() loading = false;\r\n  @Input() @InputBoolean() disabled = false;\r\n  @Input() @InputBoolean() control = false;\r\n  @Input() checkedChildren: string | TemplateRef<void>;\r\n  @Input() unCheckedChildren: string | TemplateRef<void>;\r\n  @Input() size: NzSizeDSType;\r\n\r\n  hostClick(e: MouseEvent): void {\r\n    e.preventDefault();\r\n    if (!this.disabled && !this.loading && !this.control) {\r\n      this.updateValue(!this.checked);\r\n    }\r\n  }\r\n\r\n  updateValue(value: boolean): void {\r\n    if (this.checked !== value) {\r\n      this.checked = value;\r\n      this.onChange(this.checked);\r\n    }\r\n  }\r\n\r\n  onKeyDown(e: KeyboardEvent): void {\r\n    if (!this.control && !this.disabled && !this.loading) {\r\n      if (e.keyCode === LEFT_ARROW) {\r\n        this.updateValue(false);\r\n        e.preventDefault();\r\n      } else if (e.keyCode === RIGHT_ARROW) {\r\n        this.updateValue(true);\r\n        e.preventDefault();\r\n      } else if (e.keyCode === SPACE || e.keyCode === ENTER) {\r\n        this.updateValue(!this.checked);\r\n        e.preventDefault();\r\n      }\r\n    }\r\n  }\r\n\r\n  focus(): void {\r\n    this.focusMonitor.focusVia(this.switchElement.nativeElement, 'keyboard');\r\n  }\r\n\r\n  blur(): void {\r\n    this.switchElement.nativeElement.blur();\r\n  }\r\n\r\n  constructor(private cdr: ChangeDetectorRef, private focusMonitor: FocusMonitor) {}\r\n\r\n  ngAfterViewInit(): void {\r\n    this.focusMonitor.monitor(this.switchElement.nativeElement, true).subscribe(focusOrigin => {\r\n      if (!focusOrigin) {\r\n        // When a focused element becomes disabled, the browser *immediately* fires a blur event.\r\n        // Angular does not expect events to be raised during change detection, so any state change\r\n        // (such as a form control's 'ng-touched') will cause a changed-after-checked error.\r\n        // See https://github.com/angular/angular/issues/17793. To work around this, we defer\r\n        // telling the form control it has been touched until the next tick.\r\n        Promise.resolve().then(() => this.onTouched());\r\n      }\r\n    });\r\n  }\r\n\r\n  writeValue(value: boolean): void {\r\n    this.checked = value;\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  registerOnChange(fn: (_: boolean) => void): void {\r\n    this.onChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: () => void): void {\r\n    this.onTouched = fn;\r\n  }\r\n\r\n  setDisabledState(isDisabled: boolean): void {\r\n    this.disabled = isDisabled;\r\n    this.cdr.markForCheck();\r\n  }\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport { Directive } from '@angular/core';\r\n\r\n/** Decorates the `ng-template` tags and reads out the template from it. */\r\n@Directive({\r\n  selector: '[cmacs-tab]',\r\n  exportAs: 'cmacsTab'\r\n})\r\nexport class CmacsTabDirective {}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport { Directive, ElementRef, Input, Renderer2 } from '@angular/core';\r\n\r\nimport { InputBoolean } from 'ng-zorro-antd/core';\r\n\r\n@Directive({\r\n  selector: '[cmacs-tab-label]',\r\n  exportAs: 'cmacsTabLabel',\r\n  host: {\r\n    '[class.ant-tabs-tab-disabled]': 'disabled'\r\n  }\r\n})\r\nexport class CmacsTabLabelDirective {\r\n  @Input() @InputBoolean() disabled = false;\r\n\r\n  constructor(public elementRef: ElementRef, renderer: Renderer2) {\r\n    renderer.addClass(elementRef.nativeElement, 'ant-tabs-tab');\r\n  }\r\n\r\n  getOffsetLeft(): number {\r\n    return this.elementRef.nativeElement.offsetLeft;\r\n  }\r\n\r\n  getOffsetWidth(): number {\r\n    return this.elementRef.nativeElement.offsetWidth;\r\n  }\r\n\r\n  getOffsetTop(): number {\r\n    return this.elementRef.nativeElement.offsetTop;\r\n  }\r\n\r\n  getOffsetHeight(): number {\r\n    return this.elementRef.nativeElement.offsetHeight;\r\n  }\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport { Directive, ElementRef, Input, NgZone, Renderer2 } from '@angular/core';\r\n\r\nimport { InputBoolean } from 'ng-zorro-antd/core';\r\n\r\nimport { TabPositionMode } from './cmacs-tabset.component';\r\n\r\n@Directive({\r\n  selector: '[cmacs-tabs-ink-bar]',\r\n  exportAs: 'cmacsTabsInkBar',\r\n  host: {\r\n    '[class.ant-tabs-ink-bar-animated]': 'animated',\r\n    '[class.ant-tabs-ink-bar-no-animated]': '!animated'\r\n  },\r\n})\r\nexport class CmacsTabsInkBarDirective {\r\n  @Input() @InputBoolean() animated = false;\r\n\r\n  @Input() positionMode: TabPositionMode = 'horizontal';\r\n\r\n  constructor(private renderer: Renderer2, private elementRef: ElementRef, private ngZone: NgZone) {\r\n    renderer.addClass(elementRef.nativeElement, 'ant-tabs-ink-bar');\r\n  }\r\n\r\n  alignToElement(element: HTMLElement): void {\r\n    if (typeof requestAnimationFrame !== 'undefined') {\r\n      this.ngZone.runOutsideAngular(() => {\r\n        requestAnimationFrame(() => this.setStyles(element));\r\n      });\r\n    } else {\r\n      this.setStyles(element);\r\n    }\r\n  }\r\n\r\n  setStyles(element: HTMLElement): void {\r\n    /** when horizontal remove height style and add transform left **/\r\n    if (this.positionMode === 'horizontal') {\r\n      this.renderer.removeStyle(this.elementRef.nativeElement, 'height');\r\n      this.renderer.setStyle(\r\n        this.elementRef.nativeElement,\r\n        'transform',\r\n        `translate3d(${this.getLeftPosition(element)}, 0px, 0px)`\r\n      );\r\n      this.renderer.setStyle(this.elementRef.nativeElement, 'width', this.getElementWidth(element));\r\n    } else {\r\n      /** when vertical remove width style and add transform top **/\r\n      this.renderer.removeStyle(this.elementRef.nativeElement, 'width');\r\n      this.renderer.setStyle(\r\n        this.elementRef.nativeElement,\r\n        'transform',\r\n        `translate3d(0px, ${this.getTopPosition(element)}, 0px)`\r\n      );\r\n      this.renderer.setStyle(this.elementRef.nativeElement, 'height', this.getElementHeight(element));\r\n    }\r\n  }\r\n\r\n  getLeftPosition(element: HTMLElement): string {\r\n    return element ? element.offsetLeft + 'px' : '0';\r\n  }\r\n\r\n  getElementWidth(element: HTMLElement): string {\r\n    return element ? element.offsetWidth + 'px' : '0';\r\n  }\r\n\r\n  getTopPosition(element: HTMLElement): string {\r\n    return element ? element.offsetTop + 'px' : '0';\r\n  }\r\n\r\n  getElementHeight(element: HTMLElement): string {\r\n    return element ? element.offsetHeight + 'px' : '0';\r\n  }\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\n/** code from https://github.com/angular/material2 */\r\nimport { Direction, Directionality } from '@angular/cdk/bidi';\r\nimport {\r\n  AfterContentChecked,\r\n  AfterContentInit,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ContentChildren,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Input,\r\n  NgZone,\r\n  OnDestroy,\r\n  Optional,\r\n  Output,\r\n  QueryList,\r\n  Renderer2,\r\n  TemplateRef,\r\n  ViewChild,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { fromEvent, merge, of as observableOf, Subscription } from 'rxjs';\r\nimport { auditTime, startWith } from 'rxjs/operators';\r\n\r\nimport { InputBoolean } from 'ng-zorro-antd/core';\r\n\r\nimport { CmacsTabLabelDirective } from './cmacs-tab-label.directive';\r\nimport { CmacsTabsInkBarDirective } from './cmacs-tabs-ink-bar.directive';\r\nimport { TabPositionMode } from './cmacs-tabset.component';\r\n\r\nconst EXAGGERATED_OVERSCROLL = 64;\r\nexport type ScrollDirection = 'after' | 'before';\r\n\r\n@Component({\r\n  selector: '[cmacs-tabs-nav]',\r\n  exportAs: 'cmacsTabsNav',\r\n  preserveWhitespaces: false,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  styleUrls: ['./cmacs-tabs-nav.component.css'],\r\n  templateUrl: './cmacs-tabs-nav.component.html'\r\n})\r\nexport class CmacsTabsNavComponent implements AfterContentChecked, AfterContentInit, OnDestroy {\r\n  private _tabPositionMode: TabPositionMode = 'horizontal';\r\n  private _scrollDistance = 0;\r\n  private _selectedIndex = 0;\r\n  /** Cached text content of the header. */\r\n  private currentTextContent: string;\r\n  showPaginationControls = false;\r\n  disableScrollAfter = true;\r\n  disableScrollBefore = true;\r\n  selectedIndexChanged = false;\r\n  realignInkBar: Subscription | null = null;\r\n  tabLabelCount: number;\r\n  scrollDistanceChanged: boolean;\r\n  @ContentChildren(CmacsTabLabelDirective) listOfNzTabLabelDirective: QueryList<CmacsTabLabelDirective>;\r\n  @ViewChild(CmacsTabsInkBarDirective) tabsInkBarDirective: CmacsTabsInkBarDirective;\r\n  @ViewChild('navContainerElement') navContainerElement: ElementRef;\r\n  @ViewChild('navListElement') navListElement: ElementRef;\r\n  @ViewChild('scrollListElement') scrollListElement: ElementRef;\r\n  @Output() readonly onNextClick = new EventEmitter<void>();\r\n  @Output() readonly onPrevClick = new EventEmitter<void>();\r\n  @Input() tabBarExtraContent: TemplateRef<void>;\r\n  @Input() @InputBoolean() animated = true;\r\n  @Input() @InputBoolean() hideBar = false;\r\n  @Input() @InputBoolean() showPagination = true;\r\n  @Input() type = 'line';\r\n  @Input() cmacsType = 'icon';\r\n\r\n  @Input()\r\n  set positionMode(value: TabPositionMode) {\r\n    this._tabPositionMode = value;\r\n    this.alignInkBarToSelectedTab();\r\n    if (this.showPagination) {\r\n      Promise.resolve().then(() => {\r\n        this.updatePagination();\r\n      });\r\n    }\r\n  }\r\n\r\n  get positionMode(): TabPositionMode {\r\n    return this._tabPositionMode;\r\n  }\r\n\r\n  @Input()\r\n  set selectedIndex(value: number) {\r\n    this.selectedIndexChanged = this._selectedIndex !== value;\r\n    this._selectedIndex = value;\r\n  }\r\n\r\n  get selectedIndex(): number {\r\n    return this._selectedIndex;\r\n  }\r\n\r\n  constructor(\r\n    public elementRef: ElementRef,\r\n    private ngZone: NgZone,\r\n    private renderer: Renderer2,\r\n    private cdr: ChangeDetectorRef,\r\n    @Optional() private dir: Directionality\r\n  ) {}\r\n\r\n  onContentChanges(): void {\r\n    const textContent = this.elementRef.nativeElement.textContent;\r\n    // We need to diff the text content of the header, because the MutationObserver callback\r\n    // will fire even if the text content didn't change which is inefficient and is prone\r\n    // to infinite loops if a poorly constructed expression is passed in (see #14249).\r\n    if (textContent !== this.currentTextContent) {\r\n      this.ngZone.run(() => {\r\n        if (this.showPagination) {\r\n          this.updatePagination();\r\n        }\r\n        this.alignInkBarToSelectedTab();\r\n        this.cdr.markForCheck();\r\n      });\r\n    }\r\n  }\r\n\r\n  scrollHeader(scrollDir: ScrollDirection): void {\r\n    if (scrollDir === 'before' && !this.disableScrollBefore) {\r\n      this.onPrevClick.emit();\r\n    } else if (scrollDir === 'after' && !this.disableScrollAfter) {\r\n      this.onNextClick.emit();\r\n    }\r\n    // Move the scroll distance one-third the length of the tab list's viewport.\r\n    this.scrollDistance += ((scrollDir === 'before' ? -1 : 1) * this.viewWidthHeightPix) / 3;\r\n  }\r\n\r\n  ngAfterContentChecked(): void {\r\n    if (this.tabLabelCount !== this.listOfNzTabLabelDirective.length) {\r\n      if (this.showPagination) {\r\n        this.updatePagination();\r\n      }\r\n      this.tabLabelCount = this.listOfNzTabLabelDirective.length;\r\n      this.cdr.markForCheck();\r\n    }\r\n    if (this.selectedIndexChanged) {\r\n      this.scrollToLabel(this._selectedIndex);\r\n      if (this.showPagination) {\r\n        this.checkScrollingControls();\r\n      }\r\n      this.alignInkBarToSelectedTab();\r\n      this.selectedIndexChanged = false;\r\n      this.cdr.markForCheck();\r\n    }\r\n    if (this.scrollDistanceChanged) {\r\n      if (this.showPagination) {\r\n        this.updateTabScrollPosition();\r\n      }\r\n      this.scrollDistanceChanged = false;\r\n      this.cdr.markForCheck();\r\n    }\r\n  }\r\n\r\n  ngAfterContentInit(): void {\r\n    this.realignInkBar = this.ngZone.runOutsideAngular(() => {\r\n      const dirChange = this.dir ? this.dir.change : observableOf(null);\r\n      const resize =\r\n        typeof window !== 'undefined' ? fromEvent(window, 'resize').pipe(auditTime(10)) : observableOf(null);\r\n      return merge(dirChange, resize)\r\n        .pipe(startWith(null))\r\n        .subscribe(() => {\r\n          if (this.showPagination) {\r\n            this.updatePagination();\r\n          }\r\n          this.alignInkBarToSelectedTab();\r\n        });\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.realignInkBar) {\r\n      this.realignInkBar.unsubscribe();\r\n    }\r\n  }\r\n\r\n  updateTabScrollPosition(): void {\r\n    const scrollDistance = this.scrollDistance;\r\n    if (this.positionMode === 'horizontal') {\r\n      const translateX = this.getLayoutDirection() === 'ltr' ? -scrollDistance : scrollDistance;\r\n      this.renderer.setStyle(this.navListElement.nativeElement, 'transform', `translate3d(${translateX}px, 0, 0)`);\r\n    } else {\r\n      this.renderer.setStyle(this.navListElement.nativeElement, 'transform', `translate3d(0,${-scrollDistance}px, 0)`);\r\n    }\r\n  }\r\n\r\n  updatePagination(): void {\r\n    this.checkPaginationEnabled();\r\n    this.checkScrollingControls();\r\n    this.updateTabScrollPosition();\r\n  }\r\n\r\n  checkPaginationEnabled(): void {\r\n    const isEnabled = this.tabListScrollWidthHeightPix > this.tabListScrollOffSetWidthHeight;\r\n    if (!isEnabled) {\r\n      this.scrollDistance = 0;\r\n    }\r\n    if (isEnabled !== this.showPaginationControls) {\r\n      this.cdr.markForCheck();\r\n    }\r\n    this.showPaginationControls = isEnabled;\r\n  }\r\n\r\n  scrollToLabel(labelIndex: number): void {\r\n    const selectedLabel = this.listOfNzTabLabelDirective ? this.listOfNzTabLabelDirective.toArray()[labelIndex] : null;\r\n\r\n    if (selectedLabel) {\r\n      // The view length is the visible width of the tab labels.\r\n\r\n      let labelBeforePos: number;\r\n      let labelAfterPos: number;\r\n      if (this.positionMode === 'horizontal') {\r\n        if (this.getLayoutDirection() === 'ltr') {\r\n          labelBeforePos = selectedLabel.getOffsetLeft();\r\n          labelAfterPos = labelBeforePos + selectedLabel.getOffsetWidth();\r\n        } else {\r\n          labelAfterPos = this.navListElement.nativeElement.offsetWidth - selectedLabel.getOffsetLeft();\r\n          labelBeforePos = labelAfterPos - selectedLabel.getOffsetWidth();\r\n        }\r\n      } else {\r\n        labelBeforePos = selectedLabel.getOffsetTop();\r\n        labelAfterPos = labelBeforePos + selectedLabel.getOffsetHeight();\r\n      }\r\n      const beforeVisiblePos = this.scrollDistance;\r\n      const afterVisiblePos = this.scrollDistance + this.viewWidthHeightPix;\r\n\r\n      if (labelBeforePos < beforeVisiblePos) {\r\n        // Scroll header to move label to the before direction\r\n        this.scrollDistance -= beforeVisiblePos - labelBeforePos + EXAGGERATED_OVERSCROLL;\r\n      } else if (labelAfterPos > afterVisiblePos) {\r\n        // Scroll header to move label to the after direction\r\n        this.scrollDistance += labelAfterPos - afterVisiblePos + EXAGGERATED_OVERSCROLL;\r\n      }\r\n    }\r\n  }\r\n\r\n  checkScrollingControls(): void {\r\n    // Check if the pagination arrows should be activated.\r\n    this.disableScrollBefore = this.scrollDistance === 0;\r\n    this.disableScrollAfter = this.scrollDistance === this.getMaxScrollDistance();\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  /**\r\n   * Determines what is the maximum length in pixels that can be set for the scroll distance. This\r\n   * is equal to the difference in width between the tab list container and tab header container.\r\n   *\r\n   * This is an expensive call that forces a layout reflow to compute box and scroll metrics and\r\n   * should be called sparingly.\r\n   */\r\n  getMaxScrollDistance(): number {\r\n    return this.tabListScrollWidthHeightPix - this.viewWidthHeightPix || 0;\r\n  }\r\n\r\n  /** Sets the distance in pixels that the tab header should be transformed in the X-axis. */\r\n  set scrollDistance(v: number) {\r\n    this._scrollDistance = Math.max(0, Math.min(this.getMaxScrollDistance(), v));\r\n\r\n    // Mark that the scroll distance has changed so that after the view is checked, the CSS\r\n    // transformation can move the header.\r\n    this.scrollDistanceChanged = true;\r\n\r\n    this.checkScrollingControls();\r\n  }\r\n\r\n  get scrollDistance(): number {\r\n    return this._scrollDistance;\r\n  }\r\n\r\n  get viewWidthHeightPix(): number {\r\n    let PAGINATION_PIX = 0;\r\n    if (this.showPaginationControls) {\r\n      PAGINATION_PIX = 64;\r\n    }\r\n    if (this.positionMode === 'horizontal') {\r\n      return this.navContainerElement.nativeElement.offsetWidth - PAGINATION_PIX;\r\n    } else {\r\n      return this.navContainerElement.nativeElement.offsetHeight - PAGINATION_PIX;\r\n    }\r\n  }\r\n\r\n  get tabListScrollWidthHeightPix(): number {\r\n    if (this.positionMode === 'horizontal') {\r\n      return this.navListElement.nativeElement.scrollWidth;\r\n    } else {\r\n      return this.navListElement.nativeElement.scrollHeight;\r\n    }\r\n  }\r\n\r\n  get tabListScrollOffSetWidthHeight(): number {\r\n    if (this.positionMode === 'horizontal') {\r\n      return this.scrollListElement.nativeElement.offsetWidth;\r\n    } else {\r\n      return this.elementRef.nativeElement.offsetHeight;\r\n    }\r\n  }\r\n\r\n  getLayoutDirection(): Direction {\r\n    return this.dir && this.dir.value === 'rtl' ? 'rtl' : 'ltr';\r\n  }\r\n\r\n  alignInkBarToSelectedTab(): void {\r\n    if (this.type === 'line') {\r\n      const selectedLabelWrapper =\r\n        this.listOfNzTabLabelDirective && this.listOfNzTabLabelDirective.length\r\n          ? this.listOfNzTabLabelDirective.toArray()[this.selectedIndex].elementRef.nativeElement\r\n          : null;\r\n      if (this.tabsInkBarDirective) {\r\n        this.tabsInkBarDirective.alignToElement(selectedLabelWrapper);\r\n      }\r\n    }\r\n  }\r\n\r\n  isCmacsType(type: string) {\r\n    return type === this.cmacsType;\r\n  }\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport { ChangeDetectionStrategy, Component, Input, TemplateRef, ViewEncapsulation } from '@angular/core';\r\n\r\n@Component({\r\n  selector: '[cmacs-tab-body]',\r\n  exportAs: 'cmacsTabBody',\r\n  preserveWhitespaces: false,\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  templateUrl: './cmacs-tab-body.component.html',\r\n  host: {\r\n    '[class.ant-tabs-tabpane-active]': 'active',\r\n    '[class.ant-tabs-tabpane-inactive]': '!active'\r\n  }\r\n})\r\nexport class CmacsTabBodyComponent {\r\n  @Input() content: TemplateRef<void>;\r\n  @Input() active = false;\r\n  @Input() forceRender = false;\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  ContentChild,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  Output,\r\n  Renderer2,\r\n  SimpleChanges,\r\n  TemplateRef,\r\n  ViewChild,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\n\r\nimport { InputBoolean } from 'ng-zorro-antd/core';\r\nimport { CmacsTabDirective } from './cmacs-tab.directive';\r\n\r\n@Component({\r\n  selector: 'cmacs-tab',\r\n  exportAs: 'cmacsTab',\r\n  preserveWhitespaces: false,\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  templateUrl: './cmacs-tab.component.html'\r\n})\r\nexport class CmacsTabComponent implements OnChanges, OnDestroy {\r\n  position: number | null = null;\r\n  origin: number | null = null;\r\n  isActive = false;\r\n  readonly stateChanges = new Subject<void>();\r\n  @ViewChild(TemplateRef) content: TemplateRef<void>;\r\n  @ContentChild(CmacsTabDirective, { read: TemplateRef }) template: TemplateRef<void>;\r\n  @Input() title: string | TemplateRef<void>;\r\n  @Input() @InputBoolean() forceRender = false;\r\n  @Input() @InputBoolean() disabled = false;\r\n  @Output() readonly click = new EventEmitter<void>();\r\n  @Output() readonly select = new EventEmitter<void>();\r\n  @Output() readonly deselect = new EventEmitter<void>();\r\n\r\n  constructor(public elementRef: ElementRef, private renderer: Renderer2) {\r\n    this.renderer.addClass(elementRef.nativeElement, 'ant-tabs-tabpane');\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes.title || changes.forceRender || changes.disabled) {\r\n      this.stateChanges.next();\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.stateChanges.complete();\r\n  }\r\n}\r\n","/**\r\n * @license\r\n * Copyright Alibaba.com All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\r\n */\r\n\r\n/** get some code from https://github.com/angular/material2 */\r\n\r\nimport {\r\n  AfterContentChecked,\r\n  AfterContentInit,\r\n  AfterViewInit,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ContentChildren,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  OnInit,\r\n  Output,\r\n  QueryList,\r\n  Renderer2,\r\n  SimpleChanges,\r\n  TemplateRef,\r\n  ViewChild,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { merge, Subscription } from 'rxjs';\r\n\r\nimport { toNumber, NzSizeLDSType, NzUpdateHostClassService } from 'ng-zorro-antd/core';\r\n\r\nimport { CmacsTabComponent } from './cmacs-tab.component';\r\nimport { CmacsTabsNavComponent } from './cmacs-tabs-nav.component';\r\n\r\nexport interface AnimatedInterface {\r\n  inkBar: boolean;\r\n  tabPane: boolean;\r\n}\r\n\r\nexport class TabChangeEvent {\r\n  index: number;\r\n  tab: CmacsTabComponent;\r\n}\r\n\r\nexport type TabPosition = 'top' | 'bottom' | 'left' | 'right';\r\nexport type TabPositionMode = 'horizontal' | 'vertical';\r\nexport type TabType = 'line' | 'card';\r\nexport type CmacsTabType = 'text' | 'icon' | 'ems' | 'schedule' | 'property';\r\n\r\n@Component({\r\n  selector: 'cmacs-tabset',\r\n  exportAs: 'cmacsTabset',\r\n  preserveWhitespaces: false,\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  providers: [NzUpdateHostClassService],\r\n  templateUrl: './cmacs-tabset.component.html',\r\n  styles: [\r\n    `\r\n      cmacs-tabset {\r\n        display: block;\r\n      }\r\n    `\r\n  ]\r\n})\r\nexport class CmacsTabsetComponent\r\n  implements AfterContentChecked, OnInit, AfterViewInit, OnChanges, AfterContentInit, OnDestroy {\r\n  private indexToSelect: number | null = 0;\r\n  private el: HTMLElement = this.elementRef.nativeElement;\r\n  private _selectedIndex: number | null = null;\r\n  /** Subscription to tabs being added/removed. */\r\n  private tabsSubscription = Subscription.EMPTY;\r\n  /** Subscription to changes in the tab labels. */\r\n  private tabLabelSubscription = Subscription.EMPTY;\r\n  tabPositionMode: TabPositionMode = 'horizontal';\r\n  @ContentChildren(CmacsTabComponent) listOfNzTabComponent: QueryList<CmacsTabComponent>;\r\n  @ViewChild(CmacsTabsNavComponent) tabsNavComponent: CmacsTabsNavComponent;\r\n  @ViewChild('tabContent') tabContent: ElementRef;\r\n  @Input() tabBarExtraContent: TemplateRef<void>;\r\n  @Input() showPagination = true;\r\n  @Input() animated: AnimatedInterface | boolean = true;\r\n  @Input() hideAll = false;\r\n  @Input() tabPosition: TabPosition = 'top';\r\n  @Input() size: NzSizeLDSType = 'default';\r\n  @Input() tabBarGutter: number;\r\n  @Input() tabBarStyle: { [key: string]: string };\r\n  @Input() type: TabType = 'line';\r\n  @Input() cmacsType: CmacsTabType = 'text';\r\n  @Output() readonly onNextClick = new EventEmitter<void>();\r\n  @Output() readonly onPrevClick = new EventEmitter<void>();\r\n  @Output() readonly selectChange: EventEmitter<TabChangeEvent> = new EventEmitter<TabChangeEvent>(true);\r\n  @Output() readonly selectedIndexChange: EventEmitter<number> = new EventEmitter<number>();\r\n\r\n  @Input()\r\n  set selectedIndex(value: number | null) {\r\n    this.indexToSelect = value ? toNumber(value, null) : null;\r\n  }\r\n\r\n  get selectedIndex(): number | null {\r\n    return this._selectedIndex;\r\n  }\r\n\r\n  get inkBarAnimated(): boolean {\r\n    return this.animated === true || (this.animated as AnimatedInterface).inkBar === true;\r\n  }\r\n\r\n  get tabPaneAnimated(): boolean {\r\n    return this.animated === true || (this.animated as AnimatedInterface).tabPane === true;\r\n  }\r\n\r\n  setPosition(value: TabPosition): void {\r\n    if (this.tabContent) {\r\n      if (value === 'bottom') {\r\n        this.renderer.insertBefore(\r\n          this.el,\r\n          this.tabContent.nativeElement,\r\n          this.tabsNavComponent.elementRef.nativeElement\r\n        );\r\n      } else {\r\n        this.renderer.insertBefore(\r\n          this.el,\r\n          this.tabsNavComponent.elementRef.nativeElement,\r\n          this.tabContent.nativeElement\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  setClassMap(): void {\r\n    this.nzUpdateHostClassService.updateHostClass(this.el, {\r\n      [`ant-tabs`]: true,\r\n      [`ant-tabs-vertical`]: this.tabPosition === 'left' || this.tabPosition === 'right',\r\n      [`ant-tabs-${this.tabPosition}`]: this.tabPosition,\r\n      [`ant-tabs-no-animation`]:\r\n        this.animated === false || (this.animated as AnimatedInterface).tabPane === false,\r\n      [`ant-tabs-${this.type}`]: this.type,\r\n      [`ant-tabs-large`]: this.size === 'large',\r\n      [`ant-tabs-small`]: this.size === 'small'\r\n    });\r\n  }\r\n\r\n  clickLabel(index: number, disabled: boolean): void {\r\n    if (!disabled) {\r\n      this.selectedIndex = index;\r\n      this.listOfNzTabComponent.toArray()[index].click.emit();\r\n    }\r\n  }\r\n\r\n  createChangeEvent(index: number): TabChangeEvent {\r\n    const event = new TabChangeEvent();\r\n    event.index = index;\r\n    if (this.listOfNzTabComponent && this.listOfNzTabComponent.length) {\r\n      event.tab = this.listOfNzTabComponent.toArray()[index];\r\n      this.listOfNzTabComponent.forEach((item, i) => {\r\n        if (i !== index) {\r\n          item.deselect.emit();\r\n        }\r\n      });\r\n      event.tab.select.emit();\r\n    }\r\n    return event;\r\n  }\r\n\r\n  /** Clamps the given index to the bounds of 0 and the tabs length. */\r\n  private clampTabIndex(index: number | null): number {\r\n    // Note the `|| 0`, which ensures that values like NaN can't get through\r\n    // and which would otherwise throw the component into an infinite loop\r\n    // (since Math.max(NaN, 0) === NaN).\r\n    return Math.min(this.listOfNzTabComponent.length - 1, Math.max(index || 0, 0));\r\n  }\r\n\r\n  private subscribeToTabLabels(): void {\r\n    if (this.tabLabelSubscription) {\r\n      this.tabLabelSubscription.unsubscribe();\r\n    }\r\n    this.tabLabelSubscription = merge(...this.listOfNzTabComponent.map(tab => tab.stateChanges)).subscribe(() =>\r\n      this.cdr.markForCheck()\r\n    );\r\n  }\r\n\r\n  constructor(\r\n    private renderer: Renderer2,\r\n    private nzUpdateHostClassService: NzUpdateHostClassService,\r\n    private elementRef: ElementRef,\r\n    private cdr: ChangeDetectorRef\r\n  ) {}\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes.tabPosition) {\r\n      if (this.tabPosition === 'top' || this.tabPosition === 'bottom') {\r\n        this.tabPositionMode = 'horizontal';\r\n      } else {\r\n        this.tabPositionMode = 'vertical';\r\n      }\r\n      this.setPosition(this.tabPosition);\r\n    }\r\n    if (changes.type) {\r\n      if (this.type === 'card') {\r\n        this.animated = false;\r\n      }\r\n    }\r\n    if (changes.size || changes.animated || changes.tabPosition || changes.type) {\r\n      this.setClassMap();\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.setClassMap();\r\n  }\r\n\r\n  ngAfterContentChecked(): void {\r\n    if (this.listOfNzTabComponent && this.listOfNzTabComponent.length) {\r\n      // Don't clamp the `indexToSelect` immediately in the setter because it can happen that\r\n      // the amount of tabs changes before the actual change detection runs.\r\n      const indexToSelect = (this.indexToSelect = this.clampTabIndex(this.indexToSelect));\r\n      // If there is a change in selected index, emit a change event. Should not trigger if\r\n      // the selected index has not yet been initialized.\r\n      if (this._selectedIndex !== indexToSelect) {\r\n        const isFirstRun = this._selectedIndex == null;\r\n        if (!isFirstRun) {\r\n          this.selectChange.emit(this.createChangeEvent(indexToSelect));\r\n        }\r\n\r\n        // Changing these values after change detection has run\r\n        // since the checked content may contain references to them.\r\n        Promise.resolve().then(() => {\r\n          this.listOfNzTabComponent.forEach((tab, index) => (tab.isActive = index === indexToSelect));\r\n\r\n          if (!isFirstRun) {\r\n            this.selectedIndexChange.emit(indexToSelect);\r\n          }\r\n        });\r\n      }\r\n\r\n      // Setup the position for each tab and optionally setup an origin on the next selected tab.\r\n      this.listOfNzTabComponent.forEach((tab: CmacsTabComponent, index: number) => {\r\n        tab.position = index - indexToSelect;\r\n\r\n        // If there is already a selected tab, then set up an origin for the next selected tab\r\n        // if it doesn't have one already.\r\n        if (this._selectedIndex != null && tab.position === 0 && !tab.origin) {\r\n          tab.origin = indexToSelect - this._selectedIndex;\r\n        }\r\n      });\r\n\r\n      if (this._selectedIndex !== indexToSelect) {\r\n        this._selectedIndex = indexToSelect;\r\n        this.cdr.markForCheck();\r\n      }\r\n    }\r\n  }\r\n\r\n  ngAfterContentInit(): void {\r\n    this.subscribeToTabLabels();\r\n\r\n    // Subscribe to changes in the amount of tabs, in order to be\r\n    // able to re-render the content as new tabs are added or removed.\r\n    this.tabsSubscription = this.listOfNzTabComponent.changes.subscribe(() => {\r\n      const indexToSelect = this.clampTabIndex(this.indexToSelect);\r\n\r\n      // Maintain the previously-selected tab if a new tab is added or removed and there is no\r\n      // explicit change that selects a different tab.\r\n      if (indexToSelect === this._selectedIndex) {\r\n        const tabs = this.listOfNzTabComponent.toArray();\r\n\r\n        for (let i = 0; i < tabs.length; i++) {\r\n          if (tabs[i].isActive) {\r\n            // Assign both to the `_indexToSelect` and `_selectedIndex` so we don't fire a changed\r\n            // event, otherwise the consumer may end up in an infinite loop in some edge cases like\r\n            // adding a tab within the `selectedIndexChange` event.\r\n            this.indexToSelect = this._selectedIndex = i;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      this.subscribeToTabLabels();\r\n      this.cdr.markForCheck();\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.tabsSubscription.unsubscribe();\r\n    this.tabLabelSubscription.unsubscribe();\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.setPosition(this.tabPosition);\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  OnInit,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  SimpleChanges,\r\n  OnChanges\r\n} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'cmacs-side-panel',\r\n  templateUrl: './cmacs-side-panel.component.html',\r\n  styleUrls: ['./cmacs-side-panel.component.css']\r\n})\r\nexport class CmacsSidePanelComponent implements OnInit, OnChanges {\r\n\r\n  @Input() width: number | string = 370;\r\n  @Input() float: string = 'right';\r\n  @Input() visible: boolean = true;\r\n  @Input() collapsible: boolean = false;\r\n  @Output() visibleChange: EventEmitter<boolean> = new EventEmitter<boolean>();\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() { }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes.visible !== undefined) {\r\n      this.visibleChange.emit(this.visible);\r\n    }\r\n  }\r\n\r\n}\r\n","import {\r\n  AfterViewInit,\r\n  Component, ElementRef,\r\n  EventEmitter, HostListener,\r\n  Input,\r\n  OnChanges,\r\n  Output,\r\n  SimpleChanges,\r\n  TemplateRef, ViewChild,\r\n} from '@angular/core';\r\nimport { slideAlertMotion, InputBoolean, NgClassType } from 'ng-zorro-antd/core';\r\nimport {FormControl} from \"@angular/forms\";\r\n\r\n@Component({\r\n  selector: 'cmacs-open-textarea',\r\n  exportAs: 'cmacsOpenTextarea',\r\n  animations: [slideAlertMotion],\r\n  templateUrl: './cmacs-open-textarea.component.html',\r\n  preserveWhitespaces: false,\r\n  styleUrls: ['./cmacs-open-textarea.component.css'],\r\n  styles: [\r\n    `\r\n      cmacs-open-textarea {\r\n        display: block;\r\n      }\r\n    `\r\n  ]\r\n})\r\nexport class CmacsOpenTextareaComponent implements AfterViewInit {\r\n\r\n  @Input() formControlCustom: FormControl = new FormControl('', []);\r\n  @Input() width: number = 250;\r\n  @Input() placeholder: string = '';\r\n  allowEdition = false;\r\n  enableDivider = true;\r\n  @ViewChild('textarea', {read: ElementRef}) textarea: ElementRef;\r\n\r\n  constructor() { }\r\n\r\n  @HostListener('window:click', ['$event'])\r\n  onClick(event: Event) {\r\n    if (this.textarea && event.target !== this.textarea.nativeElement) {\r\n      this.allowEdition = false;\r\n      this.enableDivider = false;\r\n    }\r\n  }\r\n\r\n  isEnabled() {\r\n    if (this.allowEdition || !this.formControlCustom.value) {\r\n      this.allowEdition = true;\r\n      return true;\r\n    }\r\n    this.allowEdition = false;\r\n    return false;\r\n  }\r\n\r\n  isTextEnabled() {\r\n    return !this.allowEdition && this.formControlCustom.value;\r\n  }\r\n\r\n  startEdition($event: Event) {\r\n    $event.preventDefault();\r\n    $event.stopImmediatePropagation();\r\n    this.allowEdition = true;\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.enableDivider = this.allowEdition;\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  EventEmitter, HostListener,\r\n  Input,\r\n  Output,\r\n} from '@angular/core';\r\nimport { FormControl, Validators } from \"@angular/forms\";\r\nimport { CdkDragDrop, moveItemInArray } from \"@angular/cdk/drag-drop\";\r\nimport { CmacsGridTemplateRef } from \"../core/interfaces/grid-config\";\r\n\r\nexport interface MoveableListItem {\r\n  display: string;\r\n  hidden: boolean;\r\n  editable: boolean;\r\n  draggable: boolean;\r\n  template?: CmacsGridTemplateRef;\r\n}\r\n\r\n@Component({\r\n  selector: 'cmacs-moveable-list',\r\n  exportAs: 'cmacsMoveableList',\r\n  templateUrl: './cmacs-moveable-list.component.html',\r\n  styleUrls: ['./cmacs-moveable-list.component.css'],\r\n  styles: [\r\n    `\r\n      cmacs-moveable-list {\r\n        display: block;\r\n      }\r\n    `\r\n  ]\r\n})\r\nexport class CmacsMoveableListComponent {\r\n\r\n  /* Custom grid with pop up */\r\n  @Input() header: string = 'Default Title';\r\n  @Input() showLabel: string = 'Show';\r\n  @Input() hideLabel: string = 'Hide';\r\n  @Input() data: MoveableListItem[] = [];\r\n  @Output() dataChange: EventEmitter<MoveableListItem[]> = new EventEmitter<MoveableListItem[]>();\r\n  @Output() displayChange: EventEmitter<MoveableListItem> = new EventEmitter<MoveableListItem>();\r\n  @Output() selectedChange: EventEmitter<number> = new EventEmitter<number>();\r\n\r\n  onEditIdx: number = null;\r\n  allowEdition = false;\r\n  rowSelectedIdx: number = -1;\r\n  formControl = new FormControl('', [\r\n    Validators.required\r\n  ]);\r\n\r\n  @HostListener('window:click', ['$event'])\r\n  handleClick(e: Event): void {\r\n    const element = e.target as HTMLElement;\r\n    if ((typeof element.className) === 'string') {\r\n      if (element.className.indexOf('moveable-title') >= 0) {\r\n        this.allowEdition = true;\r\n      } else {\r\n        this.allowEdition = false;\r\n        if (this.onEditIdx !== null && this.onEditIdx < this.data.length) {\r\n          this.data[this.onEditIdx].display = this.formControl.value;\r\n          this.displayChange.emit(this.data[this.onEditIdx]);\r\n        }\r\n        this.onEditIdx = null;\r\n      }\r\n    }\r\n  }\r\n\r\n  drop(event: CdkDragDrop<string[]>) {\r\n    if (this.data[event.currentIndex].draggable !== undefined && !this.data[event.currentIndex].draggable) {\r\n      return;\r\n    }\r\n    moveItemInArray(this.data, event.previousIndex, event.currentIndex);\r\n    this.dataChange.emit(this.data);\r\n  }\r\n\r\n  switchToEditMode(row: any, index: number) {\r\n    this.allowEdition = true;\r\n    if (this.onEditIdx !== null) {\r\n      this.data[this.onEditIdx].display = this.formControl.value;\r\n    }\r\n\r\n    if (row.editable != undefined && row.editable) {\r\n      this.onEditIdx = index;\r\n      this.formControl.setValue(row.display);\r\n    }\r\n  }\r\n\r\n  stopEdition() {\r\n    this.data[this.onEditIdx].display = this.formControl.value;\r\n    this.displayChange.emit(this.data[this.onEditIdx]);\r\n    this.onEditIdx = null;\r\n    this.allowEdition = false;\r\n\r\n  }\r\n\r\n  select(index: number) {\r\n    this.rowSelectedIdx = index;\r\n    this.selectedChange.emit(index);\r\n  }\r\n\r\n  hideShow(index: number) {\r\n    if (this.data[index].hidden !== undefined) {\r\n      this.data[index].hidden = !this.data[index].hidden;\r\n      this.dataChange.emit(this.data);\r\n    }\r\n  }\r\n\r\n  public remove(idx: number) {\r\n    this.onEditIdx = null;\r\n    this.formControl.setValue('');\r\n    this.data = this.data.filter((item, index) => (index !== idx));\r\n    this.rowSelectedIdx = -1;\r\n    this.selectedChange.emit(-1);\r\n    this.dataChange.emit(this.data);\r\n  }\r\n\r\n\r\n}\r\n","import {\r\n  Component,\r\n  EventEmitter,\r\n  Input, OnChanges, OnInit,\r\n  Output, SimpleChanges,\r\n} from '@angular/core';\r\nimport {InputBoolean} from \"ng-zorro-antd\";\r\nimport {MoveableListItem} from \"../cmacs-moveable-list/cmacs-moveable-list.component\";\r\nimport {CookieService} from \"ngx-cookie-service\";\r\n\r\n@Component({\r\n  selector: 'cmacs-grid-configuration-modal',\r\n  exportAs: 'cmacsGridConfigurationModal',\r\n  templateUrl: './cmacs-grid-configuration-modal.component.html',\r\n  styleUrls: ['./cmacs-grid-configuration-modal.component.css']\r\n})\r\nexport class CmacsGridConfigurationModalComponent implements OnInit, OnChanges {\r\n\r\n  @Input() @InputBoolean() visible = false;\r\n  @Input() modalTitle: string = '';\r\n  @Input() header: string = '';\r\n  @Input() saveBtnLabel: string = '';\r\n  @Input() cmacsStyle = {};\r\n  @Input() gridID: string;\r\n  @Input() data: any;\r\n  @Output() visibleChange: EventEmitter<boolean> = new EventEmitter<boolean>();\r\n  @Output() dataChange: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n  origin = null;\r\n\r\n  constructor(private cookies: CookieService) {}\r\n\r\n  ngOnInit() {\r\n    this.origin = JSON.parse(JSON.stringify(this.data));\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (changes.visible && changes.visible.currentValue) {\r\n      this.origin = JSON.parse(JSON.stringify(this.data));\r\n    }\r\n  }\r\n\r\n  onDataChange($event: MoveableListItem[]) {\r\n    this.data.fields = $event;\r\n    this.dataChange.emit(this.data);\r\n  }\r\n\r\n  saveConfig() {\r\n    this.visible = false;\r\n    this.visibleChange.emit(false);\r\n\r\n    this.cookies.set(this.gridID, JSON.stringify(this.data), 365);\r\n  }\r\n\r\n  onVisibleChange($event) {\r\n    this.dataChange.emit(this.origin);\r\n    this.visibleChange.emit($event);\r\n  }\r\n\r\n}\r\n","import {\r\n  Component,\r\n  Input,\r\n  Output,\r\n  EventEmitter, ViewEncapsulation\r\n} from '@angular/core';\r\nimport {FormControl} from \"@angular/forms\";\r\n\r\n@Component({\r\n  selector: 'cmacs-open-input',\r\n  exportAs: 'cmacsOpenInput',\r\n  encapsulation: ViewEncapsulation.None,\r\n  templateUrl: './cmacs-open-input.component.html',\r\n  styleUrls: ['./cmacs-open-input.component.css'],\r\n})\r\nexport class CmacsOpenInputComponent {\r\n\r\n  @Input() formControlCustom: FormControl = new FormControl('', []);\r\n  @Input() width: string;\r\n  @Input() placeholder: string = '';\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n}\r\n","import {\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  ElementRef,\r\n  Input,\r\n  OnChanges,\r\n  OnInit,\r\n  TemplateRef,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\n\r\nimport { InputBoolean, NzSizeLDSType, NzUpdateHostClassService } from 'ng-zorro-antd/core';\r\n\r\nimport { CmacsListGrid } from './interface';\r\n\r\n@Component({\r\n  selector: 'cmacs-list',\r\n  exportAs: 'cmacsList',\r\n  templateUrl: './cmacs-list.component.html',\r\n  providers: [NzUpdateHostClassService],\r\n  preserveWhitespaces: false,\r\n  styleUrls: ['./cmacs-list.component.css'],\r\n  encapsulation: ViewEncapsulation.None,\r\n  // changeDetection: ChangeDetectionStrategy.OnPush,\r\n  styles: [\r\n    `\r\n      cmacs-list,\r\n      cmacs-list nz-spin {\r\n        display: block;\r\n      }\r\n    `\r\n  ]\r\n})\r\nexport class CmacsListComponent implements OnInit, OnChanges {\r\n  // #region fields\r\n  // tslint:disable-next-line:no-any\r\n  @Input() dataSource: any[];\r\n\r\n  @Input() @InputBoolean() bordered = false;\r\n\r\n  @Input() grid: CmacsListGrid;\r\n\r\n  @Input() header: string | TemplateRef<void>;\r\n\r\n  @Input() footer: string | TemplateRef<void>;\r\n\r\n  @Input() itemLayout: 'vertical' | 'horizontal' = 'horizontal';\r\n\r\n  @Input() renderItem: TemplateRef<void>;\r\n\r\n  @Input() @InputBoolean() loading = false;\r\n\r\n  @Input() @InputBoolean() classicGrid = false;\r\n\r\n  @Input() loadMore: TemplateRef<void>;\r\n\r\n  @Input() pagination: TemplateRef<void>;\r\n\r\n  @Input() size: NzSizeLDSType = 'default';\r\n\r\n  @Input() @InputBoolean() split = true;\r\n\r\n  @Input() noResult: string | TemplateRef<void>;\r\n\r\n  // #endregion\r\n\r\n  // #region styles\r\n\r\n  private prefixCls = 'ant-list';\r\n\r\n  private _setClassMap(): void {\r\n    const classMap = {\r\n      [this.prefixCls]: true,\r\n      [`${this.prefixCls}-vertical`]: this.itemLayout === 'vertical',\r\n      [`${this.prefixCls}-lg`]: this.size === 'large',\r\n      [`${this.prefixCls}-sm`]: this.size === 'small',\r\n      [`${this.prefixCls}-split`]: this.split,\r\n      [`${this.prefixCls}-bordered`]: this.bordered,\r\n      [`${this.prefixCls}-loading`]: this.loading,\r\n      [`${this.prefixCls}-grid`]: this.grid,\r\n      [`${this.prefixCls}-something-after-last-item`]: !!(this.loadMore || this.pagination || this.footer)\r\n    };\r\n    this.updateHostClassService.updateHostClass(this.el.nativeElement, classMap);\r\n  }\r\n\r\n  // #endregion\r\n\r\n  constructor(private el: ElementRef, private updateHostClassService: NzUpdateHostClassService) {}\r\n\r\n  ngOnInit(): void {\r\n    this._setClassMap();\r\n  }\r\n\r\n  ngOnChanges(): void {\r\n    this._setClassMap();\r\n  }\r\n}\r\n","\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  ElementRef,\r\n  Input,\r\n  Renderer2,\r\n  TemplateRef,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'cmacs-list-item-meta',\r\n  exportAs: 'cmacsListItemMeta',\r\n  templateUrl: './cmacs-list-item-meta.component.html',\r\n  preserveWhitespaces: false,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class CmacsListItemMetaComponent {\r\n  avatarStr = '';\r\n  avatarTpl: TemplateRef<void>;\r\n\r\n  @Input()\r\n  set avatar(value: string | TemplateRef<void>) {\r\n    if (value instanceof TemplateRef) {\r\n      this.avatarStr = '';\r\n      this.avatarTpl = value;\r\n    } else {\r\n      this.avatarStr = value;\r\n    }\r\n  }\r\n\r\n  @Input() title: string | TemplateRef<void>;\r\n\r\n  @Input() description: string | TemplateRef<void>;\r\n\r\n  constructor(public elementRef: ElementRef, private renderer: Renderer2) {\r\n    this.renderer.addClass(elementRef.nativeElement, 'ant-list-item-meta');\r\n  }\r\n}\r\n","\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  ContentChildren,\r\n  ElementRef,\r\n  Input,\r\n  QueryList,\r\n  Renderer2,\r\n  TemplateRef,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\n\r\nimport { CmacsListItemMetaComponent } from './cmacs-list-item-meta.component';\r\n\r\n@Component({\r\n  selector: 'cmacs-list-item',\r\n  exportAs: 'cmacsListItem',\r\n  templateUrl: './cmacs-list-item.component.html',\r\n  preserveWhitespaces: false,\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class CmacsListItemComponent {\r\n  @ContentChildren(CmacsListItemMetaComponent) metas!: QueryList<CmacsListItemMetaComponent>;\r\n  @Input() actions: Array<TemplateRef<void>> = [];\r\n  @Input() content: string | TemplateRef<void>;\r\n  @Input() extra: TemplateRef<void>;\r\n\r\n  constructor(public elementRef: ElementRef, private renderer: Renderer2) {\r\n    this.renderer.addClass(this.elementRef.nativeElement, 'ant-list-item');\r\n  }\r\n}\r\n","\r\nimport { InjectionToken } from '@angular/core';\r\n\r\nexport interface CmacsMessageConfig {\r\n  animate?: boolean;\r\n  duration?: number;\r\n  maxStack?: number;\r\n  pauseOnHover?: boolean;\r\n  top?: number | string;\r\n  width?: number;\r\n\r\n  [index: string]: any; // tslint:disable-line:no-any\r\n}\r\n\r\nexport const CMACS_MESSAGE_DEFAULT_CONFIG = new InjectionToken<CmacsMessageConfig>('CMACS_MESSAGE_DEFAULT_CONFIG');\r\n\r\nexport const CMACS_MESSAGE_CONFIG = new InjectionToken<CmacsMessageConfig>('CMACS_MESSAGE_CONFIG');\r\n\r\nexport const CMACS_MESSAGE_DEFAULT_CONFIG_PROVIDER = {\r\n  provide: CMACS_MESSAGE_DEFAULT_CONFIG,\r\n  useValue: {\r\n    animate: true,\r\n    duration: 3000,\r\n    maxStack: 7,\r\n    pauseOnHover: true,\r\n    top: 24\r\n  }\r\n};\r\n","import {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  Inject,\r\n  Optional,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\n\r\nimport { toCssPixel } from 'ng-zorro-antd/core';\r\n\r\nimport { CmacsMessageConfig, CMACS_MESSAGE_CONFIG, CMACS_MESSAGE_DEFAULT_CONFIG } from './cmacs-message-config';\r\nimport { CmacsMessageDataFilled, CmacsMessageDataOptions } from './cmacs-message.definitions';\r\n\r\n@Component({\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  selector: 'cmacs-message-container',\r\n  exportAs: 'cmacsMessageContainer',\r\n  preserveWhitespaces: false,\r\n  templateUrl: './cmacs-message-container.component.html'\r\n})\r\nexport class CmacsMessageContainerComponent {\r\n  messages: CmacsMessageDataFilled[] = [];\r\n  config: Required<CmacsMessageConfig>;\r\n  top: string | null;\r\n\r\n  constructor(\r\n    protected cdr: ChangeDetectorRef,\r\n    @Optional() @Inject(CMACS_MESSAGE_DEFAULT_CONFIG) defaultConfig: CmacsMessageConfig,\r\n    @Optional() @Inject(CMACS_MESSAGE_CONFIG) config: CmacsMessageConfig\r\n  ) {\r\n    this.setConfig({ ...defaultConfig, ...config });\r\n  }\r\n\r\n  setConfig(config: CmacsMessageConfig): void {\r\n    this.config = { ...this.config, ...config };\r\n    this.top = toCssPixel(this.config.top);\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  /**\r\n   * Create a new message.\r\n   * @param message Parsed message configuration.\r\n   */\r\n  createMessage(message: CmacsMessageDataFilled): void {\r\n    if (this.messages.length >= this.config.maxStack) {\r\n      this.messages.splice(0, 1);\r\n    }\r\n    message.options = this._mergeMessageOptions(message.options);\r\n    message.onClose = new Subject<boolean>();\r\n    this.messages.push(message);\r\n    this.cdr.detectChanges();\r\n  }\r\n\r\n  /**\r\n   * Remove a message by `messageId`.\r\n   * @param messageId Id of the message to be removed.\r\n   * @param userAction Whether this is closed by user interaction.\r\n   */\r\n  removeMessage(messageId: string, userAction: boolean = false): void {\r\n    this.messages.some((message, index) => {\r\n      if (message.messageId === messageId) {\r\n        this.messages.splice(index, 1);\r\n        this.cdr.detectChanges();\r\n        message.onClose!.next(userAction);\r\n        message.onClose!.complete();\r\n        return true;\r\n      }\r\n      return false;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Remove all messages.\r\n   */\r\n  removeMessageAll(): void {\r\n    this.messages = [];\r\n    this.cdr.detectChanges();\r\n  }\r\n\r\n  /**\r\n   * Merge default options and custom message options\r\n   * @param options\r\n   */\r\n  protected _mergeMessageOptions(options?: CmacsMessageDataOptions): CmacsMessageDataOptions {\r\n    const defaultOptions: CmacsMessageDataOptions = {\r\n      duration: this.config.duration,\r\n      animate: this.config.animate,\r\n      pauseOnHover: this.config.pauseOnHover\r\n    };\r\n    return { ...defaultOptions, ...options };\r\n  }\r\n}\r\n","import {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  Input,\r\n  OnDestroy,\r\n  OnInit,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\n\r\nimport { moveUpMotion } from 'ng-zorro-antd/core';\r\n\r\nimport { CmacsMessageContainerComponent } from './cmacs-message-container.component';\r\nimport { CmacsMessageDataFilled, CmacsMessageDataOptions } from './cmacs-message.definitions';\r\n\r\n@Component({\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  selector: 'cmacs-message',\r\n  exportAs: 'cmacsMessage',\r\n  preserveWhitespaces: false,\r\n  animations: [moveUpMotion],\r\n  templateUrl: './cmacs-message.component.html',\r\n  styleUrls: ['./cmacs-message.component.css']\r\n})\r\nexport class CmacsMessageComponent implements OnInit, OnDestroy {\r\n  @Input() message: CmacsMessageDataFilled;\r\n  @Input() index: number;\r\n\r\n  protected _options: Required<CmacsMessageDataOptions>;\r\n\r\n  private _autoErase: boolean; // Whether to set a timeout to destroy itself.\r\n  private _eraseTimer: number | null = null;\r\n  private _eraseTimingStart: number;\r\n  private _eraseTTL: number; // Time to live.\r\n\r\n  constructor(private _messageContainer: CmacsMessageContainerComponent, protected cdr: ChangeDetectorRef) {}\r\n\r\n  ngOnInit(): void {\r\n    // `CmacsMessageContainer` does its job so all properties cannot be undefined.\r\n    this._options = this.message.options as Required<CmacsMessageDataOptions>;\r\n\r\n    if (this._options.animate) {\r\n      this.message.state = 'enter';\r\n    }\r\n\r\n    this._autoErase = this._options.duration > 0;\r\n\r\n    if (this._autoErase) {\r\n      this._initErase();\r\n      this._startEraseTimeout();\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this._autoErase) {\r\n      this._clearEraseTimeout();\r\n    }\r\n  }\r\n\r\n  onEnter(): void {\r\n    if (this._autoErase && this._options.pauseOnHover) {\r\n      this._clearEraseTimeout();\r\n      this._updateTTL();\r\n    }\r\n  }\r\n\r\n  onLeave(): void {\r\n    if (this._autoErase && this._options.pauseOnHover) {\r\n      this._startEraseTimeout();\r\n    }\r\n  }\r\n\r\n  // Remove self\r\n  protected _destroy(userAction: boolean = false): void {\r\n    if (this._options.animate) {\r\n      this.message.state = 'leave';\r\n      this.cdr.detectChanges();\r\n      setTimeout(() => this._messageContainer.removeMessage(this.message.messageId, userAction), 200);\r\n    } else {\r\n      this._messageContainer.removeMessage(this.message.messageId, userAction);\r\n    }\r\n  }\r\n\r\n  closeMessage() {\r\n    this._destroy();\r\n  }\r\n\r\n  private _initErase(): void {\r\n    this._eraseTTL = this._options.duration;\r\n    this._eraseTimingStart = Date.now();\r\n  }\r\n\r\n  private _updateTTL(): void {\r\n    if (this._autoErase) {\r\n      this._eraseTTL -= Date.now() - this._eraseTimingStart;\r\n    }\r\n  }\r\n\r\n  private _startEraseTimeout(): void {\r\n    if (this._eraseTTL > 0) {\r\n      this._clearEraseTimeout();\r\n      this._eraseTimer = setTimeout(() => this._destroy(), this._eraseTTL);\r\n      this._eraseTimingStart = Date.now();\r\n    } else {\r\n      this._destroy();\r\n    }\r\n  }\r\n\r\n  private _clearEraseTimeout(): void {\r\n    if (this._eraseTimer !== null) {\r\n      clearTimeout(this._eraseTimer);\r\n      this._eraseTimer = null;\r\n    }\r\n  }\r\n}\r\n","import { Overlay } from '@angular/cdk/overlay';\r\nimport {\r\n  ApplicationRef,\r\n  ComponentFactoryResolver,\r\n  EmbeddedViewRef,\r\n  Injectable,\r\n  Injector,\r\n  TemplateRef,\r\n  Type\r\n} from '@angular/core';\r\n\r\nimport { CmacsMessageConfig } from './cmacs-message-config';\r\nimport { CmacsMessageContainerComponent } from './cmacs-message-container.component';\r\nimport { CmacsMessageData, CmacsMessageDataFilled, CmacsMessageDataOptions } from './cmacs-message.definitions';\r\n\r\nlet globalCounter = 0;\r\n\r\nexport class CmacsMessageBaseService<\r\n  ContainerClass extends CmacsMessageContainerComponent,\r\n  MessageData,\r\n  MessageConfig extends CmacsMessageConfig\r\n> {\r\n  protected _container: ContainerClass;\r\n\r\n  constructor(\r\n    private overlay: Overlay,\r\n    private containerClass: Type<ContainerClass>,\r\n    private injector: Injector,\r\n    private cfr: ComponentFactoryResolver,\r\n    private appRef: ApplicationRef,\r\n    private _idPrefix: string = ''\r\n  ) {\r\n    this._container = this.createContainer();\r\n  }\r\n\r\n  remove(messageId?: string): void {\r\n    if (messageId) {\r\n      this._container.removeMessage(messageId);\r\n    } else {\r\n      this._container.removeMessageAll();\r\n    }\r\n  }\r\n\r\n  createMessage(message: MessageData, options?: CmacsMessageDataOptions): CmacsMessageDataFilled {\r\n    const resultMessage: CmacsMessageDataFilled = {\r\n      ...(message as CmacsMessageData),\r\n      ...{\r\n        createdAt: new Date(),\r\n        messageId: this._generateMessageId(),\r\n        options\r\n      }\r\n    };\r\n    this._container.createMessage(resultMessage);\r\n\r\n    return resultMessage;\r\n  }\r\n\r\n  config(config: MessageConfig): void {\r\n    this._container.setConfig(config);\r\n  }\r\n\r\n  protected _generateMessageId(): string {\r\n    return this._idPrefix + globalCounter++;\r\n  }\r\n\r\n  // Manually creating container for overlay to avoid multi-checking error, see: https://github.com/NG-ZORRO/ng-zorro-antd/issues/391\r\n  // NOTE: we never clean up the container component and it's overlay resources, if we should, we need to do it by our own codes.\r\n  private createContainer(): ContainerClass {\r\n    const factory = this.cfr.resolveComponentFactory(this.containerClass);\r\n    const componentRef = factory.create(this.injector); // Use root injector\r\n    componentRef.changeDetectorRef.detectChanges(); // Immediately change detection to avoid multi-checking error\r\n    this.appRef.attachView(componentRef.hostView); // Load view into app root\r\n    const overlayPane = this.overlay.create().overlayElement;\r\n    overlayPane.style.zIndex = '1010'; // Patching: assign the same zIndex of ant-message to it's parent overlay panel, to the ant-message's zindex work.\r\n    overlayPane.appendChild((componentRef.hostView as EmbeddedViewRef<{}>).rootNodes[0] as HTMLElement);\r\n\r\n    return componentRef.instance;\r\n  }\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CmacsMessageService extends CmacsMessageBaseService<\r\n  CmacsMessageContainerComponent,\r\n  CmacsMessageData,\r\n  CmacsMessageConfig\r\n> {\r\n  constructor(overlay: Overlay, injector: Injector, cfr: ComponentFactoryResolver, appRef: ApplicationRef) {\r\n    super(overlay, CmacsMessageContainerComponent, injector, cfr, appRef, 'message-');\r\n  }\r\n\r\n  // Shortcut methods\r\n  success(content: string | TemplateRef<void>, options?: CmacsMessageDataOptions): CmacsMessageDataFilled {\r\n    return this.createMessage({ type: 'success', content }, options);\r\n  }\r\n\r\n  error(content: string | TemplateRef<void>, options?: CmacsMessageDataOptions): CmacsMessageDataFilled {\r\n    return this.createMessage({ type: 'error', content }, options);\r\n  }\r\n\r\n  info(content: string | TemplateRef<void>, options?: CmacsMessageDataOptions): CmacsMessageDataFilled {\r\n    return this.createMessage({ type: 'info', content }, options);\r\n  }\r\n\r\n  warning(content: string | TemplateRef<void>, options?: CmacsMessageDataOptions): CmacsMessageDataFilled {\r\n    return this.createMessage({ type: 'warning', content }, options);\r\n  }\r\n\r\n  loading(content: string | TemplateRef<void>, options?: CmacsMessageDataOptions): CmacsMessageDataFilled {\r\n    return this.createMessage({ type: 'loading', content }, options);\r\n  }\r\n\r\n  create(\r\n    type: 'success' | 'info' | 'warning' | 'error' | 'loading' | string,\r\n    content: string | TemplateRef<void>,\r\n    options?: CmacsMessageDataOptions\r\n  ): CmacsMessageDataFilled {\r\n    return this.createMessage({ type, content }, options);\r\n  }\r\n}\r\n","import { DatePipe } from '@angular/common';\r\nimport {\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  OnInit,\r\n  Output,\r\n  SimpleChanges,\r\n  AfterViewInit,\r\n  TemplateRef,\r\n  ViewChild,\r\n  HostListener,\r\n  ChangeDetectionStrategy\r\n} from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil, count } from 'rxjs/operators';\r\n\r\nimport { InputBoolean, InputNumber, NzSizeMDSType, toBoolean } from 'ng-zorro-antd/core';\r\nimport { NzI18nService } from 'ng-zorro-antd/i18n';\r\n\r\nimport { ExportAsService, ExportAsConfig } from 'ngx-export-as';\r\nimport jsPDF from 'jspdf';\r\nimport 'jspdf-autotable';\r\nimport { GridConfig, Field } from '../core/interfaces/grid-config';\r\nimport { GridExpConfig } from '../core/interfaces/grid-exp-config';\r\nimport { TemplateType } from '../core/enums/templateType.enum';\r\nimport { CeldType } from '../core/enums/celdType.enum';\r\nimport { ExcelService } from '../core/services/excel.service';\r\nimport { ExportType } from '../core/enums/export-type.enum';\r\nimport { CookieService } from \"ngx-cookie-service\";\r\nimport { CheckboxSelect } from \"../cmacs-grid/cmacs-table.component\";\r\nimport { isArray } from \"util\";\r\nimport { CdkDragDrop, moveItemInArray } from \"@angular/cdk/drag-drop\";\r\nimport { isNotNil, NzDropdownContextComponent, NzDropdownService, NzMenuDropdownService } from \"ng-zorro-antd\";\r\nimport { FormControl } from \"@angular/forms\";\r\nimport { CmacsInputNumberComponent } from \"../cmacs-input-number/cmacs-input-number.component\";\r\nimport { UtilService } from '../core/services/util.service';\r\nimport * as moment_ from 'moment';\r\nimport 'moment/locale/en-ie';\r\nconst moment = moment_;\r\n\r\n@Component({\r\n  // tslint:disable-next-line: component-selector\r\n  selector: 'cmacs-compact-table',\r\n  exportAs: 'cmacsCompactTable',\r\n  templateUrl: './cmacs-compact-table.component.html',\r\n  styleUrls: ['./cmacs-compact-table.component.css'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  host: {\r\n    '[class.cmacs-compact-table-logs]': 'logs'\r\n  }\r\n})\r\n// tslint:disable-next-line no-any\r\nexport class CmacsCompactTableComponent<T = any> implements OnInit, OnChanges, OnDestroy, AfterViewInit {\r\n  locale: any = {}; // tslint:disable-line:no-any\r\n  headerBottomStyle = {};\r\n  private destroy$ = new Subject<void>();\r\n  // tslint:disable-next-line: no-input-rename\r\n  @Input() size: NzSizeMDSType = 'default';\r\n  @Input() showTotal: TemplateRef<{ $implicit: number; range: [number, number] }>;\r\n  @Input() pageSizeOptions = [10, 20, 30, 40, 50];\r\n  @Input() @InputBoolean() virtualScroll = false;\r\n  @Input() @InputBoolean() logs = false;\r\n  @Input() @InputBoolean() expandable = false;\r\n  @Input() @InputBoolean() smartTable = false;\r\n  @Input() @InputBoolean() draggable = false;\r\n  @Input() @InputNumber() virtualItemSize = 0;\r\n  @Input() @InputBoolean() expandAll = false;\r\n  @Input() loadingDelay = 0;\r\n  @Input() loadingIndicator: TemplateRef<void>;\r\n  @Input() total = 0;\r\n  @Input() title: string | TemplateRef<void>;\r\n  @Input() footer: string | TemplateRef<void>;\r\n  @Input() noResult: string | TemplateRef<void>;\r\n  @Input() widthConfig: string[] = [];\r\n  @Input() pageIndex = 1;\r\n  @Input() pageSize = 10;\r\n  @Input() @InputBoolean() wrapLines = false;\r\n  // tslint:disable-next-line: no-input-rename\r\n  @Input() data = [];\r\n  @Input() config: GridConfig;\r\n  @Input() @InputBoolean() use12Hours = true;\r\n  @Output() configChange: EventEmitter<GridConfig> = new EventEmitter<GridConfig>();\r\n  @Input() fieldId: string;\r\n  @Input() gridID: string = null;\r\n  @Input() paginationPosition: 'top' | 'bottom' | 'both' = 'bottom';\r\n  @Input() scroll: { x?: string | null; y?: string | null } = { x: null, y: null };\r\n  @Input() @ViewChild('renderItemTemplate') nzItemRender: TemplateRef<{\r\n    $implicit: 'page' | 'prev' | 'next';\r\n    page: number;\r\n  }>;\r\n  @Input() @InputBoolean() frontPagination = true;\r\n  @Input() @InputBoolean() templateMode = false;\r\n  @Input() @InputBoolean() bordered = false;\r\n  @Input() @InputBoolean() showPagination = true;\r\n  @Input() @InputBoolean() loading = false;\r\n  @Input() @InputBoolean() showSizeChanger = false;\r\n  @Input() @InputBoolean() hideOnSinglePage = false;\r\n  @Input() @InputBoolean() showQuickJumper = false;\r\n  @Input() @InputBoolean() simple = false;\r\n  @Input() @InputBoolean() checkboxSelect = false;\r\n  @Input() @InputBoolean() inLineEdit = false;\r\n  @Input() @InputBoolean() dataTable = false;\r\n  @Input() @InputBoolean() showRate = false;\r\n  @Input() exportEvent = new EventEmitter<GridExpConfig>();\r\n  @Output() buttonClick = new EventEmitter<any>();\r\n  @Output() rateChange = new EventEmitter<any>();\r\n  @Output() selectionChange = new EventEmitter<T[]>();\r\n  @Output() ondlclickRow = new EventEmitter<any>();\r\n  @Output() onclickRow = new EventEmitter<any>();\r\n  @Output() onedit = new EventEmitter<any>();\r\n  @Output() ondrop = new EventEmitter<any>();\r\n  @Input() rateCount = 5;\r\n  @Input() @InputBoolean() multiSelect = false;\r\n  @Output() sortChange = new EventEmitter<any>();\r\n  @Output() onrowdeleted = new EventEmitter<any>();\r\n  @Output() onrowadded = new EventEmitter<any>();\r\n\r\n  @Input() extra: string | TemplateRef<void>;\r\n  @Input() contextmenu: string | TemplateRef<void>;\r\n  @Input() indentSize: number = 0;\r\n\r\n  public dropdown: NzDropdownContextComponent;\r\n  selected = false;\r\n  formatter = (value: number) => value ? `${value.toString().replace('.', ',')}` : '';\r\n  parser = (value: string) => value.replace(',', '.');\r\n  defaultSortOrder = null;\r\n  checkboxCache: CheckboxSelect[] = [];\r\n  isIndeterminate = false;\r\n  allChecked = false;\r\n  editId: string | null;\r\n  property: string | null;\r\n  rowOnEdition = -1;\r\n  nodeOnEdition = null;\r\n  mapOfExpandedData: { [key: string]: any[] } = {};\r\n  defaultTimeValue = new Date();\r\n  lastIdxSelected = null;\r\n\r\n  fieldID: any = null;\r\n\r\n  @ViewChild('fieldTypeInput', { read: ElementRef }) inputElement: ElementRef;\r\n  @ViewChild('fieldTypeInputNumber', { read: ElementRef }) inputNumberElement: ElementRef;\r\n  @ViewChild('fieldTypeInputNumber', { read: CmacsInputNumberComponent }) inputNumberComponent: CmacsInputNumberComponent;\r\n  @ViewChild('fieldTypeDatePicker', { read: ElementRef }) datePickerElement: ElementRef;\r\n  @ViewChild('fieldTypeDateTimePicker', { read: ElementRef }) dateTimePickerElement: ElementRef;\r\n  @ViewChild('fieldTypeSelect', { read: ElementRef }) selectElement: ElementRef;\r\n  @ViewChild('fieldTypeBool', { read: ElementRef }) boolElement: ElementRef;\r\n\r\n  preventDefault($event: MouseEvent) {\r\n    $event.preventDefault();\r\n    $event.stopImmediatePropagation();\r\n  }\r\n\r\n  /*Context Menu */\r\n  contextMenu($event: MouseEvent, template: TemplateRef<void>): void {\r\n    this.dropdown = this.nzDropdownService.create($event, template);\r\n  }\r\n\r\n  validate(data: any, field: Field) {\r\n    const formControl = field.validators ? new FormControl(data[field.property], field.validators) : new FormControl(data[field.property]);\r\n    data.valid = data.valid ? data.valid : {};\r\n    data.valid[field.property] = formControl.valid;\r\n    return formControl.valid;\r\n  }\r\n\r\n  addRow(idx: number, $event = null) {\r\n    this.onrowadded.emit(idx);\r\n    this.editionOpTriggered = true;\r\n    if ($event) {\r\n      this.preventDefault($event);\r\n    }\r\n  }\r\n\r\n  drop(event: CdkDragDrop<string[]>) {\r\n    if (!this.draggable) {\r\n      return;\r\n    }\r\n    moveItemInArray(this.data, event.previousIndex, event.currentIndex);\r\n    this.data = [...this.data];\r\n    this.ondrop.emit(event);\r\n  }\r\n\r\n  editionOpTriggered = false;\r\n  deleteRow(idx: number, $event = null) {\r\n    const itemToRemove = this.data[idx];\r\n    this.onrowdeleted.emit(itemToRemove);\r\n    this.editionOpTriggered = true;\r\n    if ($event) {\r\n      this.preventDefault($event);\r\n    }\r\n  }\r\n\r\n  startEdit(id: string, property: string, event: MouseEvent): void {\r\n    if (this.inLineEdit) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n      if (this.editId !== null) {\r\n        this.emitOnEditEvent();\r\n      }\r\n      this.editId = id;\r\n      this.property = property;\r\n    }\r\n  }\r\n\r\n  sort($event: any, fieldProperty: string,) {\r\n    this.sortChange.emit({ sortName: fieldProperty, sortValue: $event });\r\n  }\r\n\r\n  getHeaderMaxWidth(field: Field) {\r\n    if (field.showSort) {\r\n      return `calc(100% - 15px)`;\r\n    }\r\n    return `100%`;\r\n  }\r\n\r\n  @HostListener('document:mousedown', ['$event'])\r\n  handleMouseDown(e: Event): void {\r\n    const element = e.target as HTMLElement;\r\n    if (this.editId && this.property) {\r\n      if (\r\n        (this.inputElement && this.inputElement.nativeElement !== e.target) ||\r\n        (this.inputNumberElement && !this.childOf(element, this.inputNumberElement.nativeElement)) ||\r\n        (this.datePickerElement && !this.childOf(element, this.datePickerElement.nativeElement)) ||\r\n        (this.dateTimePickerElement && !this.childOf(element, this.dateTimePickerElement.nativeElement)) ||\r\n        (this.selectElement && !this.childOf(element, this.selectElement.nativeElement) ||\r\n          (this.boolElement && this.boolElement.nativeElement !== e.target))\r\n      ) {\r\n        if (this.inputNumberComponent) {\r\n          this.inputNumberComponent.blur();\r\n        }\r\n        this.editId = null;\r\n        this.emitOnEditEvent();\r\n        this.property = null;\r\n      }\r\n    }\r\n  }\r\n\r\n  getCustomPadding(item: any, i: number) {\r\n    if (!i) {\r\n      if (!item.level) {\r\n        return !!item.children ? 6 : 28;\r\n      } else {\r\n        return item.level * this.indentSize;\r\n      }\r\n    }\r\n    return 6;\r\n  }\r\n\r\n  childOf(node: any, ancestor: any) {\r\n    let child = node;\r\n    while (child !== null) {\r\n      if (child === ancestor) return true;\r\n      if (child.classList && child.classList.length > 0 && child.className && typeof child.className === 'string' &&\r\n        child.className.indexOf('cdk-overlay-pane') >= 0) return true;\r\n      child = child.parentNode;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  endEditMode($event: KeyboardEvent, index: number, data: any = null) {\r\n    if ($event.key === ('Enter' || 'enter')) {\r\n      this.editId = null;\r\n      this.rowOnEdition = -1;\r\n      if (this.expandable) {\r\n        data.cmacsEditedProp = this.property;\r\n        this.onedit.emit(data);\r\n        return;\r\n      }\r\n      this.data[index].cmacsEditedProp = this.property;\r\n      this.onedit.emit(this.data[index]);\r\n      this.property = null;\r\n    } else {\r\n      if (this.expandable) {\r\n        this.nodeOnEdition = data;\r\n        return;\r\n      }\r\n      this.rowOnEdition = index;\r\n    }\r\n  }\r\n\r\n  endEditModeNgModel(index: number, data: any = null, property: any = null) {\r\n    if (this.expandable) {\r\n      data.cmacsEditedProp = property ? property : this.property;\r\n      this.onedit.emit(data);\r\n    } else {\r\n      this.data[index].cmacsEditedProp = property ? property : this.property;\r\n      this.onedit.emit(this.data[index]);\r\n    }\r\n    this.editId = null;\r\n    this.property = null;\r\n    this.rowOnEdition = -1;\r\n    this.nodeOnEdition = null;\r\n\r\n  }\r\n\r\n  ngModelChange(index: number, data: any = null) {\r\n    if (this.expandable) {\r\n      this.nodeOnEdition = data;\r\n      return;\r\n    }\r\n    this.rowOnEdition = index;\r\n  }\r\n\r\n  getIndex(id): number {\r\n    let i = -1;\r\n    i = this.checkboxCache.findIndex(item => item.data[this.config.fieldId] === id);\r\n    return i;\r\n  }\r\n\r\n  order = 0;\r\n  updateCheckboxCache(): void {\r\n    const checkboxTempCache = [];\r\n    for (let i = 0; i < this.data.length; i++) {\r\n      checkboxTempCache.push({\r\n        selected: this.editionOpTriggered ? false : this.data[i].selected,\r\n        data: { ...this.data[i] },\r\n        order: this.data[i].selected ? this.order++ : -1\r\n      });\r\n    }\r\n    this.checkboxCache = [...checkboxTempCache];\r\n    if (this.editionOpTriggered) {\r\n      this.editionOpTriggered = false;\r\n    }\r\n  }\r\n\r\n  checkChildrenState(item: any) {\r\n    let indeterminate;\r\n    let init = true;\r\n\r\n    if (item.children && item.children.length > 0) {\r\n      const res = this.checkChildrenStateRec(item.children);\r\n      //console.log(res)\r\n      /* if (init) {\r\n         indeterminate = res;\r\n       } else {\r\n         return res !== indeterminate ? true : res;\r\n       }\r\n     } else {\r\n       return false;\r\n     }*/\r\n    }\r\n  }\r\n\r\n  checkChildrenStateRec(item) {\r\n\r\n    if (isArray(item)) {\r\n      item.forEach(elem => {\r\n        this.checkChildrenStateRec(elem);\r\n      });\r\n    } else {\r\n      const node = this.getNode(item[this.fieldID]);\r\n      return node.selected;\r\n    }\r\n  }\r\n\r\n  updateCheckboxCacheTreeData() {\r\n    this.convertExpandTreeToList(this.data, this.checkboxCache);\r\n  }\r\n\r\n  convertExpandTreeToList(item: any, plainList: any[]) {\r\n    if (isArray(item)) {\r\n      item.forEach(elem => {\r\n        let elementInCache = plainList.findIndex(el => el.data[this.config.fieldId] === elem[this.config.fieldId]);\r\n        if (elementInCache < 0) {\r\n          plainList.push({\r\n            selected: false,\r\n            order: -1,\r\n            data: { ...elem }\r\n          });\r\n        }\r\n\r\n        if (elem.children && elem.children.length > 0) {\r\n          this.convertExpandTreeToList(elem.children, plainList);\r\n        }\r\n      });\r\n    } else {\r\n      let elementInCache = plainList.findIndex(el => el.data[this.config.fieldId] === item[this.config.fieldId]);\r\n      if (elementInCache < 0) {\r\n        plainList.push({\r\n          selected: false,\r\n          order: -1,\r\n          data: { ...item }\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  onButtonClick(field: any) {\r\n    this.buttonClick.emit(field);\r\n  }\r\n\r\n  onCheckboxChange($event, data) {\r\n    this.checkboxCache[this.getIndex(data[this.config.fieldId])].order = $event ? this.order++ : -1;\r\n    this.refreshCheckboxState();\r\n  }\r\n\r\n  refreshCheckboxState(oninit = false) {\r\n    const dataSelected = this.checkCheckboxState();\r\n    if (!oninit) {\r\n      this.selectionChange.emit(dataSelected.map(item => item.data));\r\n    }\r\n  }\r\n\r\n  checkCheckboxState() {\r\n    const dataSelected = this.checkboxCache.filter(item => item.selected).sort((a, b) => a.order - b.order);\r\n    this.selected = this.allChecked = (dataSelected.length > 0 && (dataSelected.length === this.checkboxCache.length));\r\n    this.isIndeterminate = dataSelected.length > 0 && !this.allChecked;\r\n    return dataSelected;\r\n  }\r\n\r\n\r\n  // tslint:disable-next-line: no-shadowed-variable\r\n  onRateChange(count: number, data: any) {\r\n    data[this.config.fieldRate] = count;\r\n    this.rateChange.emit(data);\r\n  }\r\n\r\n  onRateClick(event: any) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n  }\r\n\r\n  getFields(): Field[] {\r\n    if (this.config && this.config.fields) {\r\n      return this.config.fields.filter(item => item.hidden === undefined || !item.hidden);\r\n    }\r\n    return [];\r\n  }\r\n\r\n  onCheckboxAllChange(status: boolean) {\r\n    this.checkboxCache.forEach(element => {\r\n      element.selected = status;\r\n      element.order = -1;\r\n    });\r\n    this.isIndeterminate = false;\r\n\r\n    this.selectionChange.emit((status) ? this.data : []);\r\n  }\r\n\r\n  getLabel(data: any, field: Field): string {\r\n    let result = '';\r\n    if (field.editTemplate === TemplateType.Select && field.select !== undefined) {\r\n      // tslint:disable-next-line: no-shadowed-variable\r\n      const item = field.select.selectData.find(item => item !== undefined && item[field.select.value] === data[field.property]);\r\n      result = (item !== undefined) ? item[field.select.label] : '';\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  isSelect(field: Field): boolean {\r\n    return field !== undefined && field.celdType === CeldType.Default && field.editTemplate === TemplateType.Select;\r\n  }\r\n\r\n  isString(field: Field): boolean {\r\n    return field !== undefined && field.celdType === CeldType.Default && field.editTemplate === TemplateType.String;\r\n  }\r\n\r\n  isReadOnly(field: Field): boolean {\r\n    return field !== undefined && field.readonly !== undefined && field.readonly;\r\n  }\r\n\r\n  isNumber(field: Field): boolean {\r\n    return field !== undefined && field.celdType === CeldType.Default && field.editTemplate === TemplateType.Number;\r\n  }\r\n\r\n  isBoolean(field: any): boolean {\r\n    return field !== undefined && field.celdType === CeldType.Default && field.editTemplate === TemplateType.Boolean;\r\n  }\r\n\r\n  isObject(value: any): boolean {\r\n    return value !== undefined && typeof (value) === 'object';\r\n  }\r\n\r\n  isDate(field: Field): boolean {\r\n    return field !== undefined && field.celdType === CeldType.Default && field.editTemplate === TemplateType.Date;\r\n  }\r\n\r\n  isTime(field: Field): boolean {\r\n    return field !== undefined && field.celdType === CeldType.Default && field.editTemplate === TemplateType.Time;\r\n  }\r\n\r\n  isCeldTypeDefault(field: Field): boolean {\r\n    return field !== undefined && field.celdType === CeldType.Default;\r\n  }\r\n\r\n  isCeldTypeButton(field: Field): boolean {\r\n    return field !== undefined && field.celdType === CeldType.Button;\r\n  }\r\n\r\n  isCeldTypeTag(field: Field): boolean {\r\n    return field !== undefined && field.celdType === CeldType.Tag;\r\n  }\r\n\r\n  isCeldTypeTemplateRef(field: Field): boolean {\r\n    return field !== undefined && field.celdType === CeldType.TemplateRef;\r\n  }\r\n\r\n\r\n  isUndefined(value: any) {\r\n    return value === undefined;\r\n  }\r\n\r\n  isRowSelected(data: any): boolean {\r\n    if (this.config) {\r\n      const dataSelectd = this.checkboxCache.filter(item => item.selected).map(item => item.data[this.config.fieldId]);\r\n      return dataSelectd.indexOf(data[this.config.fieldId]) !== -1;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  constructor(\r\n    private cdr: ChangeDetectorRef,\r\n    private i18n: NzI18nService,\r\n    private excelService: ExcelService,\r\n    private datePipe: DatePipe,\r\n    private nzDropdownService: NzDropdownService,\r\n    private cookies: CookieService,\r\n    private utilService: UtilService\r\n  ) {\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    if (this.cookies.check(this.gridID)) {\r\n      const savedConfigStr = this.cookies.get(this.gridID);\r\n      // reset expiration date\r\n      this.cookies.set(this.gridID, savedConfigStr, 365);\r\n\r\n      // parse cookie value to typescript const\r\n      const savedConfig = JSON.parse(this.cookies.get(this.gridID)) as GridConfig;\r\n      if (typeof savedConfig === \"object\") {\r\n        this.config = savedConfig;\r\n        this.configChange.emit(this.config);\r\n      }\r\n    }\r\n    this.cdr.detectChanges();\r\n  }\r\n\r\n  setFieldsDefault() {\r\n    if (this.config && this.config.fields) {\r\n      this.config.fields.forEach(field => {\r\n        field.editable = field.editable === null || field.editable === undefined ? true : field.editable;\r\n      });\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    if (!this.gridID) {\r\n      this.gridID = this.utilService.uuidv4();\r\n    }\r\n\r\n    this.setFieldsDefault();\r\n    this.i18n.localeChange.pipe(takeUntil(this.destroy$)).subscribe(() => {\r\n      this.locale = this.i18n.getLocaleData('Table');\r\n      this.cdr.markForCheck();\r\n    });\r\n\r\n    if (this.checkboxSelect && !this.expandable) {\r\n      this.updateCheckboxCache();\r\n      this.refreshCheckboxState(true);\r\n    }\r\n\r\n    if (this.checkboxSelect && this.expandable && this.config) {\r\n      this.updateCheckboxCacheTreeData();\r\n    }\r\n\r\n    this.checkCheckboxState();\r\n\r\n    if (this.dataTable && this.data.length > 1) {\r\n      while (this.data.length > 1) {\r\n        this.data.pop();\r\n      }\r\n      this.showPagination = false;\r\n    }\r\n\r\n    this.exportEvent.pipe(takeUntil(this.destroy$)).subscribe((config: GridExpConfig) => {\r\n      switch (config.exportType) {\r\n        case ExportType.Pdf:\r\n          this.exportToPdf(config);\r\n          break;\r\n        case ExportType.Xslx:\r\n          this.exportToExcel(config.fileName);\r\n          break;\r\n        case ExportType.Png:\r\n          this.exportToPng(config.fileName);\r\n          break;\r\n        case ExportType.PdfTree:\r\n          this.exportTreePdf(config.fileName);\r\n          break;\r\n        case ExportType.XslxTree:\r\n          this.exportTreeExcel(config.fileName);\r\n          break;\r\n      }\r\n    });\r\n\r\n    /* Convert tree to list if expandable */\r\n    if (this.expandable && this.config) {\r\n      this.fieldID = this.config.fieldId;\r\n      const coerceData = this.data as any[];\r\n      coerceData.forEach(item => {\r\n        this.mapOfExpandedData[item[this.fieldID]] = this.convertTreeToList(item);\r\n      });\r\n    }\r\n\r\n    this.utilService.exportCompleted.subscribe(() => {\r\n      this.loading = false;\r\n      this.cdr.markForCheck();\r\n    });\r\n\r\n    this.excelService.exportCompleted.subscribe(() => {\r\n      this.loading = false;\r\n      this.cdr.markForCheck();\r\n    });\r\n\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes.data && this.config) {\r\n      if (this.expandable) {\r\n\r\n        if (!this.data.length) {\r\n          this.checkboxCache = [];\r\n          this.mapOfExpandedData = {};\r\n        }\r\n\r\n        this.updateCheckboxCacheTreeData();\r\n\r\n        this.fieldID = this.config.fieldId;\r\n        const coerceData = this.data as any[];\r\n        coerceData.forEach(item => {\r\n\r\n          if (!this.mapOfExpandedData[item[this.fieldID]]) {\r\n            this.mapOfExpandedData[item[this.fieldID]] = this.convertTreeToList(item);\r\n          }\r\n\r\n        });\r\n        this.refreshCheckboxState();\r\n\r\n      } else {\r\n        this.updateCheckboxCache();\r\n      }\r\n      this.checkCheckboxState();\r\n    }\r\n\r\n    if (changes.config) {\r\n      this.setFieldsDefault();\r\n    }\r\n    this.cdr.detectChanges();\r\n  }\r\n\r\n  /* getTreeNodeByKey(node: any, key: any) {\r\n     console.log(node)\r\n     if (isArray(node)) {\r\n       node.forEach(el => {\r\n         this.getTreeNodeByKey(el, key);\r\n       })\r\n     } else if (node[this.fieldID] === key) {\r\n       return node;\r\n     } else if (node.children) {\r\n       node.children.forEach(el => {\r\n         this.getTreeNodeByKey(el, key);\r\n       })\r\n     }\r\n   }*/\r\n\r\n  /* Expandable Rows */\r\n  exportTreePdf(fileName: string): void {\r\n    const doc = new jsPDF();\r\n    const columns = [];\r\n    const rows = [];\r\n\r\n    this.config.fields.filter(item => item.celdType === CeldType.Default).forEach(field => {\r\n      columns.push(field.display);\r\n    });\r\n\r\n    this.config.fields.filter(item => item.celdType === CeldType.TemplateRef).forEach(field => {\r\n      columns.push(field.display);\r\n    });\r\n\r\n    this.exportTreeToPdfRec(rows, this.data, 0);\r\n\r\n    doc.autoTable({\r\n      theme: 'striped',\r\n      margin: { top: 5 },\r\n      body: rows,\r\n      columns\r\n    });\r\n\r\n    const filenameFormatted = moment().format(\"DD.MM.YYYY.HH.mm.ss\") + '_' + fileName + '.pdf';\r\n    doc.save(filenameFormatted);\r\n  }\r\n\r\n  exportTreeToPdfRec(rows: any, data: any, offSetMargin = 0) {\r\n\r\n    data.forEach(item => {\r\n      const itemToExport = [];\r\n      const coercedItem = item as any;\r\n      let parentStyles: any = { cellPadding: [2, 2, 2, 2] };\r\n\r\n      // tslint:disable-next-line: no-shadowed-variable\r\n      this.config.fields.filter(item => item.celdType === CeldType.Default || item.celdType === CeldType.TemplateRef).forEach((field, idx) => {\r\n\r\n        parentStyles = { cellPadding: [2, 2, 2, 2] };\r\n        if (!idx) {\r\n          parentStyles.cellPadding = [2, 2, 2, 2 + offSetMargin];\r\n        }\r\n\r\n        if (coercedItem.children && coercedItem.children.length) {\r\n          parentStyles.fillColor = [153, 204, 255];\r\n        }\r\n\r\n        if (item.celdType === CeldType.TemplateRef) {\r\n          itemToExport.push({ content: item[field.property].context.exportValue, styles: parentStyles });\r\n        } else {\r\n          switch (field.editTemplate) {\r\n            case TemplateType.Select:\r\n              const selectItem = field.select.selectData.find(option => option[field.select.value] === item[field.property]);\r\n\r\n              if (selectItem !== undefined) {\r\n                itemToExport.push({ content: selectItem[field.select.label], styles: parentStyles });\r\n              }\r\n              break;\r\n            case TemplateType.Date:\r\n              itemToExport.push({ content: this.datePipe.transform(item[field.property], 'MMMM dd yyyy'), styles: parentStyles });\r\n              break;\r\n            case TemplateType.Time:\r\n              itemToExport.push({ content: this.datePipe.transform(item[field.property], 'h:mm a'), styles: parentStyles });\r\n              break;\r\n            default:\r\n              itemToExport.push({ content: item[field.property], styles: parentStyles });\r\n              break;\r\n          }\r\n        }\r\n\r\n      });\r\n\r\n      rows.push(itemToExport);\r\n      if (coercedItem.children && coercedItem.children.length) {\r\n        this.exportTreeToPdfRec(rows, coercedItem.children, 5 + offSetMargin);\r\n      }\r\n\r\n    });\r\n  }\r\n\r\n  convertTreeToList(root: any): any[] {\r\n    const stack: any[] = [];\r\n    const array: any[] = [];\r\n    const hashMap = {};\r\n    stack.push({ ...root, level: 0, expand: this.expandAll ? this.expandAll : root.expand });\r\n\r\n    while (stack.length !== 0) {\r\n      const node = stack.pop();\r\n      this.visitNode(node, hashMap, array);\r\n      if (node.children) {\r\n        for (let i = node.children.length - 1; i >= 0; i--) {\r\n          stack.push(\r\n            {\r\n              ...node.children[i],\r\n              level: node.level + 1,\r\n              expand: this.expandAll ? this.expandAll : node.children[i].expand,\r\n              parent: node\r\n            });\r\n        }\r\n      }\r\n    }\r\n\r\n    return array;\r\n  }\r\n\r\n  visitNode(node: any, hashMap: any, array: any[]): void {\r\n    if (!hashMap[node[this.fieldID]]) {\r\n      hashMap[node[this.fieldID]] = true;\r\n      array.push(node);\r\n    }\r\n  }\r\n\r\n  collapse(array: any[], data: any, $event: boolean): void {\r\n    if ($event === false) {\r\n      if (data.children) {\r\n        data.children.forEach(d => {\r\n          const target = array.find(a => a[this.fieldID] === d[this.fieldID])!;\r\n          target.expand = false;\r\n          this.collapse(array, target, false);\r\n        });\r\n      } else {\r\n        return;\r\n      }\r\n    }\r\n  }\r\n\r\n  onCheckboxTreeChange($event, item) {\r\n    this.updateTreeCheckboxes($event, this.data, item[this.fieldID]);\r\n    this.refreshCheckboxState();\r\n  }\r\n\r\n  updateTreeCheckboxes($event: boolean, array: any, key: any) {\r\n\r\n    if (isArray(array)) {\r\n      array.forEach(item => {\r\n        if (item[this.fieldID] === key) {\r\n          const node: CheckboxSelect = this.getNode(key);\r\n          node.selected = $event;\r\n          item.selected = $event;\r\n          node.order = $event ? this.order++ : -1;\r\n          if (item.children && item.children.length > 0) {\r\n            item.children.forEach(c => {\r\n              this.updateTreeCheckboxes($event, c, c[this.fieldID]);\r\n            });\r\n          }\r\n          return;\r\n        }\r\n        if (item.children) {\r\n          item.children.forEach((d: any) => {\r\n            this.updateTreeCheckboxes($event, d, key);\r\n          });\r\n        } else {\r\n          return;\r\n        }\r\n      });\r\n    } else {\r\n      if (array[this.fieldID] === key) {\r\n        array.selected = $event;\r\n        const node: CheckboxSelect = this.getNode(key);\r\n        node.selected = $event;\r\n        node.order = $event ? this.order++ : -1;\r\n        return;\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  getNode(key: any) {\r\n    let test = this.checkboxCache.filter(n => n.data[this.fieldID] === key);\r\n    return test ? test[0] : { selected: false, data: null };\r\n  }\r\n\r\n  exportToPng(fileName: string): void {\r\n    this.loading = true;\r\n    this.utilService.exportTable('png', fileName, this.gridID);\r\n  }\r\n\r\n  exportToExcel(fileName: string): void {\r\n    this.loading = true;\r\n    const dataToExport: any[] = [];\r\n\r\n    this.data.forEach(item => {\r\n      const itemToExport = {};\r\n      // tslint:disable-next-line: no-shadowed-variable\r\n      this.config.fields.filter(item => item.celdType === CeldType.Default || item.celdType === CeldType.TemplateRef).forEach(field => {\r\n        if (field.editTemplate === TemplateType.Select) {\r\n          const selectItem = field.select.selectData.find(option => option[field.select.value] === item[field.property]);\r\n\r\n          if (selectItem !== undefined) {\r\n            itemToExport[field.display] = selectItem[field.select.label];\r\n          }\r\n        } else if (field.celdType === CeldType.TemplateRef) {\r\n          itemToExport[field.display] = item[field.property].context.exportValue;\r\n        } else {\r\n          itemToExport[field.display] = item[field.property];\r\n        }\r\n      });\r\n\r\n      dataToExport.push(itemToExport);\r\n    });\r\n\r\n    const filenameFormatted = moment().format(\"DD.MM.YYYY.HH.mm.ss\") + '_' + fileName;\r\n    this.excelService.exportAsExcelFile(dataToExport, filenameFormatted);\r\n  }\r\n\r\n  /* Expandable Rows */\r\n  exportTreeExcel(fileName: string): void {\r\n    const dataToExport: any[] = [];\r\n    this.exportTreeExcelRec(this.data, dataToExport);\r\n    const filenameFormatted = moment().format(\"DD.MM.YYYY.HH.mm.ss\") + '_' + fileName;\r\n    this.excelService.exportAsExcelFile(dataToExport, filenameFormatted);\r\n  }\r\n\r\n  exportTreeExcelRec(data: any, dataToExport: any): void {\r\n\r\n    data.forEach(item => {\r\n      const itemToExport = {};\r\n      // tslint:disable-next-line: no-shadowed-variable\r\n      this.config.fields.filter(item => item.celdType === CeldType.Default || item.celdType === CeldType.TemplateRef).forEach(field => {\r\n        if (item.celdType === CeldType.TemplateRef) {\r\n          itemToExport[field.display] = item[field.property].context.exportValue;\r\n        } else {\r\n          if (field.editTemplate === TemplateType.Select) {\r\n            const selectItem = field.select.selectData.find(option => option[field.select.value] === item[field.property]);\r\n\r\n            if (selectItem !== undefined) {\r\n              itemToExport[field.display] = selectItem[field.select.label];\r\n            }\r\n          } else {\r\n            itemToExport[field.display] = item[field.property];\r\n          }\r\n        }\r\n      });\r\n\r\n      dataToExport.push(itemToExport);\r\n\r\n      const coercedItem = item as any;\r\n      if (coercedItem.children && coercedItem.children.length) {\r\n        this.exportTreeExcelRec(coercedItem.children, dataToExport);\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n\r\n  exportToPdf(config): void {\r\n    this.loading = true;\r\n    this.cdr.detectChanges();\r\n    if (!config.useVersion2) {\r\n      this.utilService.exportTable(\r\n        'pdf',\r\n        config.fileName,\r\n        this.gridID,\r\n        config.exportCompanyName,\r\n        config.exportUserName,\r\n        config.exportTitle,\r\n        config.exportCompanyLogoUrl,\r\n        config.exportTableCustomWidth,\r\n        config.exportTableCustomHeight\r\n      );\r\n    } else {\r\n      const exportConfig = {\r\n        checkboxSelect: this.checkboxSelect,\r\n        selectedItems: this.checkboxSelect ? this.checkboxCache.filter(item => item.selected).map(item => item.data[this.config.fieldId]) : [],\r\n        fileName: config.fileName,\r\n        datePipe: this.datePipe,\r\n        data: this.data,\r\n        elemID: this.gridID,\r\n        config: this.config,\r\n        columnStyles: config.columnStyles,\r\n        exportCompanyName: config.exportCompanyName,\r\n        exportUserName: config.exportUserName,\r\n        exportTitle: config.exportTitle,\r\n        exportCompanyLogoUrl: config.exportCompanyLogoUrl ? config.exportCompanyLogoUrl : 'assets/PToB_logo.png',\r\n      }\r\n\r\n      this.utilService.exportTablev2(\r\n        exportConfig\r\n      );\r\n    }    \r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  clicks = 0;\r\n  clickRow(event: MouseEvent, data: any) {\r\n    this.clicks++;\r\n    setTimeout(() => {\r\n      event.preventDefault();\r\n      event.stopImmediatePropagation();\r\n      if (this.clicks === 1) {\r\n        this.selectRow(event, data);\r\n      }\r\n      if (this.clicks > 1) {\r\n        this.dblClickRow(data);\r\n      }\r\n      this.clicks = 0;\r\n    }, 300);\r\n  }\r\n\r\n  selectRow(event: MouseEvent, data: any) {\r\n    this.onclickRow.emit(data);\r\n    /* Get index of selection */\r\n    const index = this.checkboxCache.findIndex(item => item.data[this.config.fieldId] === data[this.config.fieldId]);\r\n    if (!this.checkboxSelect) {\r\n      if (event && (toBoolean(event.ctrlKey) || toBoolean(event.shiftKey))) {\r\n        /* Shift Selection */\r\n        if (toBoolean(event.shiftKey)) {\r\n          this.selectMultiple(index);\r\n        }\r\n      } else {\r\n        this.removeSelection(data);\r\n      }\r\n      /* Select element */\r\n      if (index !== -1) {\r\n        this.checkboxCache[index].selected = event && toBoolean(event.shiftKey) ? true : !this.checkboxCache[index].selected;\r\n        /* Save last index selected */\r\n        this.lastIdxSelected = this.checkboxCache[index].selected ? index : null;\r\n      }\r\n      const selectedItems = this.checkboxCache.filter(item => item.selected);\r\n      this.checkboxCache[index].order = this.checkboxCache[index].selected ? this.order++ : -1;\r\n      this.selectionChange.emit(selectedItems.sort((a, b) => a.order - b.order).map(item => item.data));\r\n    }\r\n    this.cdr.detectChanges();\r\n  }\r\n\r\n  removeSelection(data) {\r\n    this.checkboxCache.filter(item => item.selected && item.data[this.config.fieldId] !== data[this.config.fieldId])\r\n      .forEach(elem => { elem.selected = false; elem.order = -1 });\r\n  }\r\n\r\n  selectMultiple(currentIdx) {\r\n    if (this.lastIdxSelected !== null) {\r\n      while (currentIdx !== this.lastIdxSelected) {\r\n        this.checkboxCache[this.lastIdxSelected].selected = true;\r\n        this.checkboxCache[this.lastIdxSelected].order = this.order++;\r\n        this.lastIdxSelected = currentIdx > this.lastIdxSelected ? this.lastIdxSelected + 1 : this.lastIdxSelected - 1;\r\n      }\r\n    } else {\r\n      this.checkboxCache[currentIdx].selected = true;\r\n      this.checkboxCache[currentIdx].order = this.order++;\r\n    }\r\n    this.lastIdxSelected = currentIdx;\r\n  }\r\n\r\n  dblClickRow(data: any) {\r\n    this.ondlclickRow.emit(data);\r\n  }\r\n\r\n  tapCount = 0;\r\n\r\n  tapHandler($event, data) {\r\n    this.tapCount += 1;\r\n    setTimeout(() => {\r\n      if (this.tapCount === 1) {\r\n        $event.preventDefault();\r\n        this.clickRow(null, data);\r\n      }\r\n      this.tapCount = 0;\r\n    }, 600);\r\n    if (this.tapCount > 1) {\r\n      $event.preventDefault();\r\n      this.dblClickRow(data);\r\n    }\r\n\r\n  }\r\n\r\n  clickBooleanCell(data: any, id: any, field: Field, index: number, $event: null): void {\r\n    if ($event) {\r\n      this.preventDefault($event);\r\n    }\r\n    if (this.inLineEdit && field.editable) {\r\n      if (data[field.property] === null || data[field.property] === undefined) {\r\n        data[field.property] = true;\r\n      } else {\r\n        data[field.property] = (data[field.property] === false || data[field.property] === 'false');\r\n      }\r\n      this.endEditModeNgModel(index, data, field.property);\r\n    }\r\n  }\r\n\r\n  emitOnEditEvent() {\r\n    if (this.rowOnEdition >= 0) {\r\n      this.data[this.rowOnEdition].cmacsEditedProp = this.property;\r\n      this.onedit.emit(this.data[this.rowOnEdition]);\r\n      this.rowOnEdition = -1;\r\n      return;\r\n    }\r\n    if (this.nodeOnEdition) {\r\n      this.nodeOnEdition.cmacsEditedProp = this.property;\r\n      this.onedit.emit(this.nodeOnEdition);\r\n      this.nodeOnEdition = null;\r\n    }\r\n  }\r\n\r\n  getClassMap(field: Field) {\r\n    return {\r\n      [`cmacs-compact-table-logs-header-th`]: this.logs,\r\n      [`cmacs-compact-table-logs-header-th-font`]: this.logs,\r\n      [`${field.ngClass}`]: field.ngClass && field.ngClass.length\r\n    };\r\n  }\r\n\r\n  getMaxWidth(field: Field, item: any, i: number) {\r\n\r\n    if (this.expandable) {\r\n      if (item.children && !i) {\r\n        return this.inLineEdit ? `calc(100% - 17px)` : `calc(100% - ${this.getMaxWidthFieldViewMode(field, i)})`;\r\n      } else {\r\n        return this.inLineEdit ? `calc(100% - 17px)` : `calc(100% - ${this.getMaxWidthFieldViewMode(field, i)})`;\r\n      }\r\n    }\r\n\r\n    return this.inLineEdit ? `calc(100% - 17px)` : `calc(100% - ${this.getMaxWidthFieldViewMode(field, i)})`;\r\n  }\r\n\r\n  getMaxWidthFieldViewMode(field: Field, i: number) {\r\n    if (field.editTemplate === TemplateType.Select ||\r\n      field.editTemplate === TemplateType.Date ||\r\n      field.editTemplate === TemplateType.Time ||\r\n      field.editTemplate === TemplateType.Number) {\r\n      return `18px`;\r\n    }\r\n    return '0px';\r\n  }\r\n\r\n  getStickyWidth(position) {\r\n    if (!this.scroll.x) {\r\n      return null;\r\n    }\r\n    let width = 0;\r\n    if (position === 'smartTable') {\r\n      return width + 'px';\r\n    }\r\n    if (position === 'draggable') {\r\n      width = this.smartTable ? 40 : 0;\r\n      return width + 'px';\r\n    }\r\n    if (position === 'checkboxSelect') {\r\n      if (this.smartTable) {\r\n        width += 40;\r\n      }\r\n      if (this.draggable) {\r\n        width += 40;\r\n      }\r\n      return width + 'px';\r\n    }\r\n  }\r\n\r\n  getStickyWidthRight(position) {\r\n    if (!this.scroll.x) {\r\n      return null;\r\n    }\r\n    let width = 0;\r\n    if (position === 'smartTable') {\r\n      return width + 'px';\r\n    }\r\n    if (this.extra) {\r\n      if (this.smartTable) {\r\n        width += 40;\r\n      }\r\n      if (position === 'extra') {\r\n        return width + 'px';\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n","import {\r\n  Component, EventEmitter, Input, Output,\r\n  ViewEncapsulation, ViewChild, ChangeDetectorRef\r\n} from '@angular/core';\r\nimport {FormBuilder, FormGroup, Validators} from \"@angular/forms\";\r\nimport { SignaturePad } from 'angular2-signaturepad/signature-pad';\r\nimport {UploadFile} from \"ng-zorro-antd\";\r\nimport {CmacsMessageService} from \"../cmacs-message/cmacs-message.service\";\r\nimport { Object } from 'core-js';\r\n\r\nexport const SIGNATURE_LOCALIZATION = {\r\n  'Click here to sign': 'Click here to sign',\r\n  'Sign to Complete': 'Sign to Complete',\r\n  'Cancel': 'Cancel',\r\n  'Verify': 'Verify',\r\n  'Enter Your Name': 'Enter Your Name',\r\n  'Text Here': 'Text Here',\r\n  'Type': 'Type',\r\n  'Draw': 'Draw',\r\n  'Image': 'Image',\r\n  'I, User Full Name, have reviewed and completed this report.': 'I, User Full Name, have reviewed and completed this report.',\r\n  'Select here to save your signature for future use.': 'Select here to save your signature for future use.',\r\n  'Signature': 'Signature',\r\n  'Drag & Drop File Here or': 'Drag & Drop File Here or',\r\n  'Browse Computer': 'Browse Computer'\r\n};\r\n\r\n@Component({\r\n  selector: 'cmacs-signature',\r\n  exportAs: 'cmacsSignature',\r\n  templateUrl: './cmacs-signature.component.html',\r\n  encapsulation: ViewEncapsulation.None,\r\n  preserveWhitespaces: false,\r\n  styleUrls: ['./cmacs-signature.component.css']\r\n})\r\nexport class CmacsSignatureComponent {\r\n\r\n  _isVisible = false;\r\n  formGroup: FormGroup;\r\n  saveSignature = true;\r\n  _i18n = SIGNATURE_LOCALIZATION;\r\n  current = 0;\r\n  files = [];\r\n  _signatureDataUrl = null;\r\n  _currentValue = null;\r\n  _signaturePadOptions: Object = {\r\n    'dotSize': 0.4,\r\n    'canvasWidth': 420,\r\n    'canvasHeight': 126\r\n  };\r\n  _uploadedImageSrc = null;\r\n  _uploadedImageSrcStyle: any = {};\r\n\r\n  @Input() i18n: any = SIGNATURE_LOCALIZATION;\r\n  @Input() signaturePadOptions: Object = {};\r\n  @Input() extendedVersion = false;\r\n\r\n  @Output() oncancel: EventEmitter<boolean> = new EventEmitter<boolean>();\r\n  @Output() onsubmit: EventEmitter<any> = new EventEmitter<any>();\r\n  @ViewChild(SignaturePad) signaturePad: SignaturePad;\r\n  @Output() ondrawend: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n  @Input()\r\n  set currentValue(value: any) {\r\n    this._currentValue = value;\r\n    this.cdr.detectChanges();\r\n  }\r\n\r\n  constructor(private fb: FormBuilder, private cdr: ChangeDetectorRef) {\r\n    this.formGroup = this.fb.group({\r\n      username: ['', [Validators.required]]\r\n    });\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.signaturePad.clear();\r\n  }\r\n\r\n  onResizeStop($event) {\r\n    this._uploadedImageSrcStyle.size = $event.size;\r\n  }\r\n\r\n  onMoveEnd($event) {\r\n    this._uploadedImageSrcStyle.position = $event;\r\n  }\r\n\r\n\r\n  beforeUpload = (file: UploadFile): boolean => {\r\n    this.files = [].concat(file);\r\n    const url: string = (file.name || '') as string;\r\n    if (!url) {\r\n      this.files = [];\r\n      return false;\r\n    }\r\n    const extension = this.extname(url);\r\n\r\n    if (/(webp|svg|png|gif|jpg|jpeg|bmp)$/i.test(extension)) {\r\n      const reader = new FileReader();\r\n      file.linkProps = typeof file.linkProps === 'string' ? JSON.parse(file.linkProps) : file.linkProps;\r\n      reader.onload = () => {\r\n        this._uploadedImageSrc = reader.result as string;\r\n      };\r\n      const blob = file as any;\r\n      reader.readAsDataURL(blob);\r\n    }    \r\n    return false;\r\n  };\r\n\r\n  private extname(url: string): string {\r\n    const temp = url.split('/');\r\n    const filename = temp[temp.length - 1];\r\n    const filenameWithoutSuffix = filename.split(/#|\\?/)[0];\r\n    return (/\\.[^./\\\\]*$/.exec(filenameWithoutSuffix) || [''])[0];\r\n  }\r\n\r\n\r\n  isValid() {\r\n    switch (this.current) {\r\n      case 0:\r\n        return !this.formGroup.valid;\r\n      case 1:\r\n        return !this._signatureDataUrl;\r\n      case 2:\r\n        return !this._uploadedImageSrc;\r\n      default:\r\n        return true;\r\n    }\r\n  }\r\n\r\n  updateCurrent(idx) {\r\n    this.current = idx;\r\n  }\r\n\r\n  drawComplete() {\r\n    if (this.extendedVersion) {\r\n      this._signatureDataUrl = this.signaturePad.toDataURL();\r\n      return;\r\n    }\r\n    this.ondrawend.emit(this.signaturePad.toDataURL());\r\n  }\r\n\r\n  openModal() {\r\n    this._isVisible = true;\r\n  }\r\n\r\n  handleCancel() {\r\n    this._isVisible = false;\r\n    for (const key in this.formGroup.controls) {\r\n      this.formGroup.controls[key].markAsPristine();\r\n      this.formGroup.controls[key].updateValueAndValidity();\r\n    }\r\n    this.formGroup.reset();\r\n    this.saveSignature = true;\r\n    this._signatureDataUrl = null;\r\n    this.signaturePad.clear();\r\n    this.current = 0;\r\n    this._uploadedImageSrc = null;\r\n    this._uploadedImageSrcStyle = {};\r\n    this.files = [];\r\n    this.oncancel.emit(this._isVisible);\r\n  }\r\n\r\n  handleOk() {\r\n    const value: any = {};\r\n    if (this.current === 0) {\r\n      value.saveForFutureUse = this.saveSignature;\r\n      value.userSignature = this.formGroup.get('username')!.value;\r\n      value.signatureType = 'type';\r\n    }\r\n    if (this.current === 1) {\r\n      value.saveForFutureUse = this.saveSignature;\r\n      value.userSignature = this._signatureDataUrl;\r\n      value.signatureType = 'draw';\r\n    }\r\n    if (this.current === 2) {\r\n      value.saveForFutureUse = this.saveSignature;\r\n      value.userSignature = this._uploadedImageSrc;\r\n      value.signatureImgStyle = this._uploadedImageSrcStyle;\r\n      value.signatureType = 'image';\r\n    }\r\n    this._currentValue = value;\r\n    this.onsubmit.emit(value);\r\n    this.handleCancel();\r\n  }\r\n\r\n  checkPressedKeys($event) {\r\n    if ($event.which === 90 && $event.ctrlKey) {\r\n      const data = this.signaturePad.toData();\r\n      if (data) {\r\n        data.pop();\r\n        this.signaturePad.fromData(data);\r\n        this._signatureDataUrl = this.signaturePad.toDataURL();\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n","import {\r\n  Component,\r\n  OnInit,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  ChangeDetectionStrategy,\r\n  TemplateRef,\r\n  OnChanges,\r\n  SimpleChanges\r\n} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'cmacs-section',\r\n  templateUrl: 'cmacs-section.component.html',\r\n  styleUrls: ['cmacs-section.component.css'],\r\n  preserveWhitespaces: false,\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\n\r\nexport class CmacsSectionComponent implements OnInit, OnChanges {\r\n\r\n  @Input() extra: string | TemplateRef<void>;\r\n  @Input() widgetSpan = '24';\r\n  @Input() title = '';\r\n  @Input() titleIcon!: string;\r\n  @Input() showCollapse = true;\r\n  @Input() extraData!: any;\r\n  @Input() collapsed = false;\r\n  @Input() validate = false;\r\n\r\n  @Output() onbeforecollapse: EventEmitter<any> = new EventEmitter<any>();\r\n  @Output() oncollapse: EventEmitter<any> = new EventEmitter<any>();\r\n  @Output() onbeforeexpand: EventEmitter<any> = new EventEmitter<any>();\r\n  @Output() onexpand: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  collapseSection(): void {\r\n    if (!this.validate) {\r\n      this.collapsed = !this.collapsed;\r\n      this.triggerCollapseEvents(false);\r\n    } else {\r\n      this.triggerCollapseEvents(true);\r\n    }\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes.collapsed && changes.collapsed.previousValue !== undefined) {\r\n      this.triggerCollapseEvents(false);\r\n    }\r\n\r\n  }\r\n\r\n  triggerCollapseEvents(before: boolean) {\r\n    if (before) {\r\n      if (this.collapsed) {\r\n        this.onbeforeexpand.emit();\r\n      } else {\r\n        this.onbeforecollapse.emit();\r\n      }\r\n    } else if (this.collapsed) {\r\n      this.oncollapse.emit();\r\n    } else {\r\n      this.onexpand.emit();\r\n    }\r\n\r\n\r\n  }\r\n}\r\n","import { AnimationEvent } from '@angular/animations';\r\nimport {\r\n  CdkConnectedOverlay,\r\n  CdkOverlayOrigin,\r\n  ConnectedOverlayPositionChange,\r\n  ConnectionPositionPair\r\n} from '@angular/cdk/overlay';\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ContentChild,\r\n  EventEmitter,\r\n  Host,\r\n  Input,\r\n  OnChanges,\r\n  Optional,\r\n  Output,\r\n  TemplateRef,\r\n  ViewChild,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\n\r\nimport {\r\n  getPlacementName,\r\n  isNotNil,\r\n  toBoolean,\r\n  zoomBigMotion,\r\n  DEFAULT_TOOLTIP_POSITIONS,\r\n  NzNoAnimationDirective,\r\n  POSITION_MAP\r\n} from 'ng-zorro-antd/core';\r\n\r\n@Component({\r\n  selector: 'cmacs-tooltip',\r\n  exportAs: 'cmacsTooltipComponent',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  animations: [zoomBigMotion],\r\n  templateUrl: './cmacs-tooltip.component.html',\r\n  preserveWhitespaces: false,\r\n  styleUrls: ['./cmacs-tooltip.component.css'],\r\n  styles: [\r\n    `\r\n      .ant-tooltip {\r\n        position: relative;\r\n      }\r\n    `\r\n  ]\r\n})\r\nexport class CmacsTooltipComponent implements OnChanges {\r\n  _hasBackdrop = false;\r\n  _prefix = 'ant-tooltip-placement';\r\n  _positions: ConnectionPositionPair[] = [...DEFAULT_TOOLTIP_POSITIONS];\r\n  _classMap = {};\r\n  _placement = 'top';\r\n  _trigger = 'hover';\r\n  overlayOrigin: CdkOverlayOrigin;\r\n  visibleSource = new BehaviorSubject<boolean>(false);\r\n  visible$: Observable<boolean> = this.visibleSource.asObservable();\r\n  @ViewChild('overlay') overlay: CdkConnectedOverlay;\r\n  @Input() @ContentChild('nzTemplate') title: string | TemplateRef<void> | null;\r\n  @Input() overlayClassName = '';\r\n  @Input() overlayStyle: { [key: string]: string } = {};\r\n  @Input() mouseEnterDelay = 0.15; // second\r\n  @Input() mouseLeaveDelay = 0.1; // second\r\n\r\n  @Input()\r\n  set cmacsVisible(value: boolean) {\r\n    const visible = toBoolean(value);\r\n    if (this.visibleSource.value !== visible) {\r\n      this.visibleSource.next(visible);\r\n      this.cmacsVisibleChange.emit(visible);\r\n    }\r\n  }\r\n\r\n  get cmacsVisible(): boolean {\r\n    return this.visibleSource.value;\r\n  }\r\n\r\n  @Input()\r\n  set trigger(value: string) {\r\n    this._trigger = value;\r\n    this._hasBackdrop = this._trigger === 'click';\r\n  }\r\n\r\n  get trigger(): string {\r\n    return this._trigger;\r\n  }\r\n\r\n  @Input()\r\n  set placement(value: string) {\r\n    if (value !== this._placement) {\r\n      this._placement = value;\r\n      this._positions = [POSITION_MAP[this.placement], ...this._positions];\r\n    }\r\n  }\r\n\r\n  get placement(): string {\r\n    return this._placement;\r\n  }\r\n\r\n  @Output() readonly cmacsVisibleChange = new EventEmitter<boolean>();\r\n\r\n  [property: string]: any; // tslint:disable-line:no-any\r\n\r\n  constructor(public cdr: ChangeDetectorRef, @Host() @Optional() public noAnimation?: NzNoAnimationDirective) {}\r\n\r\n  ngOnChanges(): void {\r\n    Promise.resolve().then(() => {\r\n      this.updatePosition();\r\n    });\r\n  }\r\n\r\n  // Manually force updating current overlay's position\r\n  updatePosition(): void {\r\n    if (this.overlay && this.overlay.overlayRef) {\r\n      this.overlay.overlayRef.updatePosition();\r\n    }\r\n  }\r\n\r\n  onPositionChange(position: ConnectedOverlayPositionChange): void {\r\n    this.placement = getPlacementName(position)!;\r\n    this.setClassMap();\r\n    this.cdr.detectChanges(); // TODO: performance?\r\n  }\r\n\r\n  show(): void {\r\n    if (!this.isContentEmpty()) {\r\n      this.cmacsVisible = true;\r\n    }\r\n  }\r\n\r\n  hide(): void {\r\n    this.cmacsVisible = false;\r\n  }\r\n\r\n  _afterVisibilityAnimation(e: AnimationEvent): void {\r\n    if (e.toState === 'false' && !this.cmacsVisible) {\r\n      this.cmacsVisibleChange.emit(false);\r\n    }\r\n    if (e.toState === 'true' && this.cmacsVisible) {\r\n      this.cmacsVisibleChange.emit(true);\r\n    }\r\n  }\r\n\r\n  setClassMap(): void {\r\n    this._classMap = {\r\n      [this.overlayClassName]: true,\r\n      [`${this._prefix}-${this._placement}`]: true\r\n    };\r\n  }\r\n\r\n  setOverlayOrigin(origin: CdkOverlayOrigin): void {\r\n    this.overlayOrigin = origin;\r\n  }\r\n\r\n  protected isContentEmpty(): boolean {\r\n    return this.title instanceof TemplateRef ? false : this.title === '' || !isNotNil(this.title);\r\n  }\r\n}\r\n","import {\r\n  AfterViewInit,\r\n  ComponentFactory,\r\n  ComponentFactoryResolver,\r\n  Directive,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Host,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  OnInit,\r\n  Optional,\r\n  Output,\r\n  Renderer2,\r\n  SimpleChanges,\r\n  TemplateRef,\r\n  ViewContainerRef\r\n} from '@angular/core';\r\n\r\nimport { Subscription } from 'rxjs';\r\nimport { distinctUntilChanged } from 'rxjs/operators';\r\n\r\nimport { isNotNil, NzNoAnimationDirective } from 'ng-zorro-antd/core';\r\n\r\nimport { CmacsTooltipComponent } from './cmacs-tooltip.component';\r\n\r\n@Directive({\r\n  selector: '[cmacs-tooltip]',\r\n  exportAs: 'cmacsTooltip',\r\n  host: {\r\n    '[class.ant-tooltip-open]': 'isTooltipOpen'\r\n  }\r\n})\r\nexport class CmacsTooltipDirective implements AfterViewInit, OnChanges, OnInit, OnDestroy {\r\n  // [NOTE] Here hard coded, and nzTitle used only under NzTooltipDirective currently.\r\n  isTooltipOpen: boolean = false;\r\n  isDynamicTooltip = false; // Indicate whether current tooltip is dynamic created\r\n  delayTimer: number | null; // Timer for delay enter/leave\r\n  visible: boolean;\r\n  factory: ComponentFactory<CmacsTooltipComponent> = this.resolver.resolveComponentFactory(CmacsTooltipComponent);\r\n\r\n  /** Names of properties that should be proxy to child component. */\r\n  protected needProxyProperties = [\r\n    'title',\r\n    'content',\r\n    'overlayClassName',\r\n    'overlayStyle',\r\n    'mouseEnterDelay',\r\n    'mouseLeaveDelay',\r\n    'cmacsVisible',\r\n    'trigger',\r\n    'placement'\r\n  ];\r\n\r\n  protected subs_ = new Subscription();\r\n\r\n  @Output() readonly cmacsVisibleChange = new EventEmitter<boolean>();\r\n\r\n  @Input('cmacs-tooltip') title: string | TemplateRef<void> | null;\r\n\r\n  @Input('title') set setTitle(title: string | TemplateRef<void> | null) {\r\n    this.title = title;\r\n  }\r\n\r\n  @Input() content: string | TemplateRef<void>;\r\n  @Input() mouseEnterDelay: number;\r\n  @Input() mouseLeaveDelay: number;\r\n  @Input() overlayClassName: string;\r\n  @Input() overlayStyle: { [key: string]: string };\r\n  @Input() trigger: string;\r\n  @Input() cmacsVisible: boolean;\r\n  @Input() placement: string;\r\n\r\n  [property: string]: any; // tslint:disable-line:no-any\r\n\r\n  constructor(\r\n    public elementRef: ElementRef,\r\n    public hostView: ViewContainerRef,\r\n    public resolver: ComponentFactoryResolver,\r\n    public renderer: Renderer2,\r\n    @Optional() public tooltip: CmacsTooltipComponent,\r\n    @Host() @Optional() public noAnimation?: NzNoAnimationDirective\r\n  ) {}\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    this.updateProxies(changes);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    // Support faster tooltip mode: <a nz-tooltip=\"xxx\"></a>. [NOTE] Used only under NzTooltipDirective currently.\r\n    if (!this.tooltip) {\r\n      const tooltipComponent = this.hostView.createComponent(this.factory);\r\n      this.tooltip = tooltipComponent.instance;\r\n      this.tooltip.noAnimation = this.noAnimation;\r\n      // Remove element when use directive https://github.com/NG-ZORRO/ng-zorro-antd/issues/1967\r\n      this.renderer.removeChild(\r\n        this.renderer.parentNode(this.elementRef.nativeElement),\r\n        tooltipComponent.location.nativeElement\r\n      );\r\n      this.isDynamicTooltip = true;\r\n      this.needProxyProperties.forEach(property => this.updateCompValue(property, this[property]));\r\n      const visible_ = this.tooltip.cmacsVisibleChange.pipe(distinctUntilChanged()).subscribe(data => {\r\n        this.visible = data;\r\n        this.cmacsVisibleChange.emit(data);\r\n      });\r\n      this.subs_.add(visible_);\r\n    }\r\n    this.tooltip.setOverlayOrigin(this);\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    if (this.tooltip.trigger === 'hover') {\r\n      let overlayElement: HTMLElement;\r\n      this.renderer.listen(this.elementRef.nativeElement, 'mouseenter', () =>\r\n        this.delayEnterLeave(true, true, this.tooltip.mouseEnterDelay)\r\n      );\r\n      this.renderer.listen(this.elementRef.nativeElement, 'mouseleave', () => {\r\n        this.delayEnterLeave(true, false, this.tooltip.mouseLeaveDelay);\r\n        if (this.tooltip.overlay.overlayRef && !overlayElement) {\r\n          // NOTE: we bind events under \"mouseleave\" due to the overlayRef is only created after the overlay was completely shown up\r\n          overlayElement = this.tooltip.overlay.overlayRef.overlayElement;\r\n          this.renderer.listen(overlayElement, 'mouseenter', () => this.delayEnterLeave(false, true));\r\n          this.renderer.listen(overlayElement, 'mouseleave', () => this.delayEnterLeave(false, false));\r\n        }\r\n      });\r\n    } else if (this.tooltip.trigger === 'focus') {\r\n      this.renderer.listen(this.elementRef.nativeElement, 'focus', () => this.show());\r\n      this.renderer.listen(this.elementRef.nativeElement, 'blur', () => this.hide());\r\n    } else if (this.tooltip.trigger === 'click') {\r\n      this.renderer.listen(this.elementRef.nativeElement, 'click', e => {\r\n        e.preventDefault();\r\n        this.show();\r\n      });\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.subs_.unsubscribe();\r\n  }\r\n\r\n  // tslint:disable-next-line:no-any\r\n  protected updateCompValue(key: string, value: any): void {\r\n    if (this.isDynamicTooltip && isNotNil(value)) {\r\n      this.tooltip[key] = value;\r\n    }\r\n  }\r\n\r\n  private show(): void {\r\n    this.tooltip.show();\r\n    this.isTooltipOpen = true;\r\n  }\r\n\r\n  private hide(): void {\r\n    this.tooltip.hide();\r\n    this.isTooltipOpen = false;\r\n  }\r\n\r\n  private delayEnterLeave(isOrigin: boolean, isEnter: boolean, delay: number = -1): void {\r\n    if (this.delayTimer) {\r\n      // Clear timer during the delay time\r\n      clearTimeout(this.delayTimer);\r\n      this.delayTimer = null;\r\n    } else if (delay > 0) {\r\n      this.delayTimer = setTimeout(() => {\r\n        this.delayTimer = null;\r\n        isEnter ? this.show() : this.hide();\r\n      }, delay * 1000);\r\n    } else {\r\n      isEnter && isOrigin ? this.show() : this.hide(); // [Compatible] The \"isOrigin\" is used due to the tooltip will not hide immediately (may caused by the fade-out animation)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Set inputs of child components when this component's inputs change.\r\n   * @param changes\r\n   */\r\n  private updateProxies(changes: SimpleChanges): void {\r\n    if (this.tooltip) {\r\n      Object.keys(changes).forEach(key => {\r\n        const change = changes[key];\r\n        if (change) {\r\n          this.updateCompValue(key, change.currentValue);\r\n        }\r\n      });\r\n\r\n      if (changes.setTitle) {\r\n        this.title = changes.setTitle.currentValue;\r\n        this.updateCompValue('title', changes.setTitle.currentValue);\r\n      }\r\n\r\n      this.tooltip.cdr.markForCheck(); // Manually trigger change detection of component.\r\n    }\r\n  }\r\n}\r\n","import {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ContentChild,\r\n  Host,\r\n  Input,\r\n  Optional,\r\n  TemplateRef,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\n\r\nimport { isNotNil, zoomBigMotion, NzNoAnimationDirective } from 'ng-zorro-antd/core';\r\nimport {CmacsTooltipComponent } from \"../cmacs-tooltip/cmacs-tooltip.component\";\r\n\r\n@Component({\r\n  selector: 'cmacs-popover',\r\n  exportAs: 'cmacsPopoverComponent',\r\n  animations: [zoomBigMotion],\r\n  templateUrl: './cmacs-popover.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  preserveWhitespaces: false,\r\n  styleUrls: ['./cmacs-popover.component.css'],\r\n  styles: [\r\n    `\r\n      .ant-popover {\r\n        position: relative;\r\n      }\r\n    `\r\n  ]\r\n})\r\nexport class CmacsPopoverComponent extends CmacsTooltipComponent {\r\n  _prefix = 'ant-popover-placement';\r\n\r\n  /** Used to remove NzToolTipComponent @ContentChild('nzTemplate') */\r\n  @Input() @ContentChild('neverUsedTemplate') title: string | TemplateRef<void>;\r\n  @Input() @ContentChild('nzTemplate') content: string | TemplateRef<void>;\r\n\r\n  constructor(cdr: ChangeDetectorRef, @Host() @Optional() public noAnimation?: NzNoAnimationDirective) {\r\n    super(cdr, noAnimation);\r\n  }\r\n\r\n  protected isContentEmpty(): boolean {\r\n    const isTitleEmpty = this.title instanceof TemplateRef ? false : this.title === '' || !isNotNil(this.title);\r\n    const isContentEmpty =\r\n      this.content instanceof TemplateRef ? false : this.content === '' || !isNotNil(this.content);\r\n    return isTitleEmpty && isContentEmpty;\r\n  }\r\n}\r\n","import {\r\n  ComponentFactory,\r\n  ComponentFactoryResolver,\r\n  Directive,\r\n  ElementRef,\r\n  Host,\r\n  Optional,\r\n  Renderer2,\r\n  ViewContainerRef\r\n} from '@angular/core';\r\n\r\nimport { NzNoAnimationDirective } from 'ng-zorro-antd/core';\r\n\r\nimport {CmacsPopoverComponent} from \"./cmacs-popover.component\";\r\nimport {CmacsTooltipDirective} from \"../cmacs-tooltip/cmacs-tooltip.directive\";\r\n\r\n@Directive({\r\n  selector: '[cmacs-popover]',\r\n  exportAs: 'cmacsPopover',\r\n  host: {\r\n    '[class.ant-popover-open]': 'isTooltipOpen'\r\n  }\r\n})\r\nexport class CmacsPopoverDirective extends CmacsTooltipDirective {\r\n  factory: ComponentFactory<CmacsPopoverComponent> = this.resolver.resolveComponentFactory(CmacsPopoverComponent);\r\n\r\n  constructor(\r\n    elementRef: ElementRef,\r\n    hostView: ViewContainerRef,\r\n    resolver: ComponentFactoryResolver,\r\n    renderer: Renderer2,\r\n    @Optional() tooltip: CmacsPopoverComponent,\r\n    @Host() @Optional() public noAnimation?: NzNoAnimationDirective\r\n  ) {\r\n    super(elementRef, hostView, resolver, renderer, tooltip, noAnimation);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\nimport { NzTreeBaseService } from 'ng-zorro-antd/core';\r\n\r\n@Injectable()\r\nexport class CmacsTreeSelectService extends NzTreeBaseService {}\r\n","import { BACKSPACE } from '@angular/cdk/keycodes';\r\nimport { CdkConnectedOverlay, CdkOverlayOrigin, ConnectedOverlayPositionChange } from '@angular/cdk/overlay';\r\nimport {\r\n  forwardRef,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Host,\r\n  Injector,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  OnInit,\r\n  Optional,\r\n  Output,\r\n  Renderer2,\r\n  Self,\r\n  SimpleChanges,\r\n  TemplateRef,\r\n  ViewChild, AfterViewInit\r\n} from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\n\r\nimport { merge, of as observableOf, Subscription } from 'rxjs';\r\nimport { filter, tap } from 'rxjs/operators';\r\n\r\nimport {\r\n  isNotNil,\r\n  slideMotion,\r\n  zoomMotion,\r\n  InputBoolean,\r\n  NzFormatEmitEvent,\r\n  NzNoAnimationDirective,\r\n  NzSizeLDSType,\r\n  NzTreeBase,\r\n  NzTreeBaseService,\r\n  NzTreeHigherOrderServiceToken,\r\n  NzTreeNode,\r\n  NzTreeNodeOptions\r\n} from 'ng-zorro-antd/core';\r\nimport { NzTreeComponent } from 'ng-zorro-antd/tree';\r\n\r\nimport { CmacsTreeSelectService } from './cmacs-tree-select.service';\r\nimport {CmacsTreeComponent} from \"../cmacs-tree/cmacs-tree.component\";\r\n\r\nexport function higherOrderServiceFactory(injector: Injector): NzTreeBaseService {\r\n  return injector.get(CmacsTreeSelectService);\r\n}\r\n\r\n@Component({\r\n  selector: 'cmacs-tree-select',\r\n  exportAs: 'cmacsTreeSelect',\r\n  animations: [slideMotion, zoomMotion],\r\n  templateUrl: './cmacs-tree-select.component.html',\r\n  styleUrls: ['./cmacs-tree-select.component.css'],\r\n  providers: [\r\n    CmacsTreeSelectService,\r\n    {\r\n      provide: NzTreeHigherOrderServiceToken,\r\n      useFactory: higherOrderServiceFactory,\r\n      deps: [[new Self(), Injector]]\r\n    },\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: forwardRef(() => CmacsTreeSelectComponent),\r\n      multi: true\r\n    }\r\n  ],\r\n  host: {\r\n    '[class.ant-select-lg]': 'size===\"large\"',\r\n    '[class.ant-select-sm]': 'size===\"small\"',\r\n    '[class.ant-select-enabled]': '!disabled',\r\n    '[class.ant-select-disabled]': 'disabled',\r\n    '[class.ant-select-allow-clear]': 'allowClear',\r\n    '[class.ant-select-open]': 'open && !cmacsOpen',\r\n    '(click)': 'trigger()'\r\n  },\r\n  styles: [\r\n    `\r\n      .ant-select-dropdown {\r\n        top: 100%;\r\n        left: 0;\r\n        position: relative;\r\n        width: 100%;\r\n        margin-top: 4px;\r\n        margin-bottom: 4px;\r\n        overflow: auto;\r\n        scrollbar-color: #cfd3d9 #ffffff;\r\n        scrollbar-width: thin;\r\n      }\r\n\r\n      cmacs-tree-select {\r\n        overflow: hidden;\r\n      }\r\n    `\r\n  ]\r\n})\r\nexport class CmacsTreeSelectComponent extends NzTreeBase implements ControlValueAccessor, OnInit, OnDestroy, OnChanges, AfterViewInit {\r\n  @Input() @InputBoolean() allowClear = true;\r\n  @Input() @InputBoolean() showExpand = true;\r\n  @Input() @InputBoolean() showLine = false;\r\n  @Input() expandedIcon: TemplateRef<{ $implicit: NzTreeNode }>;\r\n  @Input() @InputBoolean() dropdownMatchSelectWidth = true;\r\n  @Input() @InputBoolean() checkable = false;\r\n  @Input() @InputBoolean() showSearch = false;\r\n  @Input() @InputBoolean() disabled = false;\r\n  @Input() @InputBoolean() asyncData = false;\r\n  @Input() @InputBoolean() multiple = false;\r\n  @Input() @InputBoolean() defaultExpandAll = false;\r\n  @Input() @InputBoolean() cmacsOpen = false;\r\n  @Input() @InputBoolean() inlineEdit = false;\r\n  @Input() @InputBoolean() radio = false;\r\n  @Input() notFoundContent: string;\r\n  @Input() nodes: Array<NzTreeNode | NzTreeNodeOptions> = [];\r\n  @Input() open = false;\r\n  @Input() size: NzSizeLDSType = 'default';\r\n  @Input() placeHolder = '';\r\n  @Input() dropdownStyle: { [key: string]: string };\r\n  @Input() defaultExpandedKeys: string[] = [];\r\n  @Input() displayWith: (node: NzTreeNode) => string | undefined = (node: NzTreeNode) => node.title;\r\n  @Input() maxTagCount: number;\r\n  @Input() maxTagPlaceholder: TemplateRef<{ $implicit: NzTreeNode[] }>;\r\n  @Output() readonly openChange = new EventEmitter<boolean>();\r\n  @Output() readonly cleared = new EventEmitter<void>();\r\n  @Output() readonly removed = new EventEmitter<NzTreeNode>();\r\n  @Output() readonly expandChange = new EventEmitter<NzFormatEmitEvent>();\r\n  @Output() readonly treeClick = new EventEmitter<NzFormatEmitEvent>();\r\n  @Output() readonly treeCheckBoxChange = new EventEmitter<NzFormatEmitEvent>();\r\n  @Output() onaddchild: EventEmitter<NzTreeNode> = new EventEmitter<NzTreeNode>();\r\n  @Output() onaddparent: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n  @ViewChild('inputElement') inputElement: ElementRef;\r\n  @ViewChild('treeRef') treeRef: CmacsTreeComponent;\r\n  @ViewChild(CdkOverlayOrigin) cdkOverlayOrigin: CdkOverlayOrigin;\r\n  @ViewChild(CdkConnectedOverlay) cdkConnectedOverlay: CdkConnectedOverlay;\r\n\r\n  triggerWidth: number;\r\n  isComposing = false;\r\n  isDestroy = true;\r\n  isNotFound = false;\r\n  inputValue = '';\r\n  dropDownPosition: 'top' | 'center' | 'bottom' = 'bottom';\r\n  selectionChangeSubscription: Subscription;\r\n  selectedNodes: NzTreeNode[] = [];\r\n  value: string[] = [];\r\n\r\n  onChange: (value: string[] | string | null) => void;\r\n  onTouched: () => void = () => null;\r\n\r\n  onaddparentevt($event: Event) {\r\n    $event.preventDefault();\r\n    $event.stopImmediatePropagation();\r\n    this.onaddparent.emit();\r\n  }\r\n\r\n  addParent(node: any) {\r\n    this.treeRef.addParent(node);\r\n  }\r\n\r\n  get placeHolderDisplay(): string {\r\n    return this.inputValue || this.isComposing || this.selectedNodes.length ? 'none' : 'block';\r\n  }\r\n\r\n  get searchDisplay(): string {\r\n    return this.open ? 'block' : 'none';\r\n  }\r\n\r\n  get isMultiple(): boolean {\r\n    return this.multiple || this.checkable;\r\n  }\r\n\r\n  get selectedValueDisplay(): { [key: string]: string } {\r\n    let showSelectedValue = false;\r\n    let opacity = 1;\r\n    if (!this.showSearch) {\r\n      showSelectedValue = true;\r\n    } else {\r\n      if (this.open) {\r\n        showSelectedValue = !(this.inputValue || this.isComposing);\r\n        if (showSelectedValue) {\r\n          opacity = 0.4;\r\n        }\r\n      } else {\r\n        showSelectedValue = true;\r\n      }\r\n    }\r\n    return {\r\n      display: showSelectedValue ? 'block' : 'none',\r\n      opacity: `${opacity}`\r\n    };\r\n  }\r\n\r\n  constructor(\r\n    nzTreeService: CmacsTreeSelectService,\r\n    private renderer: Renderer2,\r\n    private cdr: ChangeDetectorRef,\r\n    private elementRef: ElementRef,\r\n    @Host() @Optional() public noAnimation?: NzNoAnimationDirective\r\n  ) {\r\n    super(nzTreeService);\r\n    this.renderer.addClass(this.elementRef.nativeElement, 'ant-select');\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.isDestroy = false;\r\n    this.selectionChangeSubscription = this.subscribeSelectionChange();\r\n    if (this.inlineEdit) {\r\n      this.showExpand = false;\r\n    }\r\n    if (this.checkable && this.cmacsOpen){\r\n      this.defaultExpandAll = true;\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    if (this.cmacsOpen && this.treeRef) {\r\n      this.treeRef.searchValue = '';\r\n    }\r\n  }\r\n\r\n  onaddchildevt($event: NzTreeNode)  {\r\n    this.onaddchild.emit($event);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.isDestroy = true;\r\n    this.closeDropDown();\r\n    this.selectionChangeSubscription.unsubscribe();\r\n  }\r\n\r\n  setDisabledState(isDisabled: boolean): void {\r\n    this.disabled = isDisabled;\r\n    this.closeDropDown();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes.hasOwnProperty('nodes')) {\r\n      this.updateSelectedNodes(true);\r\n    }\r\n  }\r\n\r\n  writeValue(value: string[] | string): void {\r\n    if (isNotNil(value)) {\r\n      if (this.isMultiple && Array.isArray(value)) {\r\n        this.value = value;\r\n      } else {\r\n        this.value = [value as string];\r\n      }\r\n      this.updateSelectedNodes(true);\r\n    } else {\r\n      this.value = [];\r\n      this.selectedNodes.forEach(node => {\r\n        this.removeSelected(node, false);\r\n      });\r\n      this.selectedNodes = [];\r\n    }\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  registerOnChange(fn: (_: string[] | string | null) => void): void {\r\n    this.onChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: () => void): void {\r\n    this.onTouched = fn;\r\n  }\r\n\r\n  trigger(): void {\r\n    if (this.disabled || (!this.disabled && this.open)) {\r\n      this.closeDropDown();\r\n    } else {\r\n      this.openDropdown();\r\n      if (this.showSearch || this.isMultiple) {\r\n        this.focusOnInput();\r\n      }\r\n    }\r\n  }\r\n\r\n  openDropdown(): void {\r\n    if (!this.disabled) {\r\n      this.open = true;\r\n      this.openChange.emit(this.open);\r\n      this.updateCdkConnectedOverlayStatus();\r\n      this.updatePosition();\r\n    }\r\n  }\r\n\r\n  closeDropDown(): void {\r\n    this.onTouched();\r\n    this.open = false;\r\n    this.openChange.emit(this.open);\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  onKeyDownInput(e: KeyboardEvent): void {\r\n    const keyCode = e.keyCode;\r\n    const eventTarget = e.target as HTMLInputElement;\r\n    if (this.isMultiple && !eventTarget.value && keyCode === BACKSPACE) {\r\n      e.preventDefault();\r\n      if (this.selectedNodes.length) {\r\n        const removeNode = this.selectedNodes[this.selectedNodes.length - 1];\r\n        this.removeSelected(removeNode);\r\n        this.nzTreeService!.triggerEventChange$!.next({\r\n          eventName: 'removeSelect',\r\n          node: removeNode\r\n        });\r\n      }\r\n      if (this.cmacsOpen) {\r\n        this.treeRef.searchValue = '';\r\n      }\r\n    }\r\n  }\r\n\r\n  onExpandedKeysChange(value: NzFormatEmitEvent): void {\r\n    this.expandChange.emit(value);\r\n    this.defaultExpandedKeys = [...value.keys!];\r\n  }\r\n\r\n  setInputValue(value: string): void {\r\n    this.inputValue = value;\r\n    this.updateInputWidth();\r\n    this.updatePosition();\r\n  }\r\n\r\n  removeSelected(node: NzTreeNode, emit: boolean = true, event?: MouseEvent): void {\r\n    node.isSelected = false;\r\n    node.isChecked = false;\r\n    if (this.checkable) {\r\n      this.nzTreeService.conduct(node);\r\n    } else {\r\n      this.nzTreeService.setSelectedNodeList(node, this.multiple);\r\n    }\r\n\r\n    if (emit) {\r\n      this.removed.emit(node);\r\n    }\r\n\r\n    // Do not trigger the popup\r\n    if (event && event.stopPropagation) {\r\n      event.stopPropagation();\r\n    }\r\n  }\r\n\r\n  focusOnInput(): void {\r\n    setTimeout(() => {\r\n      if (this.inputElement) {\r\n        this.inputElement.nativeElement.focus();\r\n      }\r\n    });\r\n  }\r\n\r\n  subscribeSelectionChange(): Subscription {\r\n    return merge(\r\n      this.treeClick.pipe(\r\n        tap((event: NzFormatEmitEvent) => {\r\n          const node = event.node!;\r\n          if (this.radio  && this.checkable) {\r\n            const nodes = this.coerceTreeNodes(this.nodes);\r\n            this.nzTreeService.calcCheckedKeys([], nodes, true);\r\n            node.isChecked = !node.isChecked;\r\n            this.nzTreeService.calcCheckedKeys([node.key], nodes, true);\r\n            this.updateSelectedNodes();\r\n          } else if (this.checkable && !node.isDisabled && !node.isDisableCheckbox) {\r\n            node.isChecked = !node.isChecked;\r\n            this.nzTreeService.conduct(node);\r\n          }\r\n          if (this.checkable) {\r\n            node.isSelected = false;\r\n          }\r\n        }),\r\n        filter((event: NzFormatEmitEvent) => {\r\n          const node = event.node!;\r\n          return this.checkable ? !node.isDisabled && !node.isDisableCheckbox : !node.isDisabled;\r\n        })\r\n      ),\r\n      this.checkable ? this.treeCheckBoxChange : observableOf(),\r\n      this.cleared,\r\n      this.removed\r\n    ).subscribe(() => {\r\n      this.updateSelectedNodes();\r\n      const value = this.selectedNodes.map(node => node.key!);\r\n      this.value = [...value];\r\n      if (this.showSearch || this.isMultiple) {\r\n        this.inputValue = '';\r\n        this.isNotFound = false;\r\n      }\r\n      if (this.isMultiple) {\r\n        this.onChange(value);\r\n        this.focusOnInput();\r\n        this.updatePosition();\r\n      } else {\r\n        this.closeDropDown();\r\n        this.onChange(value.length ? value[0] : null);\r\n      }\r\n    });\r\n  }\r\n\r\n  updateSelectedNodes(init: boolean = false): void {\r\n    if (init) {\r\n      const nodes = this.coerceTreeNodes(this.nodes);\r\n      this.nzTreeService.isMultiple = this.isMultiple;\r\n      this.nzTreeService.initTree(nodes);\r\n      if (this.checkable && !this.radio) {\r\n        this.nzTreeService.calcCheckedKeys(this.value, nodes);\r\n      } else if (!this.radio) {\r\n        this.nzTreeService.calcSelectedKeys(this.value, nodes, this.isMultiple);\r\n      } else {\r\n        this.nzTreeService.calcCheckedKeys(this.value, nodes, true);\r\n      }\r\n    }\r\n\r\n    if (this.checkable && !this.radio) {\r\n      this.selectedNodes = [...this.getCheckedNodeList()];\r\n    } else if (!this.radio) {\r\n      this.selectedNodes = [...this.getSelectedNodeList()];\r\n    } else {\r\n      this.selectedNodes = [...this.getCheckedNodeList()];\r\n    }\r\n  }\r\n\r\n  updatePosition(): void {\r\n    setTimeout(() => {\r\n      if (this.cdkConnectedOverlay && this.cdkConnectedOverlay.overlayRef) {\r\n        this.cdkConnectedOverlay.overlayRef.updatePosition();\r\n      }\r\n    });\r\n  }\r\n\r\n  onPositionChange(position: ConnectedOverlayPositionChange): void {\r\n    this.dropDownPosition = position.connectionPair.originY;\r\n  }\r\n\r\n  updateInputWidth(): void {\r\n    if (this.isMultiple && this.inputElement) {\r\n      if (this.inputValue || this.isComposing) {\r\n        this.renderer.setStyle(\r\n          this.inputElement.nativeElement,\r\n          'width',\r\n          `${this.inputElement.nativeElement.scrollWidth}px`\r\n        );\r\n      } else {\r\n        this.renderer.removeStyle(this.inputElement.nativeElement, 'width');\r\n      }\r\n    }\r\n  }\r\n\r\n  onClearSelection($event: MouseEvent): void {\r\n    $event.stopPropagation();\r\n    $event.preventDefault();\r\n    this.selectedNodes.forEach(node => {\r\n      this.removeSelected(node, false);\r\n    });\r\n    this.cleared.emit();\r\n  }\r\n\r\n  setSearchValues($event: NzFormatEmitEvent): void {\r\n    Promise.resolve().then(() => {\r\n      this.isNotFound = (this.showSearch || this.isMultiple) && !!this.inputValue && $event.matchedKeys!.length === 0;\r\n    });\r\n  }\r\n\r\n  updateCdkConnectedOverlayStatus(): void {\r\n    this.triggerWidth = this.cdkOverlayOrigin.elementRef.nativeElement.getBoundingClientRect().width;\r\n  }\r\n\r\n  trackValue(_index: number, option: NzTreeNode): string {\r\n    return option.key!;\r\n  }\r\n}\r\n","import {\r\n  AfterContentChecked,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Input, OnChanges,\r\n  OnInit,\r\n  Output,\r\n  Renderer2, SimpleChanges,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\n\r\nimport { NzUpdateHostClassService } from 'ng-zorro-antd/core';\r\nimport {TabChangeEvent} from \"../cmacs-tabs/cmacs-tabset.component\";\r\nimport {CmacsTabComponent} from \"../cmacs-tabs/cmacs-tab.component\";\r\nimport {getISOWeek, getISOWeeksInYear, getISOYear, getMonth} from \"date-fns\";\r\nimport {InputBoolean, PresetRanges} from \"ng-zorro-antd\";\r\nimport * as moment_ from 'moment';\r\nimport 'moment/locale/en-ie';\r\nconst moment = moment_;\r\n\r\nexport type CmacsTimelineDatePickerMode = 'week' | 'quarter' | 'month' | 'week-range' | 'month-range';\r\n\r\n@Component({\r\n  selector: 'cmacs-timeline-datepicker',\r\n  exportAs: 'cmacsTimelineDatepicker',\r\n  templateUrl: './cmacs-timeline-datepicker.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  preserveWhitespaces: false,\r\n  providers: [NzUpdateHostClassService],\r\n  styleUrls: ['./cmacs-timeline-datepicker.component.css'],\r\n  styles: [\r\n    `\r\n      cmacs-timeline-datepicker {\r\n        display: block;\r\n        border-radius: 3px;\r\n        box-shadow: 0 3px 7px 0 rgba(59, 63, 70, 0.15);\r\n        background-color: #ffffff;\r\n        padding: 7px 0 4px 0 !important;\r\n      }\r\n    `\r\n  ]\r\n})\r\nexport class CmacsTimelineDatepickerComponent implements AfterContentChecked, OnInit, OnChanges {\r\n  private indexToSelect: number | null = 0;\r\n  private el: HTMLElement = this.elementRef.nativeElement;\r\n  private _selectedIndex: number | null = null;\r\n  private _selectedRangeIdxs: number[] = [];\r\n  private _date: Date | null = new Date();\r\n  private _range: Date[] = [];\r\n  listOfNzTabComponent: any[];\r\n\r\n  @Input() gutter: number = 2;\r\n  @Input() mode: CmacsTimelineDatePickerMode = 'week';\r\n  @Input() @InputBoolean() restrictMode = false;\r\n  @Input() @InputBoolean() ranged = false;\r\n  @Input() weekLocale = {week : {dow : 0, doy: 6}};\r\n  @Input() locale = 'en';\r\n  @Output() readonly onNextClick = new EventEmitter<void>();\r\n  @Output() readonly onPrevClick = new EventEmitter<void>();\r\n\r\n  @Output() readonly selectChange: EventEmitter<TabChangeEvent> = new EventEmitter<TabChangeEvent>(true);\r\n  @Output() readonly selectedIndexChange: EventEmitter<number> = new EventEmitter<number>();\r\n  @Output() readonly dateChange: EventEmitter<Date> = new EventEmitter<Date>();\r\n  @Output() readonly rangeChange: EventEmitter<Date[]> = new EventEmitter<Date[]>();\r\n  @Output() modeChange: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n  modeOptions = [\r\n    {title: 'Week', value: 'week', selected: true},\r\n    {title: 'Month', value: 'month', selected: false}\r\n    ];\r\n\r\n  @Input()\r\n  set selectedIndex(value: number | null) {\r\n    this.indexToSelect = value;\r\n  }\r\n\r\n  get selectedIndex(): number | null {\r\n    return this._selectedIndex;\r\n  }\r\n\r\n  @Input()\r\n  set selectedRangeIdxs(value: number[]) {\r\n    this._selectedRangeIdxs = value;\r\n  }\r\n\r\n  get selectedRangeIdxs(): number[] {\r\n    return this._selectedRangeIdxs;\r\n  }\r\n\r\n  @Input()\r\n  set date(value: Date | null) {\r\n    if (value !== null) {\r\n      this._date = value;\r\n      if (this.mode === 'week') {\r\n        this.selectedIndex = this.getWeekNumber(value) - 1;\r\n      } else if (this.mode === 'month') {\r\n        this.selectedIndex = value.getMonth();\r\n      }\r\n    }\r\n  }\r\n\r\n  @Input()\r\n  set range(range: Date[]) {\r\n    if (range !== null && range.length) {\r\n      this._range = range;\r\n      let stDateYear = getISOYear(this.range[0]);\r\n      const ndDateYear = getISOYear(this.range[1]);\r\n      if (getISOYear(this.range[0]) === getISOYear(this.range[1])) {\r\n        if (this.mode === 'week') {\r\n          this.selectedRangeIdxs = [this.getWeekNumber(this._range[0]) - 1, this.getWeekNumber(this._range[1]) - 1];\r\n        } else {\r\n          this.selectedRangeIdxs = [getMonth(this._range[0]), getMonth(this._range[1])];\r\n        }\r\n      } else {\r\n        if (this.mode === 'week') {\r\n          let sumWeeks = 0;\r\n          while(ndDateYear - stDateYear) {\r\n            sumWeeks += getISOWeeksInYear(new Date(stDateYear));\r\n            stDateYear++;\r\n          }\r\n          this.selectedRangeIdxs = [this.getWeekNumber(this._range[0]) - 1, sumWeeks + this.getWeekNumber(this._range[1]) - 1];\r\n        } else {\r\n          this.selectedRangeIdxs = [getMonth(this._range[0]), 12*(ndDateYear - stDateYear) + getMonth(this._range[1])];\r\n        }\r\n      }\r\n      this.selectedIndex = this._selectedRangeIdxs[0];\r\n\r\n      this.listOfNzTabComponent = this.getValuesSlider();\r\n    }\r\n  }\r\n\r\n  get range(): Date[] | null {\r\n    return this._range;\r\n  }\r\n\r\n  onChange(range: Date[]): void {\r\n    if (range !== null) {\r\n      this.range = range;\r\n      this.rangeChange.emit(range);\r\n    }\r\n  }\r\n\r\n  get date(): Date | null {\r\n    return this._date;\r\n  }\r\n\r\n  getWeek(result: Date): void {\r\n    if (result !== null) {\r\n      this.dateChange.emit(result);\r\n    }\r\n  }\r\n\r\n  setClassMap(): void {\r\n    this.nzUpdateHostClassService.updateHostClass(this.el, {\r\n      [`ant-tabs`]: true,\r\n      [`ant-tabs-line`]: true\r\n    });\r\n  }\r\n\r\n  getWeekNumber(date){\r\n    const month = moment(date).month();\r\n    moment.updateLocale(this.locale, this.weekLocale);\r\n    const week = moment(date).week();\r\n    const weeksInYear = getISOWeeksInYear(date);\r\n    if (month === 11 && week === 1) {\r\n      return weeksInYear;\r\n    }\r\n    return week;\r\n  }\r\n\r\n  clickLabel(index: number, disabled: boolean): void {\r\n    if (!disabled && this._date !== null) {\r\n      if (!this.ranged) {\r\n        this.selectedIndex = index;\r\n        if (this.mode === 'week') {\r\n          const d = new Date(this._date.getFullYear(), 0, 1);\r\n          d.setDate(d.getDate() + (index * 7));\r\n          this.date = d;\r\n          this.dateChange.emit(this.date);\r\n        }\r\n\r\n        if (this.mode === 'month') {\r\n          const d = new Date(this._date.getFullYear(), index, 1);\r\n          this.date = d;\r\n          this.dateChange.emit(this.date);\r\n        }\r\n      } else {\r\n        this.selectedRangeIdxs = [index, index];\r\n        if (this.mode === 'week') {\r\n          const d = new Date(this._date.getFullYear(), 0, 1);\r\n          d.setDate(d.getDate() + (index * 7));\r\n          this.range = [d, d];\r\n          this.rangeChange.emit(this.range);\r\n        }\r\n        if (this.mode === 'month') {\r\n          const start = new Date(this._date.getFullYear(), index, 1);\r\n          const end = new Date(this._date.getFullYear(), index + 1, 0);\r\n          this.range = [start, end];\r\n          this.rangeChange.emit(this.range);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  createChangeEvent(index: number): TabChangeEvent {\r\n    const event = new TabChangeEvent();\r\n    event.index = index;\r\n    if (this.listOfNzTabComponent && this.listOfNzTabComponent.length) {\r\n      event.tab = this.listOfNzTabComponent[index];\r\n      this.listOfNzTabComponent.forEach((item, i) => {\r\n        if (i !== index) {\r\n          item.deselect.emit();\r\n        }\r\n      });\r\n      event.tab.select.emit();\r\n    }\r\n    return event;\r\n  }\r\n\r\n  /** Clamps the given index to the bounds of 0 and the tabs length. */\r\n  private clampTabIndex(index: number | null): number {\r\n    // Note the `|| 0`, which ensures that values like NaN can't get through\r\n    // and which would otherwise throw the component into an infinite loop\r\n    // (since Math.max(NaN, 0) === NaN).\r\n    return Math.min(this.listOfNzTabComponent.length - 1, Math.max(index || 0, 0));\r\n  }\r\n\r\n  constructor(\r\n    private renderer: Renderer2,\r\n    private nzUpdateHostClassService: NzUpdateHostClassService,\r\n    private elementRef: ElementRef,\r\n    private cdr: ChangeDetectorRef\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.setClassMap();\r\n    this.updateSelectedMode();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges){\r\n    if (changes.mode) {\r\n      this.updateSelectedMode();\r\n    }\r\n  }\r\n\r\n  updateSelectedMode(){\r\n    this.modeOptions.forEach(mode => {\r\n      mode.selected = mode.value === this.mode;\r\n    });\r\n    this.listOfNzTabComponent = this.getValuesSlider();\r\n    if (this.ranged) {\r\n      this.range = this.range;\r\n    }\r\n  }\r\n\r\n  getValuesSlider() {\r\n    if (this.mode === 'week' && !this.ranged) {\r\n      this.date = this.date;\r\n      return this.getWeeksInYear(this.date);\r\n    } else if (this.mode === 'month') {\r\n      this.date = this.date;\r\n      if (this.range.length) {\r\n        let stDateYear = getISOYear(this.range[0]);\r\n        const ndDateYear = getISOYear(this.range[1]);\r\n        if (stDateYear !== ndDateYear) {\r\n          let rangedMonth = this.getDefaultMonths();\r\n          while(ndDateYear - stDateYear) {\r\n            stDateYear++;\r\n            rangedMonth = rangedMonth.concat(this.getDefaultMonths());\r\n          }\r\n          return rangedMonth;\r\n        }\r\n        return this.getDefaultMonths();\r\n      }\r\n      return this.getDefaultMonths();\r\n    } else if (this.mode === 'week' && this.ranged) {\r\n      if (this.range.length) {\r\n        let stDateYear = getISOYear(this.range[0]);\r\n        const ndDateYear = getISOYear(this.range[1]);\r\n        if (stDateYear !== ndDateYear) {\r\n          let rangedWeeks = this.getWeeksInYear(new Date(stDateYear));\r\n          while(ndDateYear - stDateYear) {\r\n            rangedWeeks = rangedWeeks.concat(this.getWeeksInYear(new Date(stDateYear)));\r\n            stDateYear++;\r\n          }\r\n          return rangedWeeks;\r\n        }\r\n        return this.getWeeksInYear(this.range[0]);\r\n      }\r\n      return this.getWeeksInYear(new Date());\r\n    }\r\n  }\r\n\r\n  getDefaultMonths() {\r\n    return [{title: 'Jan'}, {title: 'Feb'}, {title: 'Mar'}, {title: 'Apr'}, {title: 'May'}, {title: 'Jun'},\r\n      {title: 'Jul'}, {title: 'Aug'}, {title: 'Sep'}, {title: 'Oct'}, {title: 'Nov'}, {title: 'Dec'}];\r\n  }\r\n\r\n  getWeeksInYear(date: Date) {\r\n    let temp = [];\r\n    const length = getISOWeeksInYear(date);\r\n    for(let i = 0; i < length; i++) {\r\n      temp.push({title: this.formatWeekNumber(i + 1)});\r\n    }\r\n    return temp;\r\n  }\r\n\r\n  formatWeekNumber(value: number) {\r\n    return (\"0\" + value).slice(-2);\r\n  }\r\n\r\n  ngAfterContentChecked(): void {\r\n    //this.updateSlider();\r\n    if (this.listOfNzTabComponent && this.listOfNzTabComponent.length) {\r\n      // Don't clamp the `indexToSelect` immediately in the setter because it can happen that\r\n      // the amount of tabs changes before the actual change detection runs.\r\n      const indexToSelect = (this.indexToSelect = this.clampTabIndex(this.indexToSelect));\r\n      // If there is a change in selected index, emit a change event. Should not trigger if\r\n      // the selected index has not yet been initialized.\r\n      if (this._selectedIndex !== indexToSelect) {\r\n        const isFirstRun = this._selectedIndex == null;\r\n        /*if (!isFirstRun) {\r\n          this.selectChange.emit(this.createChangeEvent(indexToSelect));\r\n        }*/\r\n\r\n        // Changing these values after change detection has run\r\n        // since the checked content may contain references to them.\r\n        Promise.resolve().then(() => {\r\n          this.listOfNzTabComponent.forEach((tab, index) => (tab.isActive = index === indexToSelect));\r\n\r\n          if (!isFirstRun) {\r\n            this.selectedIndexChange.emit(indexToSelect);\r\n          }\r\n        });\r\n      }\r\n\r\n      // Setup the position for each tab and optionally setup an origin on the next selected tab.\r\n      this.listOfNzTabComponent.forEach((tab: CmacsTabComponent, index: number) => {\r\n        tab.position = index - indexToSelect;\r\n\r\n        // If there is already a selected tab, then set up an origin for the next selected tab\r\n        // if it doesn't have one already.\r\n        if (this._selectedIndex != null && tab.position === 0 && !tab.origin) {\r\n          tab.origin = indexToSelect - this._selectedIndex;\r\n        }\r\n      });\r\n\r\n      if (this._selectedIndex !== indexToSelect) {\r\n        this._selectedIndex = indexToSelect;\r\n        this.cdr.markForCheck();\r\n      }\r\n    }\r\n  }\r\n\r\n  customSelect(index: number) {\r\n    this.modeOptions.forEach((option) => {\r\n      option.selected = false;\r\n    });\r\n    this.modeOptions[index].selected = true;\r\n    this.mode = this.modeOptions[index].value as CmacsTimelineDatePickerMode;\r\n    this.modeChange.emit(this.mode);\r\n    this.listOfNzTabComponent = this.getValuesSlider();\r\n    if (this.ranged) {\r\n      this.range = this.range;\r\n    }\r\n  }\r\n\r\n  getSelected(){\r\n    return this.modeOptions.filter(item => item.selected);\r\n  }\r\n\r\n  getMonth(result: Date): void {\r\n    this.dateChange.emit(result);\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","import {\r\n  Component,\r\n  ViewEncapsulation,\r\n  Input, EventEmitter, Output, OnChanges, SimpleChanges, OnInit, ElementRef\r\n} from '@angular/core';\r\nimport {InputBoolean, UploadFile} from \"ng-zorro-antd\";\r\nimport * as XLSX from \"xlsx\";\r\n\r\nexport interface CmacsConfigItemLoader {\r\n  PropertyId: string;\r\n  DisplayName: string;\r\n  Required: boolean;\r\n  MatchedColumn: string;\r\n}\r\n\r\n\r\n@Component({\r\n  selector: 'cmacs-xlsx-loader',\r\n  exportAs: 'cmacsXlsxLoader',\r\n  templateUrl: './cmacs-xlsx-loader.component.html',\r\n  encapsulation: ViewEncapsulation.None,\r\n  preserveWhitespaces: false,\r\n  styleUrls: ['./cmacs-xlsx-loader.component.css']\r\n})\r\nexport class CmacsXlsxLoaderComponent implements OnInit, OnChanges{\r\n\r\n  headers = [];\r\n  data = [];\r\n\r\n  @Input() configuration: CmacsConfigItemLoader[];\r\n  @Input() modalTitle: string = '';\r\n  @Input() @InputBoolean() visible = false;\r\n  @Input() saveBtnLabel: string = '';\r\n  @Input() cancelBtnLabel: string = '';\r\n  @Input() placeholder: string = 'Select Column';\r\n  @Input() cmacsStyle = {};\r\n  @Input() files = [];\r\n  @Input() width: number | string;\r\n  @Input() infoTemplate: ElementRef = null;\r\n\r\n  @Output() configurationChange: EventEmitter<any> = new EventEmitter<any>();\r\n  @Output() onsave: EventEmitter<any> = new EventEmitter<any>();\r\n  @Output() visibleChange: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n  constructor() {\r\n  }\r\n\r\n  ngOnInit(){\r\n    if (this.visible) {\r\n      this.parseXlsx();\r\n    }\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (changes.visible && changes.visible.currentValue) {\r\n      this.parseXlsx();\r\n    }\r\n  }\r\n\r\n  onVisibleChange($event) {\r\n    this.files = [];\r\n    this.data = [];\r\n    this.headers = [];\r\n    this.visibleChange.emit(this.visible);\r\n  }\r\n\r\n  saveConfig() {\r\n    const originalHeaders = [];\r\n    const matchedHeaders = [];\r\n    this.headers.forEach(header => {\r\n      originalHeaders.push(header.display);\r\n      matchedHeaders.push(header.matchedColumn);\r\n    });\r\n    this.data[0].unshift(matchedHeaders);\r\n    this.data[0].unshift(originalHeaders);\r\n    this.configurationChange.emit(this.configuration);\r\n    this.onsave.emit(this.data);\r\n    this.visible = false;\r\n    this.onVisibleChange(false);\r\n  }\r\n\r\n  handleCancel() {\r\n    this.visible = false;\r\n    this.onVisibleChange(false);\r\n  }\r\n\r\n  parseXlsx() {\r\n    this.data = [];\r\n    this.headers = [];\r\n    this.configuration.forEach(config => {\r\n      config.MatchedColumn = null;\r\n    });\r\n\r\n    if (this.files.length !== 1) throw new Error('Cannot use multiple files or file is empty');\r\n    const reader: FileReader = new FileReader();\r\n    reader.onload = (e: any) => {\r\n      /* read workbook */\r\n      const bstr: string = e.target.result;\r\n      const wb: XLSX.WorkBook = XLSX.read(bstr, {type: 'binary'});\r\n\r\n      const sheets = wb.SheetNames;\r\n      sheets.forEach((wsname) => {\r\n        const ws: XLSX.WorkSheet = wb.Sheets[wsname];\r\n        this.data.push(XLSX.utils.sheet_to_json(ws, {header: 1, blankrows: false, dateNF: 'MM/dd/yyyy'}));\r\n      });\r\n      if (this.data && this.data.length && this.data[0].length){\r\n        this.createHeaders(this.data[0][0]);\r\n        this.data[0] = this.data[0].slice(1);\r\n      }\r\n    };\r\n    const file = this.files[0] as any;\r\n    reader.readAsBinaryString(file);\r\n  }\r\n\r\n  createHeaders(data){\r\n    data.forEach(header => {\r\n      const value = header.toLowerCase();\r\n      let matchedColumn = this.configuration.filter(item => item.DisplayName.toLowerCase() === value);\r\n      if (matchedColumn.length) {\r\n        matchedColumn[0].MatchedColumn = header;\r\n      }\r\n      let temp = {\r\n        display: header,\r\n        matchedColumn: matchedColumn.length ? matchedColumn[0].PropertyId : null\r\n      };\r\n      this.headers.push(temp);\r\n    });\r\n\r\n  }\r\n\r\n  onSelectionChange($event, header) {\r\n    const previousSelected = this.configuration.filter(item => item.MatchedColumn === header.display);\r\n    if (previousSelected.length) {\r\n      previousSelected[0].MatchedColumn = null;\r\n    }\r\n    if ($event) {\r\n      const config = this.configuration.filter(item => item.PropertyId === $event)[0];\r\n      config.MatchedColumn = header.display;\r\n    }\r\n  }\r\n\r\n  disableSaveBtn() {\r\n    const requiredNotMatched = this.configuration.filter(item => item.Required && !item.MatchedColumn).length;\r\n    if (requiredNotMatched) {\r\n      return true;\r\n    }\r\n    // const matched = this.configuration.filter(item => item.MatchedColumn !== null).length;\r\n    /*if (matched !== this.headers.length) {\r\n      return true;\r\n    }*/\r\n  }\r\n\r\n  getLabel(config) {\r\n    return config.DisplayName;\r\n  }\r\n\r\n}\r\n","import {\r\n  Component,\r\n  EventEmitter,\r\n  Input,\r\n  Output,\r\n  OnInit,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'cmacs-editor',\r\n  exportAs: 'cmacsEditor',\r\n  templateUrl: './cmacs-editor.component.html',\r\n  styleUrls: ['./cmacs-editor.component.css'],\r\n\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class CmacsEditorComponent implements OnInit {\r\n\r\n  showEditor = false;\r\n  @Output() oninit: EventEmitter<any> = new EventEmitter<any>();\r\n  @Output() onchange: EventEmitter<any> = new EventEmitter<any>();\r\n  @Output() onblur: EventEmitter<any> = new EventEmitter<any>();\r\n  @Output() onkeyup: EventEmitter<any> = new EventEmitter<any>();\r\n  @Input() disabled!: boolean;\r\n  @Input() height = '250px';\r\n  @Input() statusbar = false;\r\n  @Input() resize = false;\r\n  // tslint:disable-next-line: max-line-length\r\n  @Input() toolbarmobile = ['bold', 'italic', 'underline', 'strikethrough', 'alignleft', 'aligncenter', 'alignright', 'alignjustify', 'bullist', 'numlist', 'forecolor'];\r\n  @Input() toolbar = 'bold italic underline strikethrough  | alignleft aligncenter alignright alignjustify | bullist numlist | forecolor';\r\n  @Input() tinyMceSettings!: any;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n\r\n    if (this.tinyMceSettings === undefined) {\r\n      this.tinyMceSettings = {\r\n        mobile: {\r\n          theme: 'mobile',\r\n          plugins: ['image table textcolor'],\r\n          toolbar: this.toolbarmobile\r\n        },\r\n        menubar: false,\r\n        image_title: true,\r\n        resize: this.resize,\r\n        automatic_uploads: true,\r\n        height: this.height,\r\n        statusbar: this.statusbar,\r\n        file_picker_types: 'image',\r\n        images_upload_url: '#',\r\n        setup: (editor: any) => {\r\n          editor.on('init', (obj) => {\r\n            this.oninit.emit(obj);\r\n          });\r\n          editor.on('blur', (obj) => {\r\n            this.onblur.emit(obj);\r\n          });\r\n          editor.on('keyup', (obj) => {\r\n            this.onkeyup.emit(obj);\r\n          });\r\n          editor.on('Change', (obj) => {\r\n            this.onchange.emit(obj);\r\n          });\r\n        },\r\n        plugins: ['image table textcolor'],\r\n        toolbar: this.toolbar\r\n      };\r\n    }\r\n\r\n    setTimeout(() => {\r\n      this.showEditor = true;\r\n    }, 100);\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { registerLocaleData, CommonModule, DatePipe } from '@angular/common';\r\nimport en from '@angular/common/locales/en';\r\nimport de from '@angular/common/locales/de';\r\nimport { OverlayModule } from '@angular/cdk/overlay';\r\nimport { LayoutModule } from '@angular/cdk/layout';\r\nimport { EditorModule } from '@tinymce/tinymce-angular';\r\nimport { PlatformModule } from '@angular/cdk/platform';\r\nimport { CmacsButtonGroupComponent } from './components/cmacs-button/cmacs-button-group.component';\r\nimport { CmacsButtonComponent } from './components/cmacs-button/cmacs-button.component';\r\nimport { CmacsInputDirective } from './components/cmacs-input/cmacs-input.directive';\r\nimport { CmacsInputNumberComponent } from './components/cmacs-input-number/cmacs-input-number.component';\r\nimport { CmacsInputGroupComponent } from './components/cmacs-input/cmacs-input-group.component';\r\nimport { CmacsHeaderPickerComponent } from './components/cmacs-date-picker/header-picker.component';\r\nimport { CmacsDateRangePickerComponent } from './components/cmacs-date-picker/date-range-picker.component';\r\nimport { CmacsPickerComponent } from './components/cmacs-date-picker/picker.component';\r\nimport { CmacsDatePickerComponent } from './components/cmacs-date-picker/date-picker.component';\r\nimport { CmacsMonthPickerComponent } from './components/cmacs-date-picker/month-picker.component';\r\nimport { CmacsYearPickerComponent } from './components/cmacs-date-picker/year-picker.component';\r\nimport { CmacsWeekPickerComponent } from './components/cmacs-date-picker/week-picker.component';\r\nimport { CmacsRangePickerComponent } from './components/cmacs-date-picker/range-picker.component';\r\nimport { CmacsTimePickerComponent } from './components/cmacs-time-picker/cmacs-time-picker.component';\r\nimport { CmacsWizardComponent } from './components/cmacs-steps/cmacs-wizard.component';\r\nimport { CmacsCheckboxComponent } from './components/cmacs-checkbox/cmacs-checkbox.component';\r\nimport { CmacsCheckboxWrapperComponent } from './components/cmacs-checkbox/cmacs-checkbox-wrapper.component';\r\nimport { CmacsCheckboxGroupComponent } from './components/cmacs-checkbox/cmacs-checkbox-group.component';\r\nimport { CmacsRadioComponent } from './components/cmacs-radio/cmacs-radio.component';\r\nimport { CmacsRadioButtonComponent } from './components/cmacs-radio/cmacs-radio-button.component';\r\nimport { CmacsRadioGroupComponent } from './components/cmacs-radio/cmacs-radio-group.component';\r\nimport { CmacsTagComponent } from './components/cmacs-tag/cmacs-tag.component';\r\nimport { CmacsTimelineComponent } from './components/cmacs-timeline/cmacs-timeline.components';\r\nimport { CmacsTimelineItemComponent } from './components/cmacs-timeline/cmacs-timeline-item.component';\r\nimport { CmacsStringTemplateOutletDirective } from './components/core/string_template_outlet';\r\nimport { CmacsMenuDividerDirective } from './components/cmacs-menu/cmacs-menu-divider.directive';\r\nimport { CmacsMenuGroupComponent } from './components/cmacs-menu/cmacs-menu-group.component';\r\nimport { CmacsMenuItemDirective } from './components/cmacs-menu/cmacs-menu-item.directive';\r\nimport { CmacsMenuDirective } from './components/cmacs-menu/cmacs-menu.directive';\r\nimport { CmacsSubMenuComponent } from './components/cmacs-menu/cmacs-submenu.component';\r\nimport { CmacsGridComponent } from './components/cmacs-grid/cmacs-table.component';\r\nimport { CmacsTreeComponent } from './components/cmacs-tree/cmacs-tree.component';\r\nimport { CmacsTreeNodeComponent } from './components/cmacs-tree/cmacs-tree-node.component';\r\nimport { CmacsSelectComponent } from './components/cmacs-select/cmacs-select.component';\r\nimport { CmacsOptionComponent } from './components/cmacs-select/cmacs-option.component';\r\nimport { CmacsSelectTopControlComponent } from './components/cmacs-select/cmacs-select-top-control.component';\r\nimport { CmacsSearchComponent } from './components/cmacs-search/cmacs-search.component';\r\nimport { CmacsStepComponent } from './components/cmacs-steps/cmacs-step.component';\r\nimport { CmacsModalComponent } from './components/cmacs-modal/cmacs-modal.component';\r\nimport { CmacsToCssUnitPipe } from './components/cmacs-modal/cmacs-to-css-unit.pipe';\r\nimport { CmacsBreadcrumbComponent } from './components/cmacs-breadcrumb/cmacs-breadcrumb.component';\r\nimport { CmacsBreadcrumbItemComponent } from './components/cmacs-breadcrumb/cmacs-breadcrumb-item.component';\r\nimport { CmacsCardComponent } from './components/cmacs-card/cmacs-card.component';\r\nimport { CmacsCardTabComponent } from './components/cmacs-card/cmacs-card-tab.component';\r\nimport { CmacsCardLoadingComponent } from './components/cmacs-card/cmacs-card-loading.component';\r\nimport { CmacsCardMetaComponent } from './components/cmacs-card/cmacs-card-meta.component';\r\nimport { CmacsCardGridDirective } from './components/cmacs-card/cmacs-card-grid.directive';\r\nimport { CmacsDateCellDirective, CmacsDateFullCellDirective, CmacsMonthCellDirective, CmacsMonthFullCellDirective } from './components/cmacs-calendar/cmacs-calendar-cell.directive';\r\nimport { CmacsCalendarHeaderComponent } from './components/cmacs-calendar/cmacs-calendar-header.component';\r\nimport { CmacsCalendarComponent } from './components/cmacs-calendar/cmacs-calendar.component';\r\nimport { NgZorroAntdModule, NZ_I18N, en_US, de_DE, CssUnitPipe, NzNoAnimationModule, NzOverlayModule } from 'ng-zorro-antd';\r\nimport { NzIconModule } from 'ng-zorro-antd/icon';\r\nimport { NzGridModule } from 'ng-zorro-antd/grid';\r\nimport { LibPackerModule } from './components/cmacs-date-picker/lib/lib-packer.module';\r\nimport { ExportAsModule } from 'ngx-export-as';\r\nimport { NzMenuModule } from 'ng-zorro-antd/menu';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { NgxChartsModule } from '@swimlane/ngx-charts';\r\nimport {\r\n  CmacsNormalizedHorizontalBarGroupedComponent\r\n} from './components/cmacs-normalized-horizontal-bar-grouped/cmacs-normalized-horizontal-bar-grouped.component';\r\nimport {\r\n  CmacsNormalizedHorizontalBarChartComponent\r\n} from './components/cmacs-normalized-horizontal-bar-chart/cmacs-normalized-horizontal-bar-chart.component';\r\nimport { CmacsGeneralChartComponent } from './components/cmacs-general-chart/cmacs-general-chart.component';\r\nimport { CmacsComboChartComponent } from './components/cmacs-combo-chart/cmacs-combo-chart.component';\r\nimport { CmacsComboSeriesVerticalComponent } from './components/cmacs-combo-series-vertical/cmacs-combo-series-vertical.component';\r\nimport { CmacsKPIOverviewComponent } from './components/cmacs-kpioverview/cmacs-kpioverview.component';\r\nimport { CmacsKpiGroupComponent } from './components/cmacs-kpi-group/cmacs-kpi-group.component';\r\nimport { CmacsStatusDistributionComponent } from './components/cmacs-status-distribution/cmacs-status-distribution.component';\r\nimport { CmacsDropdownADirective } from './components/cmacs-dropdown/cmacs-dropdown-a.directive';\r\nimport { CmacsDropdownButtonComponent } from './components/cmacs-dropdown/cmacs-dropdown-button.component';\r\nimport { CmacsDropdownContextComponent } from './components/cmacs-dropdown/cmacs-dropdown-context.component';\r\nimport { CmacsDropdownComponent } from './components/cmacs-dropdown/cmacs-dropdown.component';\r\nimport { CmacsDropdownDirective } from './components/cmacs-dropdown/cmacs-dropdown.directive';\r\nimport { CmacsDropdownService } from './components/cmacs-dropdown/cmacs-dropdown.service';\r\nimport { CmacsDividerComponent } from './components/cmacs-divider/cmacs-divider.component';\r\nimport { CmacsFormControlComponent } from './components/cmacs-form/cmacs-form-control.component';\r\nimport { CmacsFormExplainComponent } from './components/cmacs-form/cmacs-form-explain.component';\r\nimport { CmacsFormExtraComponent } from './components/cmacs-form/cmacs-form-extra.component';\r\nimport { CmacsFormItemComponent } from './components/cmacs-form/cmacs-form-item.component';\r\nimport { CmacsFormLabelComponent } from './components/cmacs-form/cmacs-form-label.component';\r\nimport { CmacsFormSplitComponent } from './components/cmacs-form/cmacs-form-split.component';\r\nimport { CmacsFormTextComponent } from './components/cmacs-form/cmacs-form-text.component';\r\nimport { CmacsFormDirective } from './components/cmacs-form/cmacs-form.directive';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { CmacsProgressComponent } from './components/cmacs-progress/cmacs-progress.component';\r\nimport { CmacsFloatingMenuComponent } from './components/cmacs-floating-menu/cmacs-floating-menu.component';\r\nimport { CmacsOptionContainerComponent } from './components/cmacs-select/cmacs-option-container.component';\r\nimport { CmacsOptionGroupComponent } from './components/cmacs-select/cmacs-option-group.component';\r\nimport { CmacsOptionLiComponent } from './components/cmacs-select/cmacs-option-li.component';\r\nimport { NzFilterGroupOptionPipe, NzFilterOptionPipe } from './components/cmacs-select/cmacs-option.pipe';\r\nimport { CmacsSelectUnselectableDirective } from './components/cmacs-select/cmacs-select-unselectable.directive';\r\nimport { CmacsKanbanComponent } from './components/cmacs-kanban/cmacs-kanban.component';\r\nimport { CmacsAlertComponent } from \"./components/cmacs-alert/cmacs-alert.component\";\r\nimport {\r\n  CmacsCommentActionComponent,\r\n  CmacsCommentAvatarDirective,\r\n  CmacsCommentActionHostDirective,\r\n  CmacsCommentContentDirective\r\n} from \"./components/cmacs-comments/cmacs-comment-cells\";\r\nimport { CmacsCommentComponent } from \"./components/cmacs-comments/cmacs-comment.component\";\r\nimport { CmacsSliderTrackComponent } from \"./components/cmacs-slider/cmacs-slider-track.component\";\r\nimport { CmacsSliderHandleComponent } from \"./components/cmacs-slider/cmacs-slider-handle.component\";\r\nimport { CmacsSliderMarksComponent } from \"./components/cmacs-slider/cmacs-slider-marks.component\";\r\nimport { CmacsSliderStepComponent } from \"./components/cmacs-slider/cmacs-slider-step.component\";\r\nimport { CmacsSliderComponent } from \"./components/cmacs-slider/cmacs-slider.component\";\r\nimport { NzI18nModule } from 'ng-zorro-antd/i18n';\r\n\r\nimport { CmacsVideoPlayerComponent } from \"./components/cmacs-video-player/cmacs-video-player.component\";\r\nimport { VgControlsModule } from 'videogular2/compiled/controls';\r\nimport { VgOverlayPlayModule } from 'videogular2/compiled/overlay-play';\r\nimport { VgBufferingModule } from 'videogular2/compiled/buffering';\r\nimport { VgCoreModule } from 'videogular2/compiled/core';\r\nimport { Ng2TelInputModule } from 'ng2-tel-input';\r\nimport { DragDropModule } from '@angular/cdk/drag-drop';\r\n\r\n\r\nimport * as addMonths from 'date-fns/add_months';\r\nimport * as addYears from 'date-fns/add_years';\r\nimport * as endOfMonth from 'date-fns/end_of_month';\r\nimport * as setDay from 'date-fns/set_day';\r\nimport * as setMonth from 'date-fns/set_month';\r\n\r\nimport { CmacsDateTimePickerComponent } from \"./components/cmacs-datetime-picker/cmacs-datetime-picker.component\";\r\nimport { CmacsDatetimePickerPanelComponent } from \"./components/cmacs-datetime-picker/cmacs-datetime-picker-panel.component\";\r\nimport { CmacsDatetimeValueAccessorDirective } from \"./components/cmacs-datetime-picker/cmacs-datetime-value-accessor.directive\";\r\nimport { CmacsPhoneNumberComponent } from \"./components/cmacs-phone-number/cmacs-phone-number.component\";\r\n\r\nimport {CmacsColorPickerComponent} from \"./components/cmacs-color-picker/cmacs-color-picker.component\";\r\nimport {CmacsSwitchComponent} from \"./components/cmacs-switch/cmacs-switch.component\";\r\n\r\nimport { ObserversModule } from '@angular/cdk/observers';\r\nimport { NzAddOnModule } from 'ng-zorro-antd/core';\r\n\r\nimport { CmacsTabDirective} from \"./components/cmacs-tabs/cmacs-tab.directive\";\r\nimport { CmacsTabsNavComponent } from \"./components/cmacs-tabs/cmacs-tabs-nav.component\";\r\nimport {CmacsTabBodyComponent} from \"./components/cmacs-tabs/cmacs-tab-body.component\";\r\nimport {CmacsTabLabelDirective} from \"./components/cmacs-tabs/cmacs-tab-label.directive\";\r\nimport {CmacsTabComponent} from \"./components/cmacs-tabs/cmacs-tab.component\";\r\nimport {CmacsTabsInkBarDirective} from \"./components/cmacs-tabs/cmacs-tabs-ink-bar.directive\";\r\nimport {CmacsTabsetComponent} from \"./components/cmacs-tabs/cmacs-tabset.component\";\r\nimport {CmacsSidePanelComponent} from \"./components/cmacs-side-panel/cmacs-side-panel.component\";\r\nimport {CmacsOpenTextareaComponent} from \"./components/cmacs-open-textarea/cmacs-open-textarea.component\";\r\n\r\nimport { LazyLoadImageModule } from 'ng-lazyload-image';\r\nimport {CmacsMoveableListComponent} from \"./components/cmacs-moveable-list/cmacs-moveable-list.component\";\r\nimport {CmacsGridConfigurationModalComponent} from \"./components/cmacs-grid-configuration-modal/cmacs-grid-configuration-modal.component\";\r\nimport {CmacsOpenInputComponent} from \"./components/cmacs-open-input/cmacs-open-input.component\";\r\nimport {CmacsKpiComponent} from \"./components/cmacs-kpi/cmacs-kpi.component\";\r\nimport {CmacsListComponent} from \"./components/cmacs-list/cmacs-list.component\";\r\nimport {CmacsListItemComponent} from \"./components/cmacs-list/cmacs-list-item.component\";\r\nimport {CmacsListItemMetaComponent} from \"./components/cmacs-list/cmacs-list-item-meta.component\";\r\n\r\nimport { CMACS_MESSAGE_DEFAULT_CONFIG_PROVIDER } from './components/cmacs-message/cmacs-message-config';\r\nimport { CmacsMessageContainerComponent } from './components/cmacs-message/cmacs-message-container.component';\r\nimport { CmacsMessageComponent } from './components/cmacs-message/cmacs-message.component';\r\nimport { CmacsMessageService } from './components/cmacs-message/cmacs-message.service';\r\nimport {CmacsCompactTableComponent} from \"./components/cmacs-compact-table/cmacs-compact-table.component\";\r\n\r\nimport {CmacsSignatureComponent} from \"./components/cmacs-signature/cmacs-signature.component\";\r\nimport { CmacsSectionComponent } from './components/cmacs-section/cmacs-section.component';\r\nimport {CmacsTooltipDirective} from \"./components/cmacs-tooltip/cmacs-tooltip.directive\";\r\nimport {CmacsTooltipComponent} from \"./components/cmacs-tooltip/cmacs-tooltip.component\";\r\nimport {CmacsPopoverComponent} from \"./components/cmacs-popover/cmacs-popover.component\";\r\nimport {CmacsPopoverDirective} from \"./components/cmacs-popover/cmacs-popover.directive\";\r\n\r\nimport {CmacsTreeSelectComponent} from \"./components/cmacs-tree-select/cmacs-tree-select.component\";\r\nimport {CmacsTimelineDatepickerComponent} from \"./components/cmacs-timeline-datepicker/cmacs-timeline-datepicker.component\";\r\nimport {CmacsXlsxLoaderComponent} from \"./components/cmacs-xlsx-loader/cmacs-xlsx-loader.component\";\r\nimport { SignaturePadModule } from 'angular2-signaturepad';\r\nimport { AngularDraggableModule } from 'angular2-draggable';\r\nimport { CmacsEditorComponent } from './components/cmacs-editor/cmacs-editor.component';\r\n\r\nconst CMACS_COMMENT_CELLS = [\r\n  CmacsCommentActionComponent,\r\n  CmacsCommentAvatarDirective,\r\n  CmacsCommentActionHostDirective,\r\n  CmacsCommentContentDirective\r\n];\r\nregisterLocaleData(en);\r\n@NgModule({\r\n  declarations: [\r\n    CmacsEditorComponent,\r\n    CmacsTimelineDatepickerComponent,\r\n    CmacsXlsxLoaderComponent,\r\n    CmacsTreeSelectComponent,\r\n    CmacsPopoverComponent,\r\n    CmacsPopoverDirective,\r\n    CmacsTooltipDirective,\r\n    CmacsTooltipComponent,\r\n    CmacsSectionComponent,\r\n    CmacsMessageContainerComponent,\r\n    CmacsSignatureComponent,\r\n    CmacsMessageComponent,\r\n    CmacsListComponent,\r\n    CmacsCompactTableComponent,\r\n    CmacsListItemComponent,\r\n    CmacsListItemMetaComponent,\r\n    CmacsKpiComponent,\r\n    CmacsOpenInputComponent,\r\n    CmacsGridConfigurationModalComponent,\r\n    CmacsMoveableListComponent,\r\n    CmacsOpenTextareaComponent,\r\n    CmacsTabDirective,\r\n    CmacsTabsNavComponent,\r\n    CmacsTabBodyComponent,\r\n    CmacsTabLabelDirective,\r\n    CmacsTabComponent,\r\n    CmacsTabsInkBarDirective,\r\n    CmacsTabsetComponent,\r\n    CmacsButtonGroupComponent,\r\n    CmacsVideoPlayerComponent,\r\n    CmacsButtonComponent,\r\n    CmacsInputDirective,\r\n    CmacsButtonComponent,\r\n    CmacsInputGroupComponent,\r\n    CmacsInputNumberComponent,\r\n    CmacsHeaderPickerComponent,\r\n    CmacsDateRangePickerComponent,\r\n    CmacsPickerComponent,\r\n    CmacsDatePickerComponent,\r\n    CmacsMonthPickerComponent,\r\n    CmacsYearPickerComponent,\r\n    CmacsWeekPickerComponent,\r\n    CmacsRangePickerComponent,\r\n    CmacsTimePickerComponent,\r\n    CmacsWizardComponent,\r\n    CmacsCheckboxComponent,\r\n    CmacsCheckboxWrapperComponent,\r\n    CmacsCheckboxGroupComponent,\r\n    CmacsRadioComponent,\r\n    CmacsRadioButtonComponent,\r\n    CmacsRadioGroupComponent,\r\n    CmacsTagComponent,\r\n    CmacsTimelineComponent,\r\n    CmacsTimelineItemComponent,\r\n    CmacsStringTemplateOutletDirective,\r\n    CmacsMenuDividerDirective,\r\n    CmacsMenuGroupComponent,\r\n    CmacsMenuItemDirective,\r\n    CmacsMenuDirective,\r\n    CmacsSubMenuComponent,\r\n    CmacsSubMenuComponent,\r\n    CmacsGridComponent,\r\n    CmacsTreeComponent,\r\n    CmacsTreeNodeComponent,\r\n    CmacsSelectComponent,\r\n    CmacsOptionComponent,\r\n    CmacsSelectTopControlComponent,\r\n    CmacsSearchComponent,\r\n    CmacsStepComponent,\r\n    CmacsModalComponent,\r\n    CmacsToCssUnitPipe,\r\n    CmacsBreadcrumbComponent,\r\n    CmacsBreadcrumbItemComponent,\r\n    CmacsCardComponent,\r\n    CmacsCardTabComponent,\r\n    CmacsCardLoadingComponent,\r\n    CmacsCardMetaComponent,\r\n    CmacsCardGridDirective,\r\n    CmacsCalendarComponent,\r\n    CmacsCalendarHeaderComponent,\r\n    CmacsDateCellDirective,\r\n    CmacsDateFullCellDirective,\r\n    CmacsMonthCellDirective,\r\n    CmacsMonthFullCellDirective,\r\n    CmacsGeneralChartComponent,\r\n    CmacsComboChartComponent,\r\n    CmacsComboSeriesVerticalComponent,\r\n    CmacsKpiGroupComponent,\r\n    CmacsKPIOverviewComponent,\r\n    CmacsNormalizedHorizontalBarChartComponent,\r\n    CmacsNormalizedHorizontalBarGroupedComponent,\r\n    CmacsStatusDistributionComponent,\r\n    CmacsDividerComponent,\r\n    CmacsDropdownComponent,\r\n    CmacsDropdownButtonComponent,\r\n    CmacsDropdownDirective,\r\n    CmacsDropdownADirective,\r\n    CmacsDropdownContextComponent,\r\n    CmacsProgressComponent,\r\n    CmacsFloatingMenuComponent,\r\n    CmacsFormExtraComponent,\r\n    CmacsFormLabelComponent,\r\n    CmacsFormDirective,\r\n    CmacsFormItemComponent,\r\n    CmacsFormControlComponent,\r\n    CmacsFormExplainComponent,\r\n    CmacsFormTextComponent,\r\n    CmacsFormSplitComponent,\r\n    NzFilterGroupOptionPipe,\r\n    NzFilterOptionPipe,\r\n    CmacsOptionContainerComponent,\r\n    CmacsOptionGroupComponent,\r\n    CmacsOptionLiComponent,\r\n    CmacsSelectUnselectableDirective,\r\n    CmacsAlertComponent,\r\n    ...CMACS_COMMENT_CELLS,\r\n    CmacsCommentComponent,\r\n    CmacsSliderComponent,\r\n    CmacsSliderHandleComponent,\r\n    CmacsSliderMarksComponent,\r\n    CmacsSliderStepComponent,\r\n    CmacsSliderTrackComponent,\r\n    CmacsKanbanComponent,\r\n    CmacsDateTimePickerComponent,\r\n    CmacsDatetimePickerPanelComponent,\r\n    CmacsDatetimeValueAccessorDirective,\r\n    CmacsPhoneNumberComponent,\r\n    CmacsColorPickerComponent,\r\n    CmacsSwitchComponent,\r\n    CmacsSidePanelComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    OverlayModule,\r\n    LibPackerModule,\r\n    NgZorroAntdModule,\r\n    NzIconModule,\r\n    NzI18nModule,\r\n    NzOverlayModule,\r\n    NzNoAnimationModule,\r\n    NgxChartsModule,\r\n    ExportAsModule,\r\n    NzMenuModule,\r\n    NzGridModule,\r\n    LayoutModule,\r\n    PlatformModule,\r\n    ReactiveFormsModule,\r\n    VgCoreModule,\r\n    VgControlsModule,\r\n    VgOverlayPlayModule,\r\n    VgBufferingModule,\r\n    EditorModule,\r\n    Ng2TelInputModule,\r\n    DragDropModule,\r\n    ObserversModule,\r\n    NzAddOnModule,\r\n    LazyLoadImageModule,\r\n    SignaturePadModule,\r\n    AngularDraggableModule\r\n  ],\r\n  exports: [\r\n    CmacsTimelineDatepickerComponent,\r\n    CmacsEditorComponent,\r\n    CmacsXlsxLoaderComponent,\r\n    CmacsTooltipDirective,\r\n    CmacsTreeSelectComponent,\r\n    CmacsPopoverComponent,\r\n    CmacsPopoverDirective,\r\n    CmacsTooltipComponent,\r\n    CmacsSectionComponent,\r\n    CmacsMessageContainerComponent,\r\n    CmacsSignatureComponent,\r\n    CmacsCompactTableComponent,\r\n    CmacsMessageComponent,\r\n    CmacsListComponent,\r\n    CmacsListItemComponent,\r\n    CmacsListItemMetaComponent,\r\n    CmacsGeneralChartComponent,\r\n    CmacsComboChartComponent,\r\n    CmacsComboSeriesVerticalComponent,\r\n    CmacsKpiComponent,\r\n    CmacsOpenInputComponent,\r\n    CmacsGridConfigurationModalComponent,\r\n    CmacsOpenTextareaComponent,\r\n    CmacsMoveableListComponent,\r\n    CmacsTabDirective,\r\n    CmacsTabsNavComponent,\r\n    CmacsTabBodyComponent,\r\n    CmacsTabLabelDirective,\r\n    CmacsTabComponent,\r\n    CmacsTabsInkBarDirective,\r\n    CmacsTabsetComponent,\r\n    CmacsButtonGroupComponent,\r\n    CmacsButtonComponent,\r\n    CmacsInputDirective,\r\n    CmacsInputGroupComponent,\r\n    CmacsInputNumberComponent,\r\n    CmacsHeaderPickerComponent,\r\n    CmacsDateRangePickerComponent,\r\n    CmacsPickerComponent,\r\n    CmacsDatePickerComponent,\r\n    CmacsMonthPickerComponent,\r\n    CmacsYearPickerComponent,\r\n    CmacsWeekPickerComponent,\r\n    CmacsRangePickerComponent,\r\n    CmacsTimePickerComponent,\r\n    CmacsWizardComponent,\r\n    CmacsCheckboxComponent,\r\n    CmacsCheckboxWrapperComponent,\r\n    CmacsCheckboxGroupComponent,\r\n    CmacsRadioComponent,\r\n    CmacsRadioButtonComponent,\r\n    CmacsRadioGroupComponent,\r\n    CmacsTagComponent,\r\n    CmacsTimelineComponent,\r\n    CmacsTimelineItemComponent,\r\n    CmacsStringTemplateOutletDirective,\r\n    CmacsMenuDividerDirective,\r\n    CmacsMenuGroupComponent,\r\n    CmacsMenuItemDirective,\r\n    CmacsMenuDirective,\r\n    CmacsSubMenuComponent,\r\n    CmacsGridComponent,\r\n    CmacsTreeComponent,\r\n    CmacsTreeNodeComponent,\r\n    CmacsSelectComponent,\r\n    CmacsOptionComponent,\r\n    CmacsSelectTopControlComponent,\r\n    CmacsSearchComponent,\r\n    CmacsStepComponent,\r\n    CmacsModalComponent,\r\n    CmacsToCssUnitPipe,\r\n    CmacsBreadcrumbComponent,\r\n    CmacsBreadcrumbItemComponent,\r\n    CmacsCardComponent,\r\n    CmacsCardTabComponent,\r\n    CmacsCardLoadingComponent,\r\n    CmacsCardMetaComponent,\r\n    CmacsCardGridDirective,\r\n    CmacsCalendarComponent,\r\n    CmacsDateCellDirective,\r\n    CmacsDateFullCellDirective,\r\n    CmacsMonthCellDirective,\r\n    CmacsMonthFullCellDirective,\r\n    LibPackerModule,\r\n    NzMenuModule,\r\n    CmacsKpiGroupComponent,\r\n    CmacsKPIOverviewComponent,\r\n    CmacsNormalizedHorizontalBarChartComponent,\r\n    CmacsNormalizedHorizontalBarGroupedComponent,\r\n    CmacsStatusDistributionComponent,\r\n    CmacsDropdownComponent,\r\n    CmacsDropdownButtonComponent,\r\n    CmacsDropdownDirective,\r\n    CmacsDropdownADirective,\r\n    CmacsDividerComponent,\r\n    CmacsProgressComponent,\r\n    CmacsFloatingMenuComponent,\r\n    CmacsFormExtraComponent,\r\n    CmacsFormLabelComponent,\r\n    CmacsFormDirective,\r\n    CmacsFormItemComponent,\r\n    CmacsFormControlComponent,\r\n    CmacsFormExplainComponent,\r\n    CmacsFormTextComponent,\r\n    CmacsFormSplitComponent,\r\n    NzGridModule,\r\n    NgxChartsModule,\r\n    LayoutModule,\r\n    PlatformModule,\r\n    ReactiveFormsModule,\r\n    CmacsOptionContainerComponent,\r\n    CmacsOptionGroupComponent,\r\n    CmacsOptionLiComponent,\r\n    CmacsSelectUnselectableDirective,\r\n    CmacsAlertComponent,\r\n    ...CMACS_COMMENT_CELLS,\r\n    CmacsCommentComponent,\r\n    CmacsSliderComponent,\r\n    CmacsSliderHandleComponent,\r\n    CmacsSliderMarksComponent,\r\n    CmacsSliderStepComponent,\r\n    CmacsSliderTrackComponent,\r\n    CmacsKanbanComponent,\r\n    CmacsDateTimePickerComponent,\r\n    CmacsDatetimePickerPanelComponent,\r\n    CmacsDatetimeValueAccessorDirective,\r\n    CmacsVideoPlayerComponent,\r\n    CmacsPhoneNumberComponent,\r\n    CmacsColorPickerComponent,\r\n    CmacsSwitchComponent,\r\n    CmacsSidePanelComponent\r\n  ],\r\n  providers: [{ provide: NZ_I18N, useValue: en_US }, DatePipe, CmacsDropdownService, CMACS_MESSAGE_DEFAULT_CONFIG_PROVIDER, CmacsMessageService],\r\n  entryComponents: [\r\n    CmacsModalComponent,\r\n    CmacsDropdownContextComponent,\r\n    CmacsMessageContainerComponent,\r\n    CmacsTooltipComponent,\r\n    CmacsPopoverComponent\r\n  ],\r\n})\r\nexport class CmacsComponentsLibModule { }\r\n","import { Overlay, OverlayRef } from '@angular/cdk/overlay';\r\nimport { ComponentPortal } from '@angular/cdk/portal';\r\nimport { ComponentRef, Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { IndexableObject, LoggerService } from 'ng-zorro-antd/core';\r\nimport { ModalControlService } from './cmacs-modal-control.service';\r\nimport { CmacsModalRef } from './cmacs-modal-ref.class';\r\nimport { CmacsModalComponent } from './cmacs-modal.component';\r\nimport { ConfirmType, ModalOptions, ModalOptionsForService } from './cmacs-modal.type';\r\n\r\n// A builder used for managing service creating modals\r\nexport class ModalBuilderForService {\r\n  private modalRef: ComponentRef<CmacsModalComponent> | null; // Modal ComponentRef, \"null\" means it has been destroyed\r\n  private overlayRef: OverlayRef;\r\n\r\n  constructor(private overlay: Overlay, options: ModalOptionsForService = {}) {\r\n    this.createModal();\r\n\r\n    if (!('getContainer' in options)) {\r\n      // As we use CDK to create modal in service by force, there is no need to use getContainer\r\n      options.getContainer = undefined; // Override getContainer's default value to prevent creating another overlay\r\n    }\r\n\r\n    this.changeProps(options);\r\n    this.modalRef!.instance.open();\r\n    this.modalRef!.instance.afterClose.subscribe(() => this.destroyModal()); // [NOTE] By default, close equals destroy when using as Service\r\n  }\r\n\r\n  getInstance(): CmacsModalComponent | null {\r\n    return this.modalRef && this.modalRef.instance;\r\n  }\r\n\r\n  destroyModal(): void {\r\n    if (this.modalRef) {\r\n      this.overlayRef.dispose();\r\n      this.modalRef = null;\r\n    }\r\n  }\r\n\r\n  private changeProps(options: ModalOptions): void {\r\n    if (this.modalRef) {\r\n      Object.assign(this.modalRef.instance, options); // DANGER: here not limit user's inputs at runtime\r\n    }\r\n  }\r\n\r\n  // Create component to ApplicationRef\r\n  private createModal(): void {\r\n    this.overlayRef = this.overlay.create();\r\n    this.modalRef = this.overlayRef.attach(new ComponentPortal(CmacsModalComponent));\r\n  }\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CmacsModalService {\r\n  // Track of the current close modals (we assume invisible is close this time)\r\n  get openModals(): CmacsModalRef[] {\r\n    return this.modalControl.openModals;\r\n  }\r\n\r\n  get afterAllClose(): Observable<void> {\r\n    return this.modalControl.afterAllClose.asObservable();\r\n  }\r\n\r\n  constructor(private overlay: Overlay, private logger: LoggerService, private modalControl: ModalControlService) {}\r\n\r\n  // Closes all of the currently-open dialogs\r\n  closeAll(): void {\r\n    this.modalControl.closeAll();\r\n  }\r\n\r\n  create<T>(options: ModalOptionsForService<T> = {}): CmacsModalRef<T> {\r\n    if (typeof options.onCancel !== 'function') {\r\n      options.onCancel = () => {}; // Leave a empty function to close this modal by default\r\n    }\r\n\r\n    // NOTE: use CmacsModalComponent as the CmacsModalRef by now, we may need archive the real CmacsModalRef object in the future\r\n    const modalRef = new ModalBuilderForService(this.overlay, options).getInstance()!;\r\n\r\n    return modalRef;\r\n  }\r\n\r\n  confirm<T>(options: ModalOptionsForService<T> = {}, confirmType: ConfirmType = 'confirm'): CmacsModalRef<T> {\r\n    if ('footer' in options) {\r\n      this.logger.warn(`The Confirm-Modal doesn't support \"footer\", this property will be ignored.`);\r\n    }\r\n    if (!('width' in options)) {\r\n      options.width = 416;\r\n    }\r\n    if (typeof options.onOk !== 'function') {\r\n      // NOTE: only support function currently by calling confirm()\r\n      options.onOk = () => {}; // Leave a empty function to close this modal by default\r\n    }\r\n\r\n    options.modalType = 'confirm';\r\n    options.className = `ant-modal-confirm ant-modal-confirm-${confirmType} ${options.className || ''}`;\r\n    options.cmacsMaskClosable = false;\r\n    return this.create(options);\r\n  }\r\n\r\n  info<T>(options: ModalOptionsForService<T> = {}): CmacsModalRef<T> {\r\n    return this.simpleConfirm(options, 'info');\r\n  }\r\n\r\n  success<T>(options: ModalOptionsForService<T> = {}): CmacsModalRef<T> {\r\n    return this.simpleConfirm(options, 'success');\r\n  }\r\n\r\n  error<T>(options: ModalOptionsForService<T> = {}): CmacsModalRef<T> {\r\n    return this.simpleConfirm(options, 'error');\r\n  }\r\n\r\n  warning<T>(options: ModalOptionsForService<T> = {}): CmacsModalRef<T> {\r\n    return this.simpleConfirm(options, 'warning');\r\n  }\r\n\r\n  private simpleConfirm<T>(options: ModalOptionsForService<T> = {}, confirmType: ConfirmType): CmacsModalRef<T> {\r\n    const iconMap: IndexableObject = {\r\n      info: 'info-circle',\r\n      success: 'check-circle',\r\n      error: 'close-circle',\r\n      warning: 'exclamation-circle'\r\n    };\r\n    if (!('iconType' in options)) {\r\n      options.iconType = iconMap[confirmType];\r\n    }\r\n    if (!('cancelText' in options)) {\r\n      // Remove the Cancel button if the user not specify a Cancel button\r\n      options.cmacsCancelText = null;\r\n    }\r\n    return this.confirm(options, confirmType);\r\n  }\r\n}\r\n","export enum ButtonStyle {\r\n    Primary = 'primary',\r\n    Default = 'default',\r\n    Dashed = 'dashed'\r\n}\r\n","export enum ModeTabType {\r\n    Closeable = 'closeable',\r\n    Default = 'default',\r\n    Checkable = 'checkable'\r\n}\r\n"]}